import{r as e,m as a,l as t,W as l,c as s,w as i,i as u,o as d,a as c,v as r,h as v,H as n,J as o,e as m,t as f,f as _,s as h,K as g}from"./index-BEpFFJ6X.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=p({__name:"report-setting",setup(p){const b=e(!0),k=e(1),T=e("19:00"),A=e(!0),C=e(!0),E=e(!0),S=e(!1),x=e(l.bathTimeStart+":00"),V=e(l.bathTimeEnd+":00"),y=["每日","每周","每月"],I=e=>{b.value=e.detail.value},w=e=>{k.value=e.detail.value},P=e=>{T.value=e.detail.value},j=e=>{A.value=e.detail.value},U=e=>{C.value=e.detail.value},H=e=>{E.value=e.detail.value},J=e=>{S.value=e.detail.value},K=e=>{x.value=e.detail.value},W=e=>{V.value=e.detail.value},q=()=>{const e={reportEnabled:b.value,reportPeriod:k.value,reportTime:T.value,pressureAlert:A.value,wearAlert:C.value,batteryAlert:E.value,offlineAlert:S.value,bathStartTime:x.value,bathEndTime:V.value};h("reportSettings",e),g({title:"设置已保存",icon:"success",duration:2e3}),l.bathTimeStart=parseInt(x.value.split(":")[0]),l.bathTimeEnd=parseInt(V.value.split(":")[0])};return a(()=>{const e=t("reportSettings");e&&(b.value=void 0===e.reportEnabled||e.reportEnabled,k.value=void 0!==e.reportPeriod?e.reportPeriod:1,T.value=e.reportTime||"19:00",A.value=void 0===e.pressureAlert||e.pressureAlert,C.value=void 0===e.wearAlert||e.wearAlert,E.value=void 0===e.batteryAlert||e.batteryAlert,S.value=void 0!==e.offlineAlert&&e.offlineAlert,x.value=e.bathStartTime||l.bathTimeStart+":00",V.value=e.bathEndTime||l.bathTimeEnd+":00",l.bathTimeStart=parseInt(x.value.split(":")[0]),l.bathTimeEnd=parseInt(V.value.split(":")[0]))}),(e,a)=>{const t=u,l=n,h=o,g=_;return d(),s(t,{class:"report-setting-page"},{default:i(()=>[c(t,{class:"page-header"}),c(t,{class:"settings-section"},{default:i(()=>[r("h2",{class:"section-title"},"报表接收"),c(t,{class:"setting-group"},{default:i(()=>[c(t,{class:"setting-item"},{default:i(()=>[c(t,{class:"item-left"},{default:i(()=>[r("div",{class:"item-label"},"接收报表"),r("div",{class:"item-desc"},"开启后将定期接收佩戴报表")]),_:1}),c(t,{class:"item-right"},{default:i(()=>[c(l,{checked:b.value,onChange:I,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),b.value?(d(),s(t,{key:0,class:"setting-item"},{default:i(()=>[c(t,{class:"item-left"},{default:i(()=>[r("div",{class:"item-label"},"报表周期"),r("div",{class:"item-desc"},"选择接收报表的频率")]),_:1}),c(t,{class:"item-right"},{default:i(()=>[c(h,{value:k.value,range:y,onChange:w},{default:i(()=>[c(t,{class:"picker-text"},{default:i(()=>[m(f(y[k.value]),1)]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})):v("",!0),b.value?(d(),s(t,{key:1,class:"setting-item"},{default:i(()=>[c(t,{class:"item-left"},{default:i(()=>[r("div",{class:"item-label"},"接收时间"),r("div",{class:"item-desc"},"选择每日报表接收时间")]),_:1}),c(t,{class:"item-right"},{default:i(()=>[c(h,{mode:"time",value:T.value,onChange:P},{default:i(()=>[c(t,{class:"picker-text"},{default:i(()=>[m(f(T.value),1)]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1}),c(t,{class:"settings-section"},{default:i(()=>[r("h2",{class:"section-title"},"预警通知"),c(t,{class:"setting-group"},{default:i(()=>[c(t,{class:"setting-item"},{default:i(()=>[c(t,{class:"item-left"},{default:i(()=>[r("div",{class:"item-label"},"压力异常提醒"),r("div",{class:"item-desc"},"压力值超出正常范围时提醒")]),_:1}),c(t,{class:"item-right"},{default:i(()=>[c(l,{checked:A.value,onChange:j,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),c(t,{class:"setting-item"},{default:i(()=>[c(t,{class:"item-left"},{default:i(()=>[r("div",{class:"item-label"},"未佩戴提醒"),r("div",{class:"item-desc"},"长时间未佩戴时提醒")]),_:1}),c(t,{class:"item-right"},{default:i(()=>[c(l,{checked:C.value,onChange:U,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),c(t,{class:"setting-item"},{default:i(()=>[c(t,{class:"item-left"},{default:i(()=>[r("div",{class:"item-label"},"电池低电量提醒"),r("div",{class:"item-desc"},"设备电量低于20%时提醒")]),_:1}),c(t,{class:"item-right"},{default:i(()=>[c(l,{checked:E.value,onChange:H,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),c(t,{class:"setting-item"},{default:i(()=>[c(t,{class:"item-left"},{default:i(()=>[r("div",{class:"item-label"},"设备离线提醒"),r("div",{class:"item-desc"},"设备断开连接时提醒")]),_:1}),c(t,{class:"item-right"},{default:i(()=>[c(l,{checked:S.value,onChange:J,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1})]),_:1})]),_:1}),c(t,{class:"settings-section"},{default:i(()=>[r("h2",{class:"section-title"},"洗澡时段设置"),r("div",{class:"section-desc"},"设置洗澡时间，此时间段内未佩戴不会被记录为异常"),c(t,{class:"setting-group"},{default:i(()=>[c(t,{class:"setting-item"},{default:i(()=>[c(t,{class:"item-left"},{default:i(()=>[r("div",{class:"item-label"},"开始时间")]),_:1}),c(t,{class:"item-right"},{default:i(()=>[c(h,{mode:"time",modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=e=>x.value=e),onChange:K},{default:i(()=>[c(t,{class:"picker-text"},{default:i(()=>[m(f(x.value),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),c(t,{class:"setting-item"},{default:i(()=>[c(t,{class:"item-left"},{default:i(()=>[r("div",{class:"item-label"},"结束时间")]),_:1}),c(t,{class:"item-right"},{default:i(()=>[c(h,{mode:"time",modelValue:V.value,"onUpdate:modelValue":a[1]||(a[1]=e=>V.value=e),onChange:W},{default:i(()=>[c(t,{class:"picker-text"},{default:i(()=>[m(f(V.value),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),c(t,{class:"save-section"},{default:i(()=>[c(g,{class:"save-button",onClick:q},{default:i(()=>[m("保存设置")]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-5517f04a"]]);export{b as default};
