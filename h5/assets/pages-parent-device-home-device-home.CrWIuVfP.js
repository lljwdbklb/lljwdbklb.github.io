import{d as a,r as t,m as e,z as s,A as l,c,w as n,i as r,o as u,a as i,h as o,e as d,B as f,y as _,t as m,v,j as g,F as p,k as w,n as y,W as h}from"./index-BEpFFJ6X.js";import{c as k}from"./data-utils.Byn_eUs6.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const x=b(a({__name:"device-home",setup(a){const b=t(!1),x=t("worn"),I=t("00:30"),j=t(h.targetTime),C=t("21:30"),q=t([]),B=()=>{switch(x.value){case"worn":return"已佩戴";case"not-worn":return"未佩戴";case"abnormal":return"异常";default:return"未知"}},F=()=>{switch(x.value){case"worn":return"worn";case"not-worn":return"not-worn";case"abnormal":return"abnormal";default:return""}},z=()=>{y({url:"/pages/parent/realtime-monitor/realtime-monitor"})},A=()=>{y({url:"/pages/parent/daily-chart/daily-chart"})},D=()=>{y({url:"/pages/parent/report-setting/report-setting"})};let L,M;return e(()=>{b.value=s(),(()=>{q.value=[{id:1,type:"pressure",title:"压力值异常",time:"14:30"},{id:2,type:"battery",title:"电池电量低",time:"15:45"}];const a=k(.5);C.value=a})(),L=setInterval(()=>{b.value=s()},5e3),M=setInterval(()=>{const a=Math.random();x.value=a>.95?"abnormal":a>.9?"not-worn":"worn"},1e4)}),l(()=>{L&&clearInterval(L),M&&clearInterval(M)}),(a,t)=>{const e=r,s=f;return u(),c(e,{class:"device-home-page"},{default:n(()=>[i(e,{class:"page-header"},{default:n(()=>[b.value?(u(),c(e,{key:0,class:"device-status"},{default:n(()=>[i(e,{class:"status-dot connected"}),i(e,{class:"status-text"},{default:n(()=>[d("设备在线")]),_:1})]),_:1})):o("",!0)]),_:1}),i(e,{class:"device-info-section"},{default:n(()=>[i(e,{class:"device-image-container"},{default:n(()=>[i(s,{class:"device-image",src:"/assets/image-BnR9DLky.png",mode:"aspectFit"}),i(e,{class:"device-name"},{default:n(()=>[d("第一代")]),_:1}),i(e,{class:"device-status-tag battery"},{default:n(()=>[i(e,{class:"status-dot"}),i(e,{class:"status-text"},{default:n(()=>[d("电量: 75%")]),_:1})]),_:1}),i(e,{class:"device-status-tag wear"},{default:n(()=>[i(e,{class:_(["status-dot",F()])},null,8,["class"]),i(e,{class:"status-text"},{default:n(()=>[d(m(B()),1)]),_:1})]),_:1})]),_:1})]),_:1}),i(e,{class:"device-overview"},{default:n(()=>[i(e,{class:"wear-status-card"},{default:n(()=>[i(e,{class:"card-title"},{default:n(()=>[d("佩戴状态")]),_:1}),i(e,{class:"status-content"},{default:n(()=>[i(e,{class:_(["status-icon",F()])},null,8,["class"]),i(e,{class:"status-text"},{default:n(()=>[d(m(B()),1)]),_:1})]),_:1}),"abnormal"===x.value?(u(),c(e,{key:0,class:"wear-alert"},{default:n(()=>[d("请尝试勒紧束带")]),_:1})):o("",!0)]),_:1}),i(e,{class:"time-card"},{default:n(()=>[i(e,{class:"card-title"},{default:n(()=>[d("佩戴时长")]),_:1}),i(e,{class:"time-content"},{default:n(()=>[i(e,{class:"current-time"},{default:n(()=>[d(m(I.value),1)]),_:1}),i(e,{class:"total-required"},{default:n(()=>[d(m(j.value)+"小时/天",1)]),_:1})]),_:1})]),_:1}),i(e,{class:"remaining-card"},{default:n(()=>[i(e,{class:"card-title"},{default:n(()=>[d("剩余时长")]),_:1}),i(e,{class:"remaining-content"},{default:n(()=>[i(e,{class:"remaining-time"},{default:n(()=>[d(m(C.value),1)]),_:1}),i(e,{class:"time-unit"},{default:n(()=>[d("小时")]),_:1})]),_:1})]),_:1})]),_:1}),i(e,{class:"warning-section"},{default:n(()=>[v("h2",{class:"section-title"},"预警信息"),q.value.length>0?(u(),c(e,{key:0,class:"warning-list"},{default:n(()=>[(u(!0),g(p,null,w(q.value,a=>(u(),c(e,{key:a.id,class:_(["warning-item",a.type])},{default:n(()=>[i(e,{class:"warning-icon"}),i(e,{class:"warning-content"},{default:n(()=>[i(e,{class:"warning-title"},{default:n(()=>[d(m(a.title),1)]),_:2},1024),i(e,{class:"warning-time"},{default:n(()=>[d(m(a.time),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})):(u(),c(e,{key:1,class:"no-warning"},{default:n(()=>[d(" 暂无预警信息 ")]),_:1}))]),_:1}),i(e,{class:"quick-actions"},{default:n(()=>[i(e,{class:"action-button",onClick:z},{default:n(()=>[i(e,{class:"action-icon realtime"}),i(e,{class:"action-text"},{default:n(()=>[d("实时监测")]),_:1})]),_:1}),i(e,{class:"action-button",onClick:A},{default:n(()=>[i(e,{class:"action-icon chart"}),i(e,{class:"action-text"},{default:n(()=>[d("每日图表")]),_:1})]),_:1}),i(e,{class:"action-button",onClick:D},{default:n(()=>[i(e,{class:"action-icon setting"}),i(e,{class:"action-text"},{default:n(()=>[d("报表设置")]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-cc624aa1"]]);export{x as default};
