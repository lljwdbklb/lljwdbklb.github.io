import{d as e,r as a,Q as s,p as l,c as t,w as u,m as n,g as m,i as c,o as i,a as f,k as r,e as o,F as d,l as _,j as b,b as p,t as v,f as y,n as k,J as g,s as h}from"./index-p-adsUdp.js";import{_ as D}from"./plugin-vueexport-helper.BCo6x5W8.js";const C=D(e({__name:"family-members",setup(e){const D=a([]),C=()=>{const e=n("familyMembers");e&&e.length>0?D.value=JSON.parse(e):(D.value=[{name:"小明",phone:"13166666666",isDefault:!0}],j())},j=()=>{m("familyMembers",JSON.stringify(D.value))},x=()=>{k({url:"/pages/parent/add-family-member/add-family-member"})};s(()=>{C()});return l(()=>{C()}),(e,a)=>{const s=c,l=p,n=y;return i(),t(s,{class:"family-members-container"},{default:u(()=>[f(s,{class:"content"},{default:u(()=>[f(s,{class:"member-list"},{default:u(()=>[f(s,{class:"section-title"},{default:u(()=>[o("家庭成员")]),_:1}),(i(!0),r(d,null,_(D.value,(e,a)=>(i(),t(s,{key:a,class:"member-item"},{default:u(()=>[f(s,{class:"member-info"},{default:u(()=>[f(l,{class:"member-name"},{default:u(()=>[o(v(e.name),1)]),_:2},1024),f(l,{class:"member-phone"},{default:u(()=>[o(v(e.phone),1)]),_:2},1024),e.isDefault?(i(),t(s,{key:0,class:"default-tag"},{default:u(()=>[o("默认持有人")]),_:1})):b("",!0)]),_:2},1024),f(s,{class:"member-actions"},{default:u(()=>[e.isDefault?b("",!0):(i(),t(n,{key:0,class:"set-default-btn",onClick:e=>(e=>{D.value.forEach(e=>{e.isDefault=!1}),D.value[e].isDefault=!0,j(),h({title:"设置成功",icon:"success"})})(a)},{default:u(()=>[o(" 设为默认 ")]),_:2},1032,["onClick"])),D.value.length>1?(i(),t(n,{key:1,class:"delete-btn",onClick:e=>(e=>{g({title:"确认删除",content:`确定要删除成员"${D.value[e].name}"吗？`,success:a=>{if(a.confirm){const a=D.value[e].isDefault;D.value.splice(e,1),a&&D.value.length>0&&(D.value[0].isDefault=!0),j(),h({title:"删除成功",icon:"success"})}}})})(a)},{default:u(()=>[o(" 删除 ")]),_:2},1032,["onClick"])):b("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1}),f(n,{class:"add-member-btn",onClick:x},{default:u(()=>[o("添加家庭成员")]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-77840a78"]]);export{C as default};
