import{d as e,r as l,c as a,w as t,i as s,o as n,a as o,b as u,e as d,I as i,f as c,t as r,s as p,g as f,n as v}from"./index-p-adsUdp.js";import{_}from"./plugin-vueexport-helper.BCo6x5W8.js";const m=_(e({__name:"login",setup(e){const _=l(""),m=l(""),g=l(0);let b=null;const h=()=>{/^1[3-9]\d{9}$/.test(_.value)?(p({title:"验证码已发送（测试环境验证码为1234）",icon:"none"}),g.value=60,b&&clearInterval(b),b=setInterval(()=>{g.value>0?g.value--:b&&(clearInterval(b),b=null)},1e3)):p({title:"请输入有效的手机号",icon:"none"})},x=()=>{if(!/^1[3-9]\d{9}$/.test(_.value))return void p({title:"请输入有效的手机号",icon:"none"});if("1234"!==m.value)return void p({title:"验证码错误",icon:"none"});let e="",l="";if("13166666666"===_.value)e="parent",l="/pages/parent/device-home/device-home";else if("13188888888"===_.value)e="doctor",l="/pages/doctor/patient-list/patient-list";else{if("13155555555"!==_.value)return void p({title:"请使用测试账号登录",icon:"none"});e="parent",l="/pages/parent/scan-qrcode/scan-qrcode"}f("isLoggedIn",!0),f("userRole",e),f("phoneNumber",_.value),v({url:l})};return(e,l)=>{const p=u,f=s,v=i,b=c;return n(),a(f,{class:"login-container"},{default:t(()=>[o(f,{class:"login-box"},{default:t(()=>[o(f,{class:"logo"},{default:t(()=>[o(p,{class:"logo-text"},{default:t(()=>[d("脊柱矫正器监测系统")]),_:1})]),_:1}),o(f,{class:"form-group"},{default:t(()=>[o(f,{class:"input-wrapper"},{default:t(()=>[o(p,{class:"label"},{default:t(()=>[d("手机号")]),_:1}),o(v,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=e=>_.value=e),type:"number",placeholder:"请输入手机号",class:"input",maxlength:"11"},null,8,["modelValue"])]),_:1}),o(f,{class:"input-wrapper"},{default:t(()=>[o(p,{class:"label"},{default:t(()=>[d("验证码")]),_:1}),o(f,{class:"verification-code-wrapper"},{default:t(()=>[o(v,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),type:"number",placeholder:"请输入验证码",class:"verification-code-input",maxlength:"4"},null,8,["modelValue"]),o(b,{class:"get-code-btn",disabled:g.value>0,onClick:h},{default:t(()=>[d(r(g.value>0?`${g.value}s后重发`:"获取验证码"),1)]),_:1},8,["disabled"])]),_:1})]),_:1}),o(b,{class:"login-btn",onClick:x},{default:t(()=>[d(" 登录 ")]),_:1}),o(f,{class:"demo-info"},{default:t(()=>[o(p,{class:"demo-title"},{default:t(()=>[d("测试账号信息：")]),_:1}),o(f,{class:"demo-account"},{default:t(()=>[o(p,null,{default:t(()=>[d("家长端：13166666666")]),_:1}),o(p,null,{default:t(()=>[d("家长端(未绑定设备)：13155555555")]),_:1}),o(p,null,{default:t(()=>[d("医生端：13188888888")]),_:1}),o(p,null,{default:t(()=>[d("验证码：1234")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-a7f96597"]]);export{m as default};
