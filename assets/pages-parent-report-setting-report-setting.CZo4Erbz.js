import{r as e,m as a,l as t,c as l,w as s,i,o as u,a as d,u as c,h as r,G as v,H as o,e as n,t as m,f,s as _,D as h}from"./index-B1qLd98C.js";import{W as g}from"./config.CnoCz8Wu.js";import{_ as p}from"./plugin-vueexport-helper.BCo6x5W8.js";const b=p({__name:"report-setting",setup(p){const b=e(!0),k=e(1),T=e("19:00"),A=e(!0),C=e(!0),E=e(!0),S=e(!1),x=e(g.bathTimeStart+":00"),V=e(g.bathTimeEnd+":00"),y=["每日","每周","每月"],I=e=>{b.value=e.detail.value},w=e=>{k.value=e.detail.value},j=e=>{T.value=e.detail.value},P=e=>{A.value=e.detail.value},U=e=>{C.value=e.detail.value},D=e=>{E.value=e.detail.value},G=e=>{S.value=e.detail.value},H=e=>{x.value=e.detail.value},W=e=>{V.value=e.detail.value},q=()=>{const e={reportEnabled:b.value,reportPeriod:k.value,reportTime:T.value,pressureAlert:A.value,wearAlert:C.value,batteryAlert:E.value,offlineAlert:S.value,bathStartTime:x.value,bathEndTime:V.value};_("reportSettings",e),h({title:"设置已保存",icon:"success",duration:2e3}),g.bathTimeStart=parseInt(x.value.split(":")[0]),g.bathTimeEnd=parseInt(V.value.split(":")[0])};return a(()=>{const e=t("reportSettings");e&&(b.value=void 0===e.reportEnabled||e.reportEnabled,k.value=void 0!==e.reportPeriod?e.reportPeriod:1,T.value=e.reportTime||"19:00",A.value=void 0===e.pressureAlert||e.pressureAlert,C.value=void 0===e.wearAlert||e.wearAlert,E.value=void 0===e.batteryAlert||e.batteryAlert,S.value=void 0!==e.offlineAlert&&e.offlineAlert,x.value=e.bathStartTime||g.bathTimeStart+":00",V.value=e.bathEndTime||g.bathTimeEnd+":00",g.bathTimeStart=parseInt(x.value.split(":")[0]),g.bathTimeEnd=parseInt(V.value.split(":")[0]))}),(e,a)=>{const t=i,_=v,h=o,g=f;return u(),l(t,{class:"report-setting-page"},{default:s(()=>[d(t,{class:"page-header"}),d(t,{class:"settings-section"},{default:s(()=>[c("h2",{class:"section-title"},"报表接收"),d(t,{class:"setting-group"},{default:s(()=>[d(t,{class:"setting-item"},{default:s(()=>[d(t,{class:"item-left"},{default:s(()=>[c("div",{class:"item-label"},"接收报表"),c("div",{class:"item-desc"},"开启后将定期接收佩戴报表")]),_:1}),d(t,{class:"item-right"},{default:s(()=>[d(_,{checked:b.value,onChange:I,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),b.value?(u(),l(t,{key:0,class:"setting-item"},{default:s(()=>[d(t,{class:"item-left"},{default:s(()=>[c("div",{class:"item-label"},"报表周期"),c("div",{class:"item-desc"},"选择接收报表的频率")]),_:1}),d(t,{class:"item-right"},{default:s(()=>[d(h,{value:k.value,range:y,onChange:w},{default:s(()=>[d(t,{class:"picker-text"},{default:s(()=>[n(m(y[k.value]),1)]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})):r("",!0),b.value?(u(),l(t,{key:1,class:"setting-item"},{default:s(()=>[d(t,{class:"item-left"},{default:s(()=>[c("div",{class:"item-label"},"接收时间"),c("div",{class:"item-desc"},"选择每日报表接收时间")]),_:1}),d(t,{class:"item-right"},{default:s(()=>[d(h,{mode:"time",value:T.value,onChange:j},{default:s(()=>[d(t,{class:"picker-text"},{default:s(()=>[n(m(T.value),1)]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})):r("",!0)]),_:1})]),_:1}),d(t,{class:"settings-section"},{default:s(()=>[c("h2",{class:"section-title"},"预警通知"),d(t,{class:"setting-group"},{default:s(()=>[d(t,{class:"setting-item"},{default:s(()=>[d(t,{class:"item-left"},{default:s(()=>[c("div",{class:"item-label"},"压力异常提醒"),c("div",{class:"item-desc"},"压力值超出正常范围时提醒")]),_:1}),d(t,{class:"item-right"},{default:s(()=>[d(_,{checked:A.value,onChange:P,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),d(t,{class:"setting-item"},{default:s(()=>[d(t,{class:"item-left"},{default:s(()=>[c("div",{class:"item-label"},"未佩戴提醒"),c("div",{class:"item-desc"},"长时间未佩戴时提醒")]),_:1}),d(t,{class:"item-right"},{default:s(()=>[d(_,{checked:C.value,onChange:U,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),d(t,{class:"setting-item"},{default:s(()=>[d(t,{class:"item-left"},{default:s(()=>[c("div",{class:"item-label"},"电池低电量提醒"),c("div",{class:"item-desc"},"设备电量低于20%时提醒")]),_:1}),d(t,{class:"item-right"},{default:s(()=>[d(_,{checked:E.value,onChange:D,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),d(t,{class:"setting-item"},{default:s(()=>[d(t,{class:"item-left"},{default:s(()=>[c("div",{class:"item-label"},"设备离线提醒"),c("div",{class:"item-desc"},"设备断开连接时提醒")]),_:1}),d(t,{class:"item-right"},{default:s(()=>[d(_,{checked:S.value,onChange:G,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1})]),_:1})]),_:1}),d(t,{class:"settings-section"},{default:s(()=>[c("h2",{class:"section-title"},"洗澡时段设置"),c("div",{class:"section-desc"},"设置洗澡时间，此时间段内未佩戴不会被记录为异常"),d(t,{class:"setting-group"},{default:s(()=>[d(t,{class:"setting-item"},{default:s(()=>[d(t,{class:"item-left"},{default:s(()=>[c("div",{class:"item-label"},"开始时间")]),_:1}),d(t,{class:"item-right"},{default:s(()=>[d(h,{mode:"time",modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=e=>x.value=e),onChange:H},{default:s(()=>[d(t,{class:"picker-text"},{default:s(()=>[n(m(x.value),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),d(t,{class:"setting-item"},{default:s(()=>[d(t,{class:"item-left"},{default:s(()=>[c("div",{class:"item-label"},"结束时间")]),_:1}),d(t,{class:"item-right"},{default:s(()=>[d(h,{mode:"time",modelValue:V.value,"onUpdate:modelValue":a[1]||(a[1]=e=>V.value=e),onChange:W},{default:s(()=>[d(t,{class:"picker-text"},{default:s(()=>[n(m(V.value),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),d(t,{class:"save-section"},{default:s(()=>[d(g,{class:"save-button",onClick:q},{default:s(()=>[n("保存设置")]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-5517f04a"]]);export{b as default};
