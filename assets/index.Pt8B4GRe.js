var e=Object.defineProperty,t=(t,r,n)=>(((t,r,n)=>{r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n})(t,"symbol"!=typeof r?r+"":r,n),n),r=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},n=(e,t,n)=>(r(e,t,"read from private field"),n?n.call(e):t.get(e)),i=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},o=(e,t,n,i)=>(r(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),s=(e,t,r,i)=>({set _(n){o(e,t,n,r)},get _(){return n(e,t,i)}}),a=(e,t,n)=>(r(e,t,"access private method"),n);!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const l={},c=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),o=(null==i?void 0:i.nonce)||(null==i?void 0:i.getAttribute("nonce"));n=Promise.all(t.map(t=>{if(t=function(e,t){return new URL(e,t).href}(t,r),t in l)return;l[t]=!0;const n=t.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(!!r)for(let r=e.length-1;r>=0;r--){const i=e[r];if(i.href===t&&(!n||"stylesheet"===i.rel))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;const s=document.createElement("link");return s.rel=n?"stylesheet":"modulepreload",n||(s.as="script",s.crossOrigin=""),s.href=t,o&&s.setAttribute("nonce",o),document.head.appendChild(s),n?new Promise((e,r)=>{s.addEventListener("load",e),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}return n.then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})};
/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function u(e,t){const r=new Set(e.split(","));return e=>r.has(e)}const h={},f=[],d=()=>{},p=()=>!1,g=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),y=e=>e.startsWith("onUpdate:"),m=Object.assign,v=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},b=Object.prototype.hasOwnProperty,_=(e,t)=>b.call(e,t),x=Array.isArray,w=e=>"[object Map]"===O(e),S=e=>"[object Set]"===O(e),T=e=>"function"==typeof e,E=e=>"string"==typeof e,A=e=>"symbol"==typeof e,k=e=>null!==e&&"object"==typeof e,C=e=>(k(e)||T(e))&&T(e.then)&&T(e.catch),P=Object.prototype.toString,O=e=>P.call(e),M=e=>"[object Object]"===O(e),I=e=>E(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,L=u(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),R=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},D=/-(\w)/g,B=R(e=>e.replace(D,(e,t)=>t?t.toUpperCase():"")),F=/\B([A-Z])/g,j=R(e=>e.replace(F,"-$1").toLowerCase()),N=R(e=>e.charAt(0).toUpperCase()+e.slice(1)),W=R(e=>e?`on${N(e)}`:""),U=(e,t)=>!Object.is(e,t),$=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},z=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},V=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let H;const q=()=>H||(H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function G(e){if(x(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=E(n)?Q(n):G(n);if(i)for(const e in i)t[e]=i[e]}return t}if(E(e)||k(e))return e}const Y=/;(?![^(]*\))/g,K=/:([^]+)/,X=/\/\*[^]*?\*\//g;function Q(e){const t={};return e.replace(X,"").split(Y).forEach(e=>{if(e){const r=e.split(K);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function J(e){let t="";if(E(e))t=e;else if(x(e))for(let r=0;r<e.length;r++){const n=J(e[r]);n&&(t+=n+" ")}else if(k(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Z=u("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function ee(e){return!!e||""===e}const te=e=>E(e)?e:null==e?"":x(e)||k(e)&&(e.toString===P||!T(e.toString))?JSON.stringify(e,re,2):String(e),re=(e,t)=>t&&t.__v_isRef?re(e,t.value):w(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,r],n)=>(e[ne(t,n)+" =>"]=r,e),{})}:S(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>ne(e))}:A(t)?ne(t):!k(t)||x(t)||M(t)?t:String(t),ne=(e,t="")=>{var r;return A(e)?`Symbol(${null!=(r=e.description)?r:t})`:e},ie=["ad","ad-content-page","ad-draw","audio","button","camera","canvas","checkbox","checkbox-group","cover-image","cover-view","editor","form","functional-page-navigator","icon","image","input","label","live-player","live-pusher","map","movable-area","movable-view","navigator","official-account","open-data","picker","picker-view","picker-view-column","progress","radio","radio-group","rich-text","scroll-view","slider","swiper","swiper-item","switch","text","textarea","video","view","web-view","location-picker","location-view"].map(e=>"uni-"+e),oe=["list-view","list-item","sticky-section","sticky-header","cloud-db-element"].map(e=>"uni-"+e),se=["list-item"].map(e=>"uni-"+e);function ae(e){if(-1!==se.indexOf(e))return!1;const t="uni-"+e.replace("v-uni-","");return-1!==ie.indexOf(t)||-1!==oe.indexOf(t)}const le=/^([a-z-]+:)?\/\//i,ce=/^data:.*,.*/,ue="onShow",he="onHide",fe="onLaunch",de="onError",pe="onThemeChange",ge="onPageNotFound",ye="onUnhandledRejection",me="onLoad",ve="onUnload",be="onInit",_e="onSaveExitState",xe="onResize",we="onBackPress",Se="onPageScroll",Te="onTabItemTap",Ee="onReachBottom",Ae="onPullDownRefresh",ke="onShareTimeline",Ce="onShareChat",Pe="onAddToFavorites",Oe="onShareAppMessage",Me="onNavigationBarButtonTap",Ie="onNavigationBarSearchInputClicked",Le="onNavigationBarSearchInputChanged",Re="onNavigationBarSearchInputConfirmed",De="onNavigationBarSearchInputFocusChanged",Be="onAppEnterForeground",Fe="onAppEnterBackground";function je(e){return 0===e.indexOf("/")}function Ne(e){return je(e)?e:"/"+e}function We(e,t=null){let r;return(...n)=>(e&&(r=e.apply(t,n),e=null),r)}const Ue=e=>e>9?e:"0"+e;function $e({date:e=new Date,mode:t="date"}){return"time"===t?Ue(e.getHours())+":"+Ue(e.getMinutes()):e.getFullYear()+"-"+Ue(e.getMonth()+1)+"-"+Ue(e.getDate())}function ze(e,t){e=e||{},E(t)&&(t={errMsg:t}),/:ok$/.test(t.errMsg)?T(e.success)&&e.success(t):T(e.fail)&&e.fail(t),T(e.complete)&&e.complete(t)}let Ve;function He(){return Ve||(Ve=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;function e(){return this}return void 0!==e()?e():new Function("return this")()}(),Ve)}function qe(e){return e&&(e.appContext?e.proxy:e)}function Ge(e){if(!e)return;let t=e.type.name;for(;t&&ae(j(t));)t=(e=e.parent).type.name;return e.proxy}function Ye(e){return 1===e.nodeType}function Ke(e){const t=He();if(t&&t.UTSJSONObject&&e instanceof t.UTSJSONObject){const r={};return t.UTSJSONObject.keys(e).forEach(t=>{r[t]=e[t]}),G(r)}if(e instanceof Map){const t={};return e.forEach((e,r)=>{t[r]=e}),G(t)}if(E(e))return Q(e);if(x(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=E(n)?Q(n):Ke(n);if(i)for(const e in i)t[e]=i[e]}return t}return G(e)}function Xe(e){let t="";const r=He();if(r&&r.UTSJSONObject&&e instanceof r.UTSJSONObject)r.UTSJSONObject.keys(e).forEach(r=>{e[r]&&(t+=r+" ")});else if(e instanceof Map)e.forEach((e,r)=>{e&&(t+=r+" ")});else if(x(e))for(let n=0;n<e.length;n++){const r=Xe(e[n]);r&&(t+=r+" ")}else t=J(e);return t.trim()}function Qe(e){return B(e.substring(5))}const Je=We(e=>{e=e||(e=>e.tagName.startsWith("UNI-"));const t=HTMLElement.prototype,r=t.setAttribute;t.setAttribute=function(t,n){if(t.startsWith("data-")&&e(this)){(this.__uniDataset||(this.__uniDataset={}))[Qe(t)]=n}r.call(this,t,n)};const n=t.removeAttribute;t.removeAttribute=function(t){this.__uniDataset&&t.startsWith("data-")&&e(this)&&delete this.__uniDataset[Qe(t)],n.call(this,t)}});function Ze(e){return m({},e.dataset,e.__uniDataset)}const et=new RegExp("\"[^\"]+\"|'[^']+'|url\\([^)]+\\)|(\\d*\\.?\\d+)[r|u]px","g");function tt(e){return{passive:e}}function rt(e){const{id:t,offsetTop:r,offsetLeft:n}=e;return{id:t,dataset:Ze(e),offsetTop:r,offsetLeft:n}}function nt(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function it(e={}){const t={};return Object.keys(e).forEach(r=>{try{t[r]=nt(e[r])}catch(n){t[r]=e[r]}}),t}const ot=/\+/g;function st(e){const t={};if(""===e||"?"===e)return t;const r=("?"===e[0]?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const e=r[n].replace(ot," ");let i=e.indexOf("="),o=nt(i<0?e:e.slice(0,i)),s=i<0?null:nt(e.slice(i+1));if(o in t){let e=t[o];x(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function at(e,t,{clearTimeout:r,setTimeout:n}){let i;const o=function(){r(i);i=n(()=>e.apply(this,arguments),t)};return o.cancel=function(){r(i)},o}class lt{constructor(e,t){this.id=e,this.listener={},this.emitCache=[],t&&Object.keys(t).forEach(e=>{this.on(e,t[e])})}emit(e,...t){const r=this.listener[e];if(!r)return this.emitCache.push({eventName:e,args:t});r.forEach(e=>{e.fn.apply(e.fn,t)}),this.listener[e]=r.filter(e=>"once"!==e.type)}on(e,t){this._addListener(e,"on",t),this._clearCache(e)}once(e,t){this._addListener(e,"once",t),this._clearCache(e)}off(e,t){const r=this.listener[e];if(r)if(t)for(let n=0;n<r.length;)r[n].fn===t&&(r.splice(n,1),n--),n++;else delete this.listener[e]}_clearCache(e){for(let t=0;t<this.emitCache.length;t++){const r=this.emitCache[t],n=e?r.eventName===e?e:null:r.eventName;if(!n)continue;"number"!=typeof this.emit.apply(this,[n,...r.args])?(this.emitCache.splice(t,1),t--):this.emitCache.pop()}}_addListener(e,t,r){(this.listener[e]||(this.listener[e]=[])).push({fn:r,type:t})}}const ct=[be,me,ue,he,ve,we,Se,Te,Ee,Ae,ke,Oe,Ce,Pe,_e,Me,Ie,Le,Re,De];const ut=[ue,he,fe,de,pe,ge,ye,"onExit",be,me,"onReady",ve,xe,we,Se,Te,Ee,Ae,ke,Pe,Oe,Ce,_e,Me,Ie,Le,Re,De];const ht=[];const ft=We((e,t)=>t(e)),dt=function(){};dt.prototype={_id:1,on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r,_id:this._id}),this._id++},once:function(e,t,r){var n=this;function i(){n.off(e,i),t.apply(r,arguments)}return i._=t,this.on(e,i,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],i=[];if(n&&t){for(var o=n.length-1;o>=0;o--)if(n[o].fn===t||n[o].fn._===t||n[o]._id===t){n.splice(o,1);break}i=n}return i.length?r[e]=i:delete r[e],this}};var pt=dt;const gt={black:"rgba(0,0,0,0.4)",white:"rgba(255,255,255,0.4)"};function yt(e,t,r){if(E(t)&&t.startsWith("@")){let i=e[t.replace("@","")]||t;switch(r){case"titleColor":i="black"===i?"#000000":"#ffffff";break;case"borderStyle":i=(n=i)&&n in gt?gt[n]:n}return i}var n;return t}function mt(e,t={},r="light"){const n=t[r],i={};return void 0!==n&&e?(Object.keys(e).forEach(o=>{const s=e[o];i[o]=M(s)?mt(s,t,r):x(s)?s.map(e=>M(e)?mt(e,t,r):yt(n,e)):yt(n,s,o)}),i):e}
/**
* @dcloudio/uni-h5-vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vt,bt;class _t{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vt,!e&&vt&&(this.index=(vt.scopes||(vt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=vt;try{return vt=this,e()}finally{vt=t}}}on(){vt=this}off(){vt=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function xt(e){return new _t(e)}class wt{constructor(e,t,r,n){this.fn=e,this.trigger=t,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,function(e,t=vt){t&&t.active&&t.effects.push(e)}(this,n)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,Ot();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(St(t.computed),this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),Mt()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=kt,t=bt;try{return kt=!0,bt=this,this._runnings++,Tt(this),this.fn()}finally{Et(this),this._runnings--,bt=t,kt=e}}stop(){var e;this.active&&(Tt(this),Et(this),null==(e=this.onStop)||e.call(this),this.active=!1)}}function St(e){return e.value}function Tt(e){e._trackId++,e._depsLength=0}function Et(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)At(e.deps[t],e);e.deps.length=e._depsLength}}function At(e,t){const r=e.get(t);void 0!==r&&t._trackId!==r&&(e.delete(t),0===e.size&&e.cleanup())}let kt=!0,Ct=0;const Pt=[];function Ot(){Pt.push(kt),kt=!1}function Mt(){const e=Pt.pop();kt=void 0===e||e}function It(){Ct++}function Lt(){for(Ct--;!Ct&&Dt.length;)Dt.shift()()}function Rt(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&At(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Dt=[];function Bt(e,t,r){It();for(const n of e.keys()){let r;n._dirtyLevel<t&&(null!=r?r:r=e.get(n)===n._trackId)&&(n._shouldSchedule||(n._shouldSchedule=0===n._dirtyLevel),n._dirtyLevel=t),n._shouldSchedule&&(null!=r?r:r=e.get(n)===n._trackId)&&(n.trigger(),n._runnings&&!n.allowRecurse||2===n._dirtyLevel||(n._shouldSchedule=!1,n.scheduler&&Dt.push(n.scheduler)))}Lt()}const Ft=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},jt=new WeakMap,Nt=Symbol(""),Wt=Symbol("");function Ut(e,t,r){if(kt&&bt){let t=jt.get(e);t||jt.set(e,t=new Map);let n=t.get(r);n||t.set(r,n=Ft(()=>t.delete(r))),Rt(bt,n)}}function $t(e,t,r,n,i,o){const s=jt.get(e);if(!s)return;let a=[];if("clear"===t)a=[...s.values()];else if("length"===r&&x(e)){const e=Number(n);s.forEach((t,r)=>{("length"===r||!A(r)&&r>=e)&&a.push(t)})}else switch(void 0!==r&&a.push(s.get(r)),t){case"add":x(e)?I(r)&&a.push(s.get("length")):(a.push(s.get(Nt)),w(e)&&a.push(s.get(Wt)));break;case"delete":x(e)||(a.push(s.get(Nt)),w(e)&&a.push(s.get(Wt)));break;case"set":w(e)&&a.push(s.get(Nt))}It();for(const l of a)l&&Bt(l,4);Lt()}const zt=u("__proto__,__v_isRef,__isVue"),Vt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(A)),Ht=qt();function qt(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...e){const r=Rr(this);for(let t=0,i=this.length;t<i;t++)Ut(r,0,t+"");const n=r[t](...e);return-1===n||!1===n?r[t](...e.map(Rr)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...e){Ot(),It();const r=Rr(this)[t].apply(this,e);return Lt(),Mt(),r}}),e}function Gt(e){const t=Rr(this);return Ut(t,0,e),t.hasOwnProperty(e)}class Yt{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const n=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!n;if("__v_isReadonly"===t)return n;if("__v_isShallow"===t)return i;if("__v_raw"===t)return r===(n?i?Tr:Sr:i?wr:xr).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=x(e);if(!n){if(o&&_(Ht,t))return Reflect.get(Ht,t,r);if("hasOwnProperty"===t)return Gt}const s=Reflect.get(e,t,r);return(A(t)?Vt.has(t):zt(t))?s:(n||Ut(e,0,t),i?s:Ur(s)?o&&I(t)?s:s.value:k(s)?n?Cr(s):Ar(s):s)}}class Kt extends Yt{constructor(e=!1){super(!1,e)}set(e,t,r,n){let i=e[t];if(!this._isShallow){const t=Mr(i);if(Ir(r)||Mr(r)||(i=Rr(i),r=Rr(r)),!x(e)&&Ur(i)&&!Ur(r))return!t&&(i.value=r,!0)}const o=x(e)&&I(t)?Number(t)<e.length:_(e,t),s=Reflect.set(e,t,r,n);return e===Rr(n)&&(o?U(r,i)&&$t(e,"set",t,r):$t(e,"add",t,r)),s}deleteProperty(e,t){const r=_(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&$t(e,"delete",t,void 0),n}has(e,t){const r=Reflect.has(e,t);return A(t)&&Vt.has(t)||Ut(e,0,t),r}ownKeys(e){return Ut(e,0,x(e)?"length":Nt),Reflect.ownKeys(e)}}class Xt extends Yt{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Qt=new Kt,Jt=new Xt,Zt=new Kt(!0),er=e=>e,tr=e=>Reflect.getPrototypeOf(e);function rr(e,t,r=!1,n=!1){const i=Rr(e=e.__v_raw),o=Rr(t);r||(U(t,o)&&Ut(i,0,t),Ut(i,0,o));const{has:s}=tr(i),a=n?er:r?Fr:Br;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void(e!==i&&e.get(t))}function nr(e,t=!1){const r=this.__v_raw,n=Rr(r),i=Rr(e);return t||(U(e,i)&&Ut(n,0,e),Ut(n,0,i)),e===i?r.has(e):r.has(e)||r.has(i)}function ir(e,t=!1){return e=e.__v_raw,!t&&Ut(Rr(e),0,Nt),Reflect.get(e,"size",e)}function or(e){e=Rr(e);const t=Rr(this);return tr(t).has.call(t,e)||(t.add(e),$t(t,"add",e,e)),this}function sr(e,t){t=Rr(t);const r=Rr(this),{has:n,get:i}=tr(r);let o=n.call(r,e);o||(e=Rr(e),o=n.call(r,e));const s=i.call(r,e);return r.set(e,t),o?U(t,s)&&$t(r,"set",e,t):$t(r,"add",e,t),this}function ar(e){const t=Rr(this),{has:r,get:n}=tr(t);let i=r.call(t,e);i||(e=Rr(e),i=r.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&$t(t,"delete",e,void 0),o}function lr(){const e=Rr(this),t=0!==e.size,r=e.clear();return t&&$t(e,"clear",void 0,void 0),r}function cr(e,t){return function(r,n){const i=this,o=i.__v_raw,s=Rr(o),a=t?er:e?Fr:Br;return!e&&Ut(s,0,Nt),o.forEach((e,t)=>r.call(n,a(e),a(t),i))}}function ur(e,t,r){return function(...n){const i=this.__v_raw,o=Rr(i),s=w(o),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=i[e](...n),u=r?er:t?Fr:Br;return!t&&Ut(o,0,l?Wt:Nt),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function hr(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function fr(){const e={get(e){return rr(this,e)},get size(){return ir(this)},has:nr,add:or,set:sr,delete:ar,clear:lr,forEach:cr(!1,!1)},t={get(e){return rr(this,e,!1,!0)},get size(){return ir(this)},has:nr,add:or,set:sr,delete:ar,clear:lr,forEach:cr(!1,!0)},r={get(e){return rr(this,e,!0)},get size(){return ir(this,!0)},has(e){return nr.call(this,e,!0)},add:hr("add"),set:hr("set"),delete:hr("delete"),clear:hr("clear"),forEach:cr(!0,!1)},n={get(e){return rr(this,e,!0,!0)},get size(){return ir(this,!0)},has(e){return nr.call(this,e,!0)},add:hr("add"),set:hr("set"),delete:hr("delete"),clear:hr("clear"),forEach:cr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=ur(i,!1,!1),r[i]=ur(i,!0,!1),t[i]=ur(i,!1,!0),n[i]=ur(i,!0,!0)}),[e,r,t,n]}const[dr,pr,gr,yr]=fr();function mr(e,t){const r=t?e?yr:gr:e?pr:dr;return(t,n,i)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(_(r,n)&&n in t?r:t,n,i)}const vr={get:mr(!1,!1)},br={get:mr(!1,!0)},_r={get:mr(!0,!1)},xr=new WeakMap,wr=new WeakMap,Sr=new WeakMap,Tr=new WeakMap;function Er(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>O(e).slice(8,-1))(e))}function Ar(e){return Mr(e)?e:Pr(e,!1,Qt,vr,xr)}function kr(e){return Pr(e,!1,Zt,br,wr)}function Cr(e){return Pr(e,!0,Jt,_r,Sr)}function Pr(e,t,r,n,i){if(!k(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=Er(e);if(0===s)return e;const a=new Proxy(e,2===s?n:r);return i.set(e,a),a}function Or(e){return Mr(e)?Or(e.__v_raw):!(!e||!e.__v_isReactive)}function Mr(e){return!(!e||!e.__v_isReadonly)}function Ir(e){return!(!e||!e.__v_isShallow)}function Lr(e){return Or(e)||Mr(e)}function Rr(e){const t=e&&e.__v_raw;return t?Rr(t):e}function Dr(e){return Object.isExtensible(e)&&z(e,"__v_skip",!0),e}const Br=e=>k(e)?Ar(e):e,Fr=e=>k(e)?Cr(e):e;class jr{constructor(e,t,r,n){this.getter=e,this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new wt(()=>e(this._value),()=>Wr(this,2===this.effect._dirtyLevel?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=r}get value(){const e=Rr(this);return e._cacheable&&!e.effect.dirty||!U(e._value,e._value=e.effect.run())||Wr(e,4),Nr(e),e.effect._dirtyLevel>=2&&Wr(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Nr(e){var t;kt&&bt&&(e=Rr(e),Rt(bt,null!=(t=e.dep)?t:e.dep=Ft(()=>e.dep=void 0,e instanceof jr?e:void 0)))}function Wr(e,t=4,r){const n=(e=Rr(e)).dep;n&&Bt(n,t)}function Ur(e){return!(!e||!0!==e.__v_isRef)}function $r(e){return Vr(e,!1)}function zr(e){return Vr(e,!0)}function Vr(e,t){return Ur(e)?e:new Hr(e,t)}class Hr{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Rr(e),this._value=t?e:Br(e)}get value(){return Nr(this),this._value}set value(e){const t=this.__v_isShallow||Ir(e)||Mr(e);e=t?e:Rr(e),U(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Br(e),Wr(this,4))}}function qr(e){return Ur(e)?e.value:e}const Gr={get:(e,t,r)=>qr(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return Ur(i)&&!Ur(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function Yr(e){return Or(e)?e:new Proxy(e,Gr)}function Kr(e,t,r,n){try{return n?e(...n):e()}catch(i){Qr(i,t,r)}}function Xr(e,t,r,n){if(T(e)){const i=Kr(e,t,r,n);return i&&C(i)&&i.catch(e=>{Qr(e,t,r)}),i}const i=[];for(let o=0;o<e.length;o++)i.push(Xr(e[o],t,r,n));return i}function Qr(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let n=t.parent;const i=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${r}`;for(;n;){const t=n.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,i,o))return;n=n.parent}const s=t.appContext.config.errorHandler;if(s)return void Kr(s,null,10,[e,i,o])}Jr(e,r,i,n)}function Jr(e,t,r,n=!0){console.error(e)}let Zr=!1,en=!1;const tn=[];let rn=0;const nn=[];let on=null,sn=0;const an=Promise.resolve();let ln=null;function cn(e){const t=ln||an;return e?t.then(this?e.bind(this):e):t}function un(e){tn.length&&tn.includes(e,Zr&&e.allowRecurse?rn+1:rn)||(null==e.id?tn.push(e):tn.splice(function(e){let t=rn+1,r=tn.length;for(;t<r;){const n=t+r>>>1,i=tn[n],o=pn(i);o<e||o===e&&i.pre?t=n+1:r=n}return t}(e.id),0,e),hn())}function hn(){Zr||en||(en=!0,ln=an.then(yn))}function fn(e,t,r=(Zr?rn+1:0)){for(;r<tn.length;r++){const t=tn[r];if(t&&t.pre){if(e&&t.id!==e.uid)continue;tn.splice(r,1),r--,t()}}}function dn(e){if(nn.length){const e=[...new Set(nn)].sort((e,t)=>pn(e)-pn(t));if(nn.length=0,on)return void on.push(...e);for(on=e,sn=0;sn<on.length;sn++)on[sn]();on=null,sn=0}}const pn=e=>null==e.id?1/0:e.id,gn=(e,t)=>{const r=pn(e)-pn(t);if(0===r){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function yn(e){en=!1,Zr=!0,tn.sort(gn);try{for(rn=0;rn<tn.length;rn++){const e=tn[rn];e&&!1!==e.active&&Kr(e,null,14)}}finally{rn=0,tn.length=0,dn(),Zr=!1,ln=null,(tn.length||nn.length)&&yn()}}function mn(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||h;let i=r;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in n){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:o}=n[e]||h;o&&(i=r.map(e=>E(e)?e.trim():e)),t&&(i=r.map(V))}let a,l=n[a=W(t)]||n[a=W(B(t))];!l&&o&&(l=n[a=W(j(t))]),l&&Xr(l,e,6,vn(e,l,i));const c=n[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,Xr(c,e,6,vn(e,c,i))}}function vn(e,t,r){if(1!==r.length)return r;if(T(t)){if(t.length<2)return r}else if(!t.find(e=>e.length>=2))return r;const n=r[0];if(n&&_(n,"type")&&_(n,"timeStamp")&&_(n,"target")&&_(n,"currentTarget")&&_(n,"detail")){const t=e.proxy,n=t.$gcd(t,!0);n&&r.push(n)}return r}function bn(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(void 0!==i)return i;const o=e.emits;let s={},a=!1;if(!T(e)){const n=e=>{const r=bn(e,t,!0);r&&(a=!0,m(s,r))};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return o||a?(x(o)?o.forEach(e=>s[e]=null):m(s,o),k(e)&&n.set(e,s),s):(k(e)&&n.set(e,null),null)}function _n(e,t){return!(!e||!g(t))&&(t=t.slice(2).replace(/Once$/,""),_(e,t[0].toLowerCase()+t.slice(1))||_(e,j(t))||_(e,t))}let xn=null,wn=null;function Sn(e){const t=xn;return xn=e,wn=e&&e.type.__scopeId||null,t}function Tn(e,t=xn,r){if(!t)return e;if(e._n)return e;const n=(...r)=>{n._d&&Io(-1);const i=Sn(t);let o;try{o=e(...r)}finally{Sn(i),n._d&&Io(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function En(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:g}=e;let m,v;const b=Sn(e);try{if(4&r.shapeFlag){const e=i||n,t=e;m=qo(u.call(t,e,h,o,d,f,p)),v=l}else{const e=t;0,m=qo(e.length>1?e(o,{attrs:l,slots:a,emit:c}):e(o,null)),v=t.props?l:An(l)}}catch(x){Co.length=0,Qr(x,e,1),m=$o(Ao)}let _=m;if(v&&!1!==g){const e=Object.keys(v),{shapeFlag:t}=_;e.length&&7&t&&(s&&e.some(y)&&(v=kn(v,s)),_=zo(_,v))}return r.dirs&&(_=zo(_),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&(_.transition=r.transition),m=_,Sn(b),m}const An=e=>{let t;for(const r in e)("class"===r||"style"===r||g(r))&&((t||(t={}))[r]=e[r]);return t},kn=(e,t)=>{const r={};for(const n in e)y(n)&&n.slice(9)in t||(r[n]=e[n]);return r};function Cn(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!_n(r,o))return!0}return!1}const Pn="components";function On(e,t){return Ln(Pn,e,!0,t)||e}const Mn=Symbol.for("v-ndc");function In(e){return E(e)?Ln(Pn,e,!1)||e:e||Mn}function Ln(e,t,r=!0,n=!1){const i=xn||Zo;if(i){const r=i.type;{const e=us(r,!1);if(e&&(e===t||e===B(t)||e===N(B(t))))return r}const o=Rn(i[e]||r[e],t)||Rn(i.appContext[e],t);return!o&&n?r:o}}function Rn(e,t){return e&&(e[t]||e[B(t)]||e[N(B(t))])}const Dn=e=>e.__isSuspense;const Bn=Symbol.for("v-scx");function Fn(e,t){return Wn(e,null,t)}const jn={};function Nn(e,t,r){return Wn(e,t,r)}function Wn(e,t,{immediate:r,deep:n,flush:i,once:o,onTrack:s,onTrigger:a}=h){if(t&&o){const e=t;t=(...t)=>{e(...t),A()}}const l=Zo,c=e=>!0===n?e:zn(e,!1===n?1:void 0);let u,f,p=!1,g=!1;if(Ur(e)?(u=()=>e.value,p=Ir(e)):Or(e)?(u=()=>c(e),p=!0):x(e)?(g=!0,p=e.some(e=>Or(e)||Ir(e)),u=()=>e.map(e=>Ur(e)?e.value:Or(e)?c(e):T(e)?Kr(e,l,2):void 0)):u=T(e)?t?()=>Kr(e,l,2):()=>(f&&f(),Xr(e,l,3,[m])):d,t&&n){const e=u;u=()=>zn(e())}let y,m=e=>{f=S.onStop=()=>{Kr(e,l,4),f=S.onStop=void 0}};if(ss){if(m=d,t?r&&Xr(t,l,3,[u(),g?[]:void 0,m]):u(),"sync"!==i)return d;{const e=no(Bn);y=e.__watcherHandles||(e.__watcherHandles=[])}}let b=g?new Array(e.length).fill(jn):jn;const _=()=>{if(S.active&&S.dirty)if(t){const e=S.run();(n||p||(g?e.some((e,t)=>U(e,b[t])):U(e,b)))&&(f&&f(),Xr(t,l,3,[e,b===jn?void 0:g&&b[0]===jn?[]:b,m]),b=e)}else S.run()};let w;_.allowRecurse=!!t,"sync"===i?w=_:"post"===i?w=()=>vo(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),w=()=>un(_));const S=new wt(u,d,w),E=vt,A=()=>{S.stop(),E&&v(E.effects,S)};return t?r?_():b=S.run():"post"===i?vo(S.run.bind(S),l&&l.suspense):S.run(),y&&y.push(A),A}function Un(e,t,r){const n=this.proxy,i=E(e)?e.includes(".")?$n(n,e):()=>n[e]:e.bind(n,n);let o;T(t)?o=t:(o=t.handler,r=t);const s=ns(this),a=Wn(i,o.bind(n),r);return s(),a}function $n(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}function zn(e,t,r=0,n){if(!k(e)||e.__v_skip)return e;if(t&&t>0){if(r>=t)return e;r++}if((n=n||new Set).has(e))return e;if(n.add(e),Ur(e))zn(e.value,t,r,n);else if(x(e))for(let i=0;i<e.length;i++)zn(e[i],t,r,n);else if(S(e)||w(e))e.forEach(e=>{zn(e,t,r,n)});else if(M(e))for(const i in e)zn(e[i],t,r,n);return e}function Vn(e,t){if(null===xn)return e;const r=cs(xn)||xn.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[e,o,s,a=h]=t[i];e&&(T(e)&&(e={mounted:e,updated:e}),e.deep&&zn(o),n.push({dir:e,instance:r,value:o,oldValue:void 0,arg:s,modifiers:a}))}return e}function Hn(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[n];l&&(Ot(),Xr(l,r,8,[e.el,a,e,t]),Mt())}}const qn=Symbol("_leaveCb"),Gn=Symbol("_enterCb");const Yn=[Function,Array],Kn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Yn,onEnter:Yn,onAfterEnter:Yn,onEnterCancelled:Yn,onBeforeLeave:Yn,onLeave:Yn,onAfterLeave:Yn,onLeaveCancelled:Yn,onBeforeAppear:Yn,onAppear:Yn,onAfterAppear:Yn,onAppearCancelled:Yn},Xn={name:"BaseTransition",props:Kn,setup(e,{slots:t}){const r=es(),n=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Si(()=>{e.isMounted=!0}),Ai(()=>{e.isUnmounting=!0}),e}();return()=>{const i=t.default&&ri(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1)for(const e of i)if(e.type!==Ao){o=e;break}const s=Rr(e),{mode:a}=s;if(n.isLeaving)return Zn(o);const l=ei(o);if(!l)return Zn(o);const c=Jn(l,s,n,r);ti(l,c);const u=r.subTree,h=u&&ei(u);if(h&&h.type!==Ao&&!Fo(l,h)){const e=Jn(h,s,n,r);if(ti(h,e),"out-in"===a)return n.isLeaving=!0,e.afterLeave=()=>{n.isLeaving=!1,!1!==r.update.active&&(r.effect.dirty=!0,r.update())},Zn(o);"in-out"===a&&l.type!==Ao&&(e.delayLeave=(e,t,r)=>{Qn(n,h)[String(h.key)]=h,e[qn]=()=>{t(),e[qn]=void 0,delete c.delayedLeave},c.delayedLeave=r})}return o}}};function Qn(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Jn(e,t,r,n){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:g,onAppear:y,onAfterAppear:m,onAppearCancelled:v}=t,b=String(e.key),_=Qn(r,e),w=(e,t)=>{e&&Xr(e,n,9,t)},S=(e,t)=>{const r=t[1];w(e,t),x(e)?e.every(e=>e.length<=1)&&r():e.length<=1&&r()},T={mode:o,persisted:s,beforeEnter(t){let n=a;if(!r.isMounted){if(!i)return;n=g||a}t[qn]&&t[qn](!0);const o=_[b];o&&Fo(e,o)&&o.el[qn]&&o.el[qn](),w(n,[t])},enter(e){let t=l,n=c,o=u;if(!r.isMounted){if(!i)return;t=y||l,n=m||c,o=v||u}let s=!1;const a=e[Gn]=t=>{s||(s=!0,w(t?o:n,[e]),T.delayedLeave&&T.delayedLeave(),e[Gn]=void 0)};t?S(t,[e,a]):a()},leave(t,n){const i=String(e.key);if(t[Gn]&&t[Gn](!0),r.isUnmounting)return n();w(h,[t]);let o=!1;const s=t[qn]=r=>{o||(o=!0,n(),w(r?p:d,[t]),t[qn]=void 0,_[i]===e&&delete _[i])};_[i]=e,f?S(f,[t,s]):s()},clone:e=>Jn(e,t,r,n)};return T}function Zn(e){if(ai(e))return(e=zo(e)).children=null,e}function ei(e){return ai(e)?e.children?e.children[0]:void 0:e}function ti(e,t){6&e.shapeFlag&&e.component?ti(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ri(e,t=!1,r){let n=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=null==r?s.key:String(r)+String(null!=s.key?s.key:o);s.type===To?(128&s.patchFlag&&i++,n=n.concat(ri(s.children,t,a))):(t||s.type!==Ao)&&n.push(null!=a?zo(s,{key:a}):s)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}
/*! #__NO_SIDE_EFFECTS__ */function ni(e,t){return T(e)?(()=>m({name:e.name},t,{setup:e}))():e}const ii=e=>!!e.type.__asyncLoader;
/*! #__NO_SIDE_EFFECTS__ */function oi(e){T(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:n,delay:i=200,timeout:o,suspensible:s=!0,onError:a}=e;let l,c=null,u=0;const h=()=>{let e;return c||(e=c=t().catch(e=>{if(e=e instanceof Error?e:new Error(String(e)),a)return new Promise((t,r)=>{a(e,()=>t((u++,c=null,h())),()=>r(e),u+1)});throw e}).then(t=>e!==c&&c?c:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),l=t,t)))};return ni({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return l},setup(){const e=Zo;if(l)return()=>si(l,e);const t=t=>{c=null,Qr(t,e,13,!n)};if(s&&e.suspense||ss)return h().then(t=>()=>si(t,e)).catch(e=>(t(e),()=>n?$o(n,{error:e}):null));const a=$r(!1),u=$r(),f=$r(!!i);return i&&setTimeout(()=>{f.value=!1},i),null!=o&&setTimeout(()=>{if(!a.value&&!u.value){const e=new Error(`Async component timed out after ${o}ms.`);t(e),u.value=e}},o),h().then(()=>{a.value=!0,e.parent&&ai(e.parent.vnode)&&(e.parent.effect.dirty=!0,un(e.parent.update))}).catch(e=>{t(e),u.value=e}),()=>a.value&&l?si(l,e):u.value&&n?$o(n,{error:u.value}):r&&!f.value?$o(r):void 0}})}function si(e,t){const{ref:r,props:n,children:i,ce:o}=t.vnode,s=$o(e,n,i);return s.ref=r,s.ce=o,delete t.vnode.ce,s}const ai=e=>e.type.__isKeepAlive;class li{constructor(e){this.max=e,this._cache=new Map,this._keys=new Set,this._max=parseInt(e,10)}get(e){const{_cache:t,_keys:r,_max:n}=this,i=t.get(e);if(i)r.delete(e),r.add(e);else if(r.add(e),n&&r.size>n){const e=r.values().next().value;this.pruneCacheEntry(t.get(e)),this.delete(e)}return i}set(e,t){this._cache.set(e,t)}delete(e){this._cache.delete(e),this._keys.delete(e)}forEach(e,t){this._cache.forEach(e.bind(t))}}const ci={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number],matchBy:{type:String,default:"name"},cache:Object},setup(e,{slots:t}){const r=es(),n=r.ctx;if(!n.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const i=e.cache||new li(e.max);i.pruneCacheEntry=s;let o=null;function s(t){var n;!o||!Fo(t,o)||"key"===e.matchBy&&t.key!==o.key?(yi(n=t),u(n,r,a,!0)):o&&yi(o)}const a=r.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=n,f=h("div");function d(t){i.forEach((r,n)=>{const o=vi(r,e.matchBy);!o||t&&t(o)||(i.delete(n),s(r))})}n.activate=(e,t,r,n,i)=>{const o=e.component;if(o.ba){const e=o.isDeactivated;o.isDeactivated=!1,$(o.ba),o.isDeactivated=e}c(e,t,r,0,a),l(o.vnode,e,t,r,o,a,n,e.slotScopeIds,i),vo(()=>{o.isDeactivated=!1,o.a&&$(o.a);const t=e.props&&e.props.onVnodeMounted;t&&Xo(t,o.parent,e)},a)},n.deactivate=e=>{const t=e.component;t.bda&&bi(t.bda),c(e,f,null,1,a),vo(()=>{t.bda&&t.bda.forEach(e=>e.__called=!1),t.da&&$(t.da);const r=e.props&&e.props.onVnodeUnmounted;r&&Xo(r,t.parent,e),t.isDeactivated=!0},a)},Nn(()=>[e.include,e.exclude,e.matchBy],([e,t])=>{e&&d(t=>hi(e,t)),t&&d(e=>!hi(t,e))},{flush:"post",deep:!0});let p=null;const g=()=>{null!=p&&i.set(p,mi(r.subTree))};return Si(g),Ei(g),Ai(()=>{i.forEach((t,n)=>{i.delete(n),s(t);const{subTree:o,suspense:a}=r,l=mi(o);if(t.type===l.type&&("key"!==e.matchBy||t.key===l.key)){l.component.bda&&$(l.component.bda),yi(l);const e=l.component.da;return void(e&&vo(e,a))}})}),()=>{if(p=null,!t.default)return null;const r=t.default(),n=r[0];if(r.length>1)return o=null,r;if(!Bo(n)||!(4&n.shapeFlag)&&!Dn(n.type))return o=null,n;let s=mi(n);const a=s.type,l=vi(s,e.matchBy),{include:c,exclude:u}=e;if(c&&(!l||!hi(c,l))||u&&l&&hi(u,l))return o=s,n;const h=null==s.key?a:s.key,f=i.get(h);return s.el&&(s=zo(s),Dn(n.type)&&(n.ssContent=s)),p=h,f&&(s.el=f.el,s.component=f.component,s.transition&&ti(s,s.transition),s.shapeFlag|=512),s.shapeFlag|=256,o=s,Dn(n.type)?n:s}}},ui=ci;function hi(e,t){return x(e)?e.some(e=>hi(e,t)):E(e)?e.split(",").includes(t):"[object RegExp]"===O(e)&&e.test(t)}function fi(e,t){pi(e,"a",t)}function di(e,t){pi(e,"da",t)}function pi(e,t,r=Zo){const n=e.__wdc||(e.__wdc=()=>{let t=r;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(n.__called=!1,_i(t,n,r),r){let e=r.parent;for(;e&&e.parent;)ai(e.parent.vnode)&&gi(n,t,r,e),e=e.parent}}function gi(e,t,r,n){const i=_i(t,e,n,!0);ki(()=>{v(n[t],i)},r)}function yi(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function mi(e){return Dn(e.type)?e.ssContent:e}function vi(e,t){if("name"===t){const t=e.type;return us(ii(e)?t.__asyncResolved||{}:t)}return String(e.key)}function bi(e){for(let t=0;t<e.length;t++){const r=e[t];r.__called||(r(),r.__called=!0)}}function _i(e,t,r=Zo,n=!1){if(r){if(i=e,ct.indexOf(i)>-1&&r.$pageInstance){if(r.type.__reserved)return;if(r!==r.$pageInstance&&(r=r.$pageInstance,function(e){return[me,ue].indexOf(e)>-1}(e))){const n=r.proxy;Xr(t.bind(n),r,e,me===e?[n.$page.options]:[])}}const o=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...n)=>{if(r.isUnmounted)return;Ot();const i=ns(r),o=Xr(t,r,e,n);return i(),Mt(),o});return n?o.unshift(s):o.push(s),s}var i}const xi=e=>(t,r=Zo)=>(!ss||"sp"===e)&&_i(e,(...e)=>t(...e),r),wi=xi("bm"),Si=xi("m"),Ti=xi("bu"),Ei=xi("u"),Ai=xi("bum"),ki=xi("um"),Ci=xi("sp"),Pi=xi("rtg"),Oi=xi("rtc");function Mi(e,t=Zo){_i("ec",e,t)}function Ii(e,t,r,n){let i;const o=r;if(x(e)||E(e)){i=new Array(e.length);for(let r=0,n=e.length;r<n;r++)i[r]=t(e[r],r,void 0,o)}else if("number"==typeof e){i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,o)}else if(k(e))if(e[Symbol.iterator])i=Array.from(e,(e,r)=>t(e,r,void 0,o));else{const r=Object.keys(e);i=new Array(r.length);for(let n=0,s=r.length;n<s;n++){const s=r[n];i[n]=t(e[s],s,n,o)}}else i=[];return i}function Li(e,t,r={},n,i){if(xn.isCE||xn.parent&&ii(xn.parent)&&xn.parent.isCE)return"default"!==t&&(r.name=t),$o("slot",r,n);let o=e[t];o&&o._c&&(o._d=!1),Oo();const s=o&&Ri(o(r)),a=Do(To,{key:r.key||s&&s.key||`_${t}`},s||[],s&&1===e._?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Ri(e){return e.some(e=>!Bo(e)||e.type!==Ao&&!(e.type===To&&!Ri(e.children)))?e:null}const Di=e=>{if(!e)return null;if(os(e)){return cs(e)||e.proxy}return Di(e.parent)},Bi=m(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Di(e.parent),$root:e=>Di(e.root),$emit:e=>e.emit,$options:e=>Vi(e),$forceUpdate:e=>e.f||(e.f=(e=>function(){e.effect.dirty=!0,un(e.update)})(e)),$nextTick:e=>e.n||(e.n=cn.bind(e.proxy)),$watch:e=>Un.bind(e)}),Fi=(e,t)=>e!==h&&!e.__isScriptSetup&&_(e,t),ji={get({_:e},t){const{ctx:r,setupState:n,data:i,props:o,accessCache:s,type:a,appContext:l}=e;let c;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(Fi(n,t))return s[t]=1,n[t];if(i!==h&&_(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&_(c,t))return s[t]=3,o[t];if(r!==h&&_(r,t))return s[t]=4,r[t];Wi&&(s[t]=0)}}const u=Bi[t];let f,d;return u?("$attrs"===t&&Ut(e,0,t),u(e)):(f=a.__cssModules)&&(f=f[t])?f:r!==h&&_(r,t)?(s[t]=4,r[t]):(d=l.config.globalProperties,_(d,t)?d[t]:void 0)},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;return Fi(i,t)?(i[t]=r,!0):n!==h&&_(n,t)?(n[t]=r,!0):!_(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=r,!0))},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:o}},s){let a;return!!r[s]||e!==h&&_(e,s)||Fi(t,s)||(a=o[0])&&_(a,s)||_(n,s)||_(Bi,s)||_(i.config.globalProperties,s)},defineProperty(e,t,r){return null!=r.get?e._.accessCache[t]=0:_(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Ni(e){return x(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let Wi=!0;function Ui(e){const t=Vi(e),r=e.proxy,n=e.ctx;Wi=!1,t.beforeCreate&&$i(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:y,deactivated:m,beforeDestroy:v,beforeUnmount:b,destroyed:_,unmounted:w,render:S,renderTracked:E,renderTriggered:A,errorCaptured:C,serverPrefetch:P,expose:O,inheritAttrs:M,components:I,directives:L,filters:R}=t;if(c&&function(e,t){x(e)&&(e=Yi(e));for(const r in e){const n=e[r];let i;i=k(n)?"default"in n?no(n.from||r,n.default,!0):no(n.from||r):no(n),Ur(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[r]=i}}(c,n,null),s)for(const d in s){const e=s[d];T(e)&&(n[d]=e.bind(r))}if(i){const t=i.call(r,r);k(t)&&(e.data=Ar(t))}if(Wi=!0,o)for(const x in o){const e=o[x],t=T(e)?e.bind(r,r):T(e.get)?e.get.bind(r,r):d,i=!T(e)&&T(e.set)?e.set.bind(r):d,s=hs({get:t,set:i});Object.defineProperty(n,x,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(a)for(const d in a)zi(a[d],n,r,d);if(l){const e=T(l)?l.call(r):l;Reflect.ownKeys(e).forEach(t=>{ro(t,e[t])})}function D(e,t){x(t)?t.forEach(t=>e(t.bind(r))):t&&e(t.bind(r))}if(u&&$i(u,e,"c"),D(wi,h),D(Si,f),D(Ti,p),D(Ei,g),D(fi,y),D(di,m),D(Mi,C),D(Oi,E),D(Pi,A),D(Ai,b),D(ki,w),D(Ci,P),x(O))if(O.length){const t=e.exposed||(e.exposed={});O.forEach(e=>{Object.defineProperty(t,e,{get:()=>r[e],set:t=>r[e]=t})})}else e.exposed||(e.exposed={});S&&e.render===d&&(e.render=S),null!=M&&(e.inheritAttrs=M),I&&(e.components=I),L&&(e.directives=L);const B=e.appContext.config.globalProperties.$applyOptions;B&&B(t,e,r)}function $i(e,t,r){Xr(x(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,r)}function zi(e,t,r,n){const i=n.includes(".")?$n(r,n):()=>r[n];if(E(e)){const r=t[e];T(r)&&Nn(i,r)}else if(T(e))Nn(i,e.bind(r));else if(k(e))if(x(e))e.forEach(e=>zi(e,t,r,n));else{const n=T(e.handler)?e.handler.bind(r):t[e.handler];T(n)&&Nn(i,n,e)}}function Vi(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:i.length||r||n?(l={},i.length&&i.forEach(e=>Hi(l,e,s,!0)),Hi(l,t,s)):l=t,k(t)&&o.set(t,l),l}function Hi(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&Hi(e,o,r,!0),i&&i.forEach(t=>Hi(e,t,r,!0));for(const s in t)if(n&&"expose"===s);else{const n=qi[s]||r&&r[s];e[s]=n?n(e[s],t[s]):t[s]}return e}const qi={data:Gi,props:Qi,emits:Qi,methods:Xi,computed:Xi,beforeCreate:Ki,created:Ki,beforeMount:Ki,mounted:Ki,beforeUpdate:Ki,updated:Ki,beforeDestroy:Ki,beforeUnmount:Ki,destroyed:Ki,unmounted:Ki,activated:Ki,deactivated:Ki,errorCaptured:Ki,serverPrefetch:Ki,components:Xi,directives:Xi,watch:function(e,t){if(!e)return t;if(!t)return e;const r=m(Object.create(null),e);for(const n in t)r[n]=Ki(e[n],t[n]);return r},provide:Gi,inject:function(e,t){return Xi(Yi(e),Yi(t))}};function Gi(e,t){return t?e?function(){return m(T(e)?e.call(this,this):e,T(t)?t.call(this,this):t)}:t:e}function Yi(e){if(x(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Ki(e,t){return e?[...new Set([].concat(e,t))]:t}function Xi(e,t){return e?m(Object.create(null),e,t):t}function Qi(e,t){return e?x(e)&&x(t)?[...new Set([...e,...t])]:m(Object.create(null),Ni(e),Ni(null!=t?t:{})):t}function Ji(){return{app:null,config:{isNativeTag:p,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zi=0;function eo(e,t){return function(t,r=null){T(t)||(t=m({},t)),null==r||k(r)||(r=null);const n=Ji(),i=new WeakSet;let o=!1;const s=n.app={_uid:Zi++,_component:t,_props:r,_container:null,_context:n,_instance:null,version:ds,get config(){return n.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&T(e.install)?(i.add(e),e.install(s,...t)):T(e)&&(i.add(e),e(s,...t))),s),mixin:e=>(n.mixins.includes(e)||n.mixins.push(e),s),component:(e,t)=>t?(n.components[e]=t,s):n.components[e],directive:(e,t)=>t?(n.directives[e]=t,s):n.directives[e],mount(i,a,l){if(!o){const a=$o(t,r);return a.appContext=n,!0===l?l="svg":!1===l&&(l=void 0),e(a,i,l),o=!0,s._container=i,i.__vue_app__=s,s._instance=a.component,cs(a.component)||a.component.proxy}},unmount(){o&&(e(null,s._container),delete s._container.__vue_app__)},provide:(e,t)=>(n.provides[e]=t,s),runWithContext(e){const t=to;to=s;try{return e()}finally{to=t}}};return s}}let to=null;function ro(e,t){if(Zo){let r=Zo.provides;const n=Zo.parent&&Zo.parent.provides;n===r&&(r=Zo.provides=Object.create(n)),r[e]=t,"app"===Zo.type.mpType&&Zo.appContext.app.provide(e,t)}else;}function no(e,t,r=!1){const n=Zo||xn;if(n||to){const i=n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:to._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&T(t)?t.call(n&&n.proxy):t}}function io(e,t,r,n){const[i,o]=e.propsOptions;let s,a=!1;if(t)for(let l in t){if(L(l))continue;const c=t[l];let u;i&&_(i,u=B(l))?o&&o.includes(u)?(s||(s={}))[u]=c:r[u]=c:_n(e.emitsOptions,l)||l in n&&c===n[l]||(n[l]=c,a=!0)}if(o){const t=Rr(r),n=s||h;for(let s=0;s<o.length;s++){const a=o[s];r[a]=oo(i,t,a,n[a],e,!_(n,a))}}return a}function oo(e,t,r,n,i,o){const s=e[r];if(null!=s){const e=_(s,"default");if(e&&void 0===n){const e=s.default;if(s.type!==Function&&!s.skipFactory&&T(e)){const{propsDefaults:o}=i;if(r in o)n=o[r];else{const s=ns(i);n=o[r]=e.call(null,t),s()}}else n=e}s[0]&&(o&&!e?n=!1:!s[1]||""!==n&&n!==j(r)||(n=!0))}return n}function so(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,s={},a=[];let l=!1;if(!T(e)){const n=e=>{l=!0;const[r,n]=so(e,t,!0);m(s,r),n&&a.push(...n)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!o&&!l)return k(e)&&n.set(e,f),f;if(x(o))for(let u=0;u<o.length;u++){const e=B(o[u]);ao(e)&&(s[e]=h)}else if(o)for(const u in o){const e=B(u);if(ao(e)){const t=o[u],r=s[e]=x(t)||T(t)?{type:t}:m({},t);if(r){const t=uo(Boolean,r.type),n=uo(String,r.type);r[0]=t>-1,r[1]=n<0||t<n,(t>-1||_(r,"default"))&&a.push(e)}}}const c=[s,a];return k(e)&&n.set(e,c),c}function ao(e){return"$"!==e[0]&&!L(e)}function lo(e){if(null===e)return"null";if("function"==typeof e)return e.name||"";if("object"==typeof e){return e.constructor&&e.constructor.name||""}return""}function co(e,t){return lo(e)===lo(t)}function uo(e,t){return x(t)?t.findIndex(t=>co(t,e)):T(t)&&co(t,e)?0:-1}const ho=e=>"_"===e[0]||"$stable"===e,fo=e=>x(e)?e.map(qo):[qo(e)],po=(e,t,r)=>{if(t._n)return t;const n=Tn((...e)=>fo(t(...e)),r);return n._c=!1,n},go=(e,t,r)=>{const n=e._ctx;for(const i in e){if(ho(i))continue;const r=e[i];if(T(r))t[i]=po(0,r,n);else if(null!=r){const e=fo(r);t[i]=()=>e}}},yo=(e,t)=>{const r=fo(t);e.slots.default=()=>r};function mo(e,t,r,n,i=!1){if(x(e))return void e.forEach((e,o)=>mo(e,t&&(x(t)?t[o]:t),r,n,i));if(ii(n)&&!i)return;const o=4&n.shapeFlag?cs(n.component)||n.component.proxy:n.el,s=i?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===h?a.refs={}:a.refs,f=a.setupState;if(null!=c&&c!==l&&(E(c)?(u[c]=null,_(f,c)&&(f[c]=null)):Ur(c)&&(c.value=null)),T(l))Kr(l,a,12,[s,u]);else{const t=E(l),n=Ur(l);if(t||n){const a=()=>{if(e.f){const r=t?_(f,l)?f[l]:u[l]:l.value;i?x(r)&&v(r,o):x(r)?r.includes(o)||r.push(o):t?(u[l]=[o],_(f,l)&&(f[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else t?(u[l]=s,_(f,l)&&(f[l]=s)):n&&(l.value=s,e.k&&(u[e.k]=s))};s?(a.id=-1,vo(a,r)):a()}}}const vo=function(e,t){var r;t&&t.pendingBranch?x(e)?t.effects.push(...e):t.effects.push(e):(x(r=e)?nn.push(...r):on&&on.includes(r,r.allowRecurse?sn+1:sn)||nn.push(r),hn())};function bo(e){return function(e){q().__VUE__=!0;const{insert:t,remove:r,patchProp:n,forcePatchProp:i,createElement:o,createText:s,createComment:a,setText:l,setElementText:c,parentNode:u,nextSibling:p,setScopeId:g=d,insertStaticContent:y}=e,v=(e,t,r,n=null,i=null,o=null,s=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Fo(e,t)&&(n=ee(e),K(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case Eo:b(e,t,r,n);break;case Ao:x(e,t,r,n);break;case ko:null==e&&w(t,r,n,s);break;case To:R(e,t,r,n,i,o,s,a,l);break;default:1&h?E(e,t,r,n,i,o,s,a,l):6&h?D(e,t,r,n,i,o,s,a,l):(64&h||128&h)&&c.process(e,t,r,n,i,o,s,a,l,ne)}null!=u&&i&&mo(u,e&&e.ref,o,t||e,!t)},b=(e,r,n,i)=>{if(null==e)t(r.el=s(r.children),n,i);else{const t=r.el=e.el;r.children!==e.children&&l(t,r.children)}},x=(e,r,n,i)=>{null==e?t(r.el=a(r.children||""),n,i):r.el=e.el},w=(e,t,r,n)=>{[e.el,e.anchor]=y(e.children,t,r,n,e.el,e.anchor)},S=({el:e,anchor:r},n,i)=>{let o;for(;e&&e!==r;)o=p(e),t(e,n,i),e=o;t(r,n,i)},T=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=p(e),r(e),e=n;r(t)},E=(e,t,r,n,i,o,s,a,l)=>{"svg"===t.type?s="svg":"math"===t.type&&(s="mathml"),null==e?A(t,r,n,i,o,s,a,l):O(e,t,i,o,s,a,l)},A=(e,r,i,s,a,l,u,h)=>{let f,d;const{props:p,shapeFlag:g,transition:y,dirs:m}=e;if(f=e.el=o(e.type,l,p&&p.is,p),8&g?c(f,e.children):16&g&&P(e.children,f,null,s,a,_o(e,l),u,h),m&&Hn(e,null,s,"created"),k(f,e,e.scopeId,u,s),p){for(const t in p)"value"===t||L(t)||n(f,t,null,p[t],l,e.children,s,a,Z);"value"in p&&n(f,"value",null,p.value,l),(d=p.onVnodeBeforeMount)&&Xo(d,s,e)}Object.defineProperty(f,"__vueParentComponent",{value:s,enumerable:!1}),m&&Hn(e,null,s,"beforeMount");const v=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(a,y);v&&y.beforeEnter(f),t(f,r,i),((d=p&&p.onVnodeMounted)||v||m)&&vo(()=>{d&&Xo(d,s,e),v&&y.enter(f),m&&Hn(e,null,s,"mounted")},a)},k=(e,t,r,n,i)=>{if(r&&g(e,r),n)for(let o=0;o<n.length;o++)g(e,n[o]);if(i){if(t===i.subTree){const t=i.vnode;k(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},P=(e,t,r,n,i,o,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Go(e[c]):qo(e[c]);v(null,l,t,r,n,i,o,s,a)}},O=(e,t,r,o,s,a,l)=>{const u=t.el=e.el;let{patchFlag:f,dynamicChildren:d,dirs:p}=t;f|=16&e.patchFlag;const g=e.props||h,y=t.props||h;let m;if(r&&xo(r,!1),(m=y.onVnodeBeforeUpdate)&&Xo(m,r,t,e),p&&Hn(t,e,r,"beforeUpdate"),r&&xo(r,!0),d?M(e.dynamicChildren,d,u,r,o,_o(t,s),a):l||V(e,t,u,null,r,o,_o(t,s),a,!1),f>0){if(16&f)I(u,t,g,y,r,o,s);else if(2&f&&g.class!==y.class&&n(u,"class",null,y.class,s),4&f&&n(u,"style",g.style,y.style,s),8&f){const a=t.dynamicProps;for(let t=0;t<a.length;t++){const l=a[t],c=g[l],h=y[l];(h!==c||"value"===l||i&&i(u,l))&&n(u,l,c,h,s,e.children,r,o,Z)}}1&f&&e.children!==t.children&&c(u,t.children)}else l||null!=d||I(u,t,g,y,r,o,s);((m=y.onVnodeUpdated)||p)&&vo(()=>{m&&Xo(m,r,t,e),p&&Hn(t,e,r,"updated")},o)},M=(e,t,r,n,i,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],h=l.el&&(l.type===To||!Fo(l,c)||70&l.shapeFlag)?u(l.el):r;v(l,c,h,null,n,i,o,s,!0)}},I=(e,t,r,o,s,a,l)=>{if(r!==o){if(r!==h)for(const i in r)L(i)||i in o||n(e,i,r[i],null,l,t.children,s,a,Z);for(const c in o){if(L(c))continue;const u=o[c],h=r[c];(u!==h&&"value"!==c||i&&i(e,c))&&n(e,c,h,u,l,t.children,s,a,Z)}"value"in o&&n(e,"value",r.value,o.value,l)}},R=(e,r,n,i,o,a,l,c,u)=>{const h=r.el=e?e.el:s(""),f=r.anchor=e?e.anchor:s("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:g}=r;g&&(c=c?c.concat(g):g),null==e?(t(h,n,i),t(f,n,i),P(r.children||[],n,f,o,a,l,c,u)):d>0&&64&d&&p&&e.dynamicChildren?(M(e.dynamicChildren,p,n,o,a,l,c),(null!=r.key||o&&r===o.subTree)&&wo(e,r,!0)):V(e,r,n,f,o,a,l,c,u)},D=(e,t,r,n,i,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,r,n,s,l):F(t,r,n,i,o,s,l):N(e,t,l)},F=(e,t,r,n,i,o,s)=>{const a=e.component=function(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||Qo,o={uid:Jo++,vnode:e,type:n,parent:t,appContext:i,get renderer(){return"app"===n.mpType?"app":this.$pageInstance&&this.$pageInstance==o?"page":"component"},root:null,next:null,subTree:null,effect:null,update:null,scope:new _t(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:so(n,i),emitsOptions:bn(n,i),emit:null,emitted:null,propsDefaults:h,inheritAttrs:n.inheritAttrs,ctx:h,data:h,props:h,attrs:h,slots:h,refs:h,setupState:h,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,bda:null,da:null,ba:null,a:null,rtg:null,rtc:null,ec:null,sp:null};o.ctx={_:o},o.root=t?t.root:o,o.emit=mn.bind(null,o),o.$pageInstance=t&&t.$pageInstance,e.ce&&e.ce(o);return o}(e,n,i);if(ai(e)&&(a.ctx.renderer=ne),function(e,t=!1){t&&rs(t);const{props:r,children:n}=e.vnode,i=os(e);(function(e,t,r,n=!1){const i={},o={};z(o,jo,1),e.propsDefaults=Object.create(null),io(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:kr(i):e.type.props?e.props=i:e.props=o,e.attrs=o})(e,r,i,t),((e,t)=>{if(32&e.vnode.shapeFlag){const r=t._;r?(e.slots=Rr(t),z(t,"_",r)):go(t,e.slots={})}else e.slots={},t&&yo(e,t);z(e.slots,jo,1)})(e,n);const o=i?function(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=Dr(new Proxy(e.ctx,ji));const{setup:n}=r;if(n){const r=e.setupContext=n.length>1?function(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return function(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get:(t,r)=>(Ut(e,0,"$attrs"),t[r])}))}(e)},slots:e.slots,emit:e.emit,expose:t}}(e):null,i=ns(e);Ot();const o=Kr(n,e,0,[e.props,r]);if(Mt(),i(),C(o)){if(o.then(is,is),t)return o.then(t=>{as(e,t)}).catch(t=>{Qr(t,e,0)});e.asyncDep=o}else as(e,o)}else ls(e)}(e,t):void 0;t&&rs(!1)}(a),a.asyncDep){if(i&&i.registerDep(a,W),!e.el){const e=a.subTree=$o(Ao);x(null,e,t,r)}}else W(a,e,t,r,i,o,s)},N=(e,t,r)=>{const n=t.component=e.component;if(function(e,t,r){const{props:n,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&l>=0))return!(!i&&!a||a&&a.$stable)||n!==s&&(n?!s||Cn(n,s,c):!!s);if(1024&l)return!0;if(16&l)return n?Cn(n,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(s[r]!==n[r]&&!_n(c,r))return!0}}return!1}(e,t,r)){if(n.asyncDep&&!n.asyncResolved)return void U(n,t,r);n.next=t,function(e){const t=tn.indexOf(e);t>rn&&tn.splice(t,1)}(n.update),n.effect.dirty=!0,n.update()}else t.el=e.el,n.vnode=t},W=(e,t,r,n,i,o,s)=>{const a=()=>{if(e.isMounted){let{next:t,bu:r,u:n,parent:l,vnode:c}=e;{const r=So(e);if(r)return t&&(t.el=c.el,U(e,t,s)),void r.asyncDep.then(()=>{e.isUnmounted||a()})}let h,f=t;xo(e,!1),t?(t.el=c.el,U(e,t,s)):t=c,r&&$(r),(h=t.props&&t.props.onVnodeBeforeUpdate)&&Xo(h,l,t,c),xo(e,!0);const d=En(e),p=e.subTree;e.subTree=d,v(p,d,u(p.el),ee(p),e,i,o),t.el=d.el,null===f&&function({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n!==e)break;(e=t.vnode).el=r,t=t.parent}}(e,d.el),n&&vo(n,i),(h=t.props&&t.props.onVnodeUpdated)&&vo(()=>Xo(h,l,t,c),i)}else{let s;const{el:a,props:l}=t,{bm:c,m:u,parent:h}=e,f=ii(t);xo(e,!1),c&&$(c),!f&&(s=l&&l.onVnodeBeforeMount)&&Xo(s,h,t),xo(e,!0);{const s=e.subTree=En(e);v(null,s,r,n,e,i,o),t.el=s.el}if(u&&vo(u,i),!f&&(s=l&&l.onVnodeMounted)){const e=t;vo(()=>Xo(s,h,e),i)}(256&t.shapeFlag||h&&ii(h.vnode)&&256&h.vnode.shapeFlag)&&(e.ba&&bi(e.ba),e.a&&vo(e.a,i)),e.isMounted=!0,t=r=n=null}},l=e.effect=new wt(a,d,()=>un(c),e.scope),c=e.update=()=>{l.dirty&&l.run()};c.id=e.uid,xo(e,!0),c()},U=(e,t,r)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,function(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Rr(i),[l]=e.propsOptions;let c=!1;if(!(n||s>0)||16&s){let n;io(e,t,i,o)&&(c=!0);for(const o in a)t&&(_(t,o)||(n=j(o))!==o&&_(t,n))||(l?!r||void 0===r[o]&&void 0===r[n]||(i[o]=oo(l,a,o,void 0,e,!0)):delete i[o]);if(o!==a)for(const e in o)t&&_(t,e)||(delete o[e],c=!0)}else if(8&s){const r=e.vnode.dynamicProps;for(let n=0;n<r.length;n++){let s=r[n];if(_n(e.emitsOptions,s))continue;const u=t[s];if(l)if(_(o,s))u!==o[s]&&(o[s]=u,c=!0);else{const t=B(s);i[t]=oo(l,a,t,u,e,!1)}else u!==o[s]&&(o[s]=u,c=!0)}}c&&$t(e,"set","$attrs")}(e,t.props,n,r),((e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,s=h;if(32&n.shapeFlag){const e=t._;e?r&&1===e?o=!1:(m(i,t),r||1!==e||delete i._):(o=!t.$stable,go(t,i)),s=t}else t&&(yo(e,t),s={default:1});if(o)for(const a in i)ho(a)||null!=s[a]||delete i[a]})(e,t.children,r),Ot(),fn(e),Mt()},V=(e,t,r,n,i,o,s,a,l=!1)=>{const u=e&&e.children,h=e?e.shapeFlag:0,f=t.children,{patchFlag:d,shapeFlag:p}=t;if(d>0){if(128&d)return void G(u,f,r,n,i,o,s,a,l);if(256&d)return void H(u,f,r,n,i,o,s,a,l)}8&p?(16&h&&Z(u,i,o),f!==u&&c(r,f)):16&h?16&p?G(u,f,r,n,i,o,s,a,l):Z(u,i,o,!0):(8&h&&c(r,""),16&p&&P(f,r,n,i,o,s,a,l))},H=(e,t,r,n,i,o,s,a,l)=>{t=t||f;const c=(e=e||f).length,u=t.length,h=Math.min(c,u);let d;for(d=0;d<h;d++){const n=t[d]=l?Go(t[d]):qo(t[d]);v(e[d],n,r,null,i,o,s,a,l)}c>u?Z(e,i,o,!0,!1,h):P(t,r,n,i,o,s,a,l,h)},G=(e,t,r,n,i,o,s,a,l)=>{let c=0;const u=t.length;let h=e.length-1,d=u-1;for(;c<=h&&c<=d;){const n=e[c],u=t[c]=l?Go(t[c]):qo(t[c]);if(!Fo(n,u))break;v(n,u,r,null,i,o,s,a,l),c++}for(;c<=h&&c<=d;){const n=e[h],c=t[d]=l?Go(t[d]):qo(t[d]);if(!Fo(n,c))break;v(n,c,r,null,i,o,s,a,l),h--,d--}if(c>h){if(c<=d){const e=d+1,h=e<u?t[e].el:n;for(;c<=d;)v(null,t[c]=l?Go(t[c]):qo(t[c]),r,h,i,o,s,a,l),c++}}else if(c>d)for(;c<=h;)K(e[c],i,o,!0),c++;else{const p=c,g=c,y=new Map;for(c=g;c<=d;c++){const e=t[c]=l?Go(t[c]):qo(t[c]);null!=e.key&&y.set(e.key,c)}let m,b=0;const _=d-g+1;let x=!1,w=0;const S=new Array(_);for(c=0;c<_;c++)S[c]=0;for(c=p;c<=h;c++){const n=e[c];if(b>=_){K(n,i,o,!0);continue}let u;if(null!=n.key)u=y.get(n.key);else for(m=g;m<=d;m++)if(0===S[m-g]&&Fo(n,t[m])){u=m;break}void 0===u?K(n,i,o,!0):(S[u-g]=c+1,u>=w?w=u:x=!0,v(n,t[u],r,null,i,o,s,a,l),b++)}const T=x?function(e){const t=e.slice(),r=[0];let n,i,o,s,a;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(i=r[r.length-1],e[i]<l){t[n]=i,r.push(n);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,e[r[a]]<l?o=a+1:s=a;l<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}o=r.length,s=r[o-1];for(;o-- >0;)r[o]=s,s=t[s];return r}(S):f;for(m=T.length-1,c=_-1;c>=0;c--){const e=g+c,h=t[e],f=e+1<u?t[e+1].el:n;0===S[c]?v(null,h,r,f,i,o,s,a,l):x&&(m<0||c!==T[m]?Y(h,r,f,2):m--)}}},Y=(e,r,n,i,o=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void Y(e.component.subTree,r,n,i);if(128&u)return void e.suspense.move(r,n,i);if(64&u)return void a.move(e,r,n,ne);if(a===To){t(s,r,n);for(let e=0;e<c.length;e++)Y(c[e],r,n,i);return void t(e.anchor,r,n)}if(a===ko)return void S(e,r,n);if(2!==i&&1&u&&l)if(0===i)l.beforeEnter(s),t(s,r,n),vo(()=>l.enter(s),o);else{const{leave:e,delayLeave:i,afterLeave:o}=l,a=()=>t(s,r,n),c=()=>{e(s,()=>{a(),o&&o()})};i?i(s,a,c):c()}else t(s,r,n)},K=(e,t,r,n=!1,i=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:f}=e;if(null!=a&&mo(a,null,r,e,!0),256&u)return void t.ctx.deactivate(e);const d=1&u&&f,p=!ii(e);let g;if(p&&(g=s&&s.onVnodeBeforeUnmount)&&Xo(g,t,e),6&u)J(e.component,r,n);else{if(128&u)return void e.suspense.unmount(r,n);d&&Hn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,r,i,ne,n):c&&(o!==To||h>0&&64&h)?Z(c,t,r,!1,!0):(o===To&&384&h||!i&&16&u)&&Z(l,t,r),n&&X(e)}(p&&(g=s&&s.onVnodeUnmounted)||d)&&vo(()=>{g&&Xo(g,t,e),d&&Hn(e,null,t,"unmounted")},r)},X=e=>{const{type:t,el:n,anchor:i,transition:o}=e;if(t===To)return void Q(n,i);if(t===ko)return void T(e);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,i=()=>t(n,s);r?r(e.el,s,i):i()}else s()},Q=(e,t)=>{let n;for(;e!==t;)n=p(e),r(e),e=n;r(t)},J=(e,t,r)=>{const{bum:n,scope:i,update:o,subTree:s,um:a}=e;n&&$(n),i.stop(),o&&(o.active=!1,K(s,e,t,r)),a&&vo(a,t),vo(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Z=(e,t,r,n=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)K(e[s],t,r,n,i)},ee=e=>6&e.shapeFlag?ee(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el);let te=!1;const re=(e,t,r)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,r),te||(te=!0,fn(),dn(),te=!1),t._vnode=e},ne={p:v,um:K,m:Y,r:X,mt:F,mc:P,pc:V,pbc:M,n:ee,o:e};let ie;return{render:re,hydrate:ie,createApp:eo(re)}}(e)}function _o({type:e,props:t},r){return"svg"===r&&"foreignObject"===e||"mathml"===r&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function xo({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function wo(e,t,r=!1){const n=e.children,i=t.children;if(x(n)&&x(i))for(let o=0;o<n.length;o++){const e=n[o];let t=i[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[o]=Go(i[o]),t.el=e.el),r||wo(e,t)),t.type===Eo&&(t.el=e.el)}}function So(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:So(t)}const To=Symbol.for("v-fgt"),Eo=Symbol.for("v-txt"),Ao=Symbol.for("v-cmt"),ko=Symbol.for("v-stc"),Co=[];let Po=null;function Oo(e=!1){Co.push(Po=e?null:[])}let Mo=1;function Io(e){Mo+=e}function Lo(e){return e.dynamicChildren=Mo>0?Po||f:null,Co.pop(),Po=Co[Co.length-1]||null,Mo>0&&Po&&Po.push(e),e}function Ro(e,t,r,n,i,o){return Lo(Uo(e,t,r,n,i,o,!0))}function Do(e,t,r,n,i){return Lo($o(e,t,r,n,i,!0))}function Bo(e){return!!e&&!0===e.__v_isVNode}function Fo(e,t){return e.type===t.type&&e.key===t.key}const jo="__vInternal",No=({key:e})=>null!=e?e:null,Wo=({ref:e,ref_key:t,ref_for:r})=>("number"==typeof e&&(e=""+e),null!=e?E(e)||Ur(e)||T(e)?{i:xn,r:e,k:t,f:!!r}:e:null);function Uo(e,t=null,r=null,n=0,i=null,o=(e===To?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&No(t),ref:t&&Wo(t),scopeId:wn,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:xn};return a?(Yo(l,r),128&o&&e.normalize(l)):r&&(l.shapeFlag|=E(r)?8:16),Mo>0&&!s&&Po&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&Po.push(l),l}const $o=function(e,t=null,r=null,n=0,i=null,o=!1){e&&e!==Mn||(e=Ao);if(Bo(e)){const n=zo(e,t,!0);return r&&Yo(n,r),Mo>0&&!o&&Po&&(6&n.shapeFlag?Po[Po.indexOf(e)]=n:Po.push(n)),n.patchFlag|=-2,n}s=e,T(s)&&"__vccOpts"in s&&(e=e.__vccOpts);var s;if(t){t=function(e){return e?Lr(e)||jo in e?m({},e):e:null}(t);let{class:e,style:r}=t;e&&!E(e)&&(t.class=Xe(e)),k(r)&&(Lr(r)&&!x(r)&&(r=m({},r)),t.style=Ke(r))}const a=E(e)?1:Dn(e)?128:(e=>e.__isTeleport)(e)?64:k(e)?4:T(e)?2:0;return Uo(e,t,r,n,i,a,o,!0)};function zo(e,t,r=!1){const{props:n,ref:i,patchFlag:o,children:s}=e,a=t?Ko(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&No(a),ref:t&&t.ref?r&&i?x(i)?i.concat(Wo(t)):[i,Wo(t)]:Wo(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==To?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zo(e.ssContent),ssFallback:e.ssFallback&&zo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Vo(e=" ",t=0){return $o(Eo,null,e,t)}function Ho(e="",t=!1){return t?(Oo(),Do(Ao,null,e)):$o(Ao,null,e)}function qo(e){return null==e||"boolean"==typeof e?$o(Ao):x(e)?$o(To,null,e.slice()):"object"==typeof e?Go(e):$o(Eo,null,String(e))}function Go(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:zo(e)}function Yo(e,t){let r=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(x(t))r=16;else if("object"==typeof t){if(65&n){const r=t.default;return void(r&&(r._c&&(r._d=!1),Yo(e,r()),r._c&&(r._d=!0)))}{r=32;const n=t._;n||jo in t?3===n&&xn&&(1===xn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=xn}}else T(t)?(t={default:t,_ctx:xn},r=32):(t=String(t),64&n?(r=16,t=[Vo(t)]):r=8);e.children=t,e.shapeFlag|=r}function Ko(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=Xe([t.class,n.class]));else if("style"===e)t.style=Ke([t.style,n.style]);else if(g(e)){const r=t[e],i=n[e];!i||r===i||x(r)&&r.includes(i)||(t[e]=r?[].concat(r,i):i)}else""!==e&&(t[e]=n[e])}return t}function Xo(e,t,r,n=null){Xr(e,t,7,[r,n])}const Qo=Ji();let Jo=0;let Zo=null;const es=()=>Zo||xn;let ts,rs;{const e=q(),t=(t,r)=>{let n;return(n=e[t])||(n=e[t]=[]),n.push(r),e=>{n.length>1?n.forEach(t=>t(e)):n[0](e)}};ts=t("__VUE_INSTANCE_SETTERS__",e=>Zo=e),rs=t("__VUE_SSR_SETTERS__",e=>ss=e)}const ns=e=>{const t=Zo;return ts(e),e.scope.on(),()=>{e.scope.off(),ts(t)}},is=()=>{Zo&&Zo.scope.off(),ts(null)};function os(e){return 4&e.vnode.shapeFlag}let ss=!1;function as(e,t,r){T(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:k(t)&&(e.setupState=Yr(t)),ls(e)}function ls(e,t,r){const n=e.type;e.render||(e.render=n.render||d);{const t=ns(e);Ot();try{Ui(e)}finally{Mt(),t()}}}function cs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Yr(Dr(e.exposed)),{get:(t,r)=>r in t?t[r]:r in Bi?Bi[r](e):void 0,has:(e,t)=>t in e||t in Bi}))}function us(e,t=!0){return T(e)?e.displayName||e.name:e.name||t&&e.__name}const hs=(e,t)=>{const r=function(e,t,r=!1){let n,i;const o=T(e);return o?(n=e,i=d):(n=e.get,i=e.set),new jr(n,i,o||!i,r)}(e,0,ss);return r};function fs(e,t,r){const n=arguments.length;return 2===n?k(t)&&!x(t)?Bo(t)?$o(e,null,[t]):$o(e,t):$o(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):3===n&&Bo(r)&&(r=[r]),$o(e,t,r))}const ds="3.4.21",ps="undefined"!=typeof document?document:null,gs=ps&&ps.createElement("template"),ys={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i="svg"===t?ps.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?ps.createElementNS("http://www.w3.org/1998/Math/MathML",e):r?ps.createElement(e,{is:r}):ps.createElement(e);return"select"===e&&n&&null!=n.multiple&&i.setAttribute("multiple",n.multiple),i},createText:e=>ps.createTextNode(e),createComment:e=>ps.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ps.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,o){const s=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),i!==o&&(i=i.nextSibling););else{gs.innerHTML="svg"===n?`<svg>${e}</svg>`:"mathml"===n?`<math>${e}</math>`:e;const i=gs.content;if("svg"===n||"mathml"===n){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},ms="transition",vs="animation",bs=Symbol("_vtc"),_s=(e,{slots:t})=>fs(Xn,function(e){const t={};for(const m in e)m in xs||(t[m]=e[m]);if(!1===e.css)return t;const{name:r="v",type:n,duration:i,enterFromClass:o=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=e,p=function(e){if(null==e)return null;if(k(e))return[Ts(e.enter),Ts(e.leave)];{const t=Ts(e);return[t,t]}}(i),g=p&&p[0],y=p&&p[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:_,onLeave:x,onLeaveCancelled:w,onBeforeAppear:S=v,onAppear:T=b,onAppearCancelled:E=_}=t,A=(e,t,r)=>{As(e,t?u:a),As(e,t?c:s),r&&r()},C=(e,t)=>{e._isLeaving=!1,As(e,h),As(e,d),As(e,f),t&&t()},P=e=>(t,r)=>{const i=e?T:b,s=()=>A(t,e,r);ws(i,[t,s]),ks(()=>{As(t,e?l:o),Es(t,e?u:a),Ss(i)||Ps(t,n,g,s)})};return m(t,{onBeforeEnter(e){ws(v,[e]),Es(e,o),Es(e,s)},onBeforeAppear(e){ws(S,[e]),Es(e,l),Es(e,c)},onEnter:P(!1),onAppear:P(!0),onLeave(e,t){e._isLeaving=!0;const r=()=>C(e,t);Es(e,h),document.body.offsetHeight,Es(e,f),ks(()=>{e._isLeaving&&(As(e,h),Es(e,d),Ss(x)||Ps(e,n,y,r))}),ws(x,[e,r])},onEnterCancelled(e){A(e,!1),ws(_,[e])},onAppearCancelled(e){A(e,!0),ws(E,[e])},onLeaveCancelled(e){C(e),ws(w,[e])}})}(e),t);_s.displayName="Transition";const xs={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};_s.props=m({},Kn,xs);const ws=(e,t=[])=>{x(e)?e.forEach(e=>e(...t)):e&&e(...t)},Ss=e=>!!e&&(x(e)?e.some(e=>e.length>1):e.length>1);function Ts(e){const t=(e=>{const t=E(e)?Number(e):NaN;return isNaN(t)?e:t})(e);return t}function Es(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[bs]||(e[bs]=new Set)).add(t)}function As(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const r=e[bs];r&&(r.delete(t),r.size||(e[bs]=void 0))}function ks(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Cs=0;function Ps(e,t,r,n){const i=e._endId=++Cs,o=()=>{i===e._endId&&n()};if(r)return setTimeout(o,r);const{type:s,timeout:a,propCount:l}=function(e,t){const r=window.getComputedStyle(e),n=e=>(r[e]||"").split(", "),i=n(`${ms}Delay`),o=n(`${ms}Duration`),s=Os(i,o),a=n(`${vs}Delay`),l=n(`${vs}Duration`),c=Os(a,l);let u=null,h=0,f=0;t===ms?s>0&&(u=ms,h=s,f=o.length):t===vs?c>0&&(u=vs,h=c,f=l.length):(h=Math.max(s,c),u=h>0?s>c?ms:vs:null,f=u?u===ms?o.length:l.length:0);const d=u===ms&&/\b(transform|all)(,|$)/.test(n(`${ms}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:d}}(e,t);if(!s)return n();const c=s+"end";let u=0;const h=()=>{e.removeEventListener(c,f),o()},f=t=>{t.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,f)}function Os(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,r)=>Ms(t)+Ms(e[r])))}function Ms(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}const Is=Symbol("_vod"),Ls=Symbol("_vsh"),Rs={beforeMount(e,{value:t},{transition:r}){e[Is]="none"===e.style.display?"":e.style.display,r&&t?r.beforeEnter(e):Ds(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Ds(e,!0),n.enter(e)):n.leave(e,()=>{Ds(e,!1)}):Ds(e,t))},beforeUnmount(e,{value:t}){Ds(e,t)}};function Ds(e,t){e.style.display=t?e[Is]:"none",e[Ls]=!t}const Bs=Symbol(""),Fs=/(^|;)\s*display\s*:/;const js=/\s*!important$/;function Ns(e,t,r){if(x(r))r.forEach(r=>Ns(e,t,r));else if(null==r&&(r=""),r=Ks(r),t.startsWith("--"))e.setProperty(t,r);else{const n=function(e,t){const r=Us[t];if(r)return r;let n=B(t);if("filter"!==n&&n in e)return Us[t]=n;n=N(n);for(let i=0;i<Ws.length;i++){const r=Ws[i]+n;if(r in e)return Us[t]=r}return t}(e,t);js.test(r)?e.setProperty(j(n),r.replace(js,""),"important"):e[n]=r}}const Ws=["Webkit","Moz","ms"],Us={};const{unit:$s,unitRatio:zs,unitPrecision:Vs}={unit:"rem",unitRatio:10/320,unitPrecision:5},Hs=(qs=$s,Gs=zs,Ys=Vs,e=>e.replace(et,(e,t)=>{if(!t)return e;const r=function(e,t){const r=Math.pow(10,t+1),n=Math.floor(e*r);return 10*Math.round(n/10)/r}(parseFloat(t)*Gs,Ys);return 0===r?"0":`${r}${qs}`}));var qs,Gs,Ys;const Ks=e=>E(e)?Hs(e):e,Xs="http://www.w3.org/1999/xlink";const Qs=Symbol("_vei");function Js(e,t,r,n,i=null){const o=e[Qs]||(e[Qs]={}),s=o[t];if(n&&s)s.value=n;else{const[r,a]=function(e){let t;if(Zs.test(e)){let r;for(t={};r=e.match(Zs);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}const r=":"===e[2]?e.slice(3):j(e.slice(2));return[r,t]}(t);if(n){const s=o[t]=function(e,t){const r=e=>{if(e._vts){if(e._vts<=r.attached)return}else e._vts=Date.now();const n=t&&t.proxy,i=n&&n.$nne,{value:o}=r;if(i&&x(o)){const r=na(e,o);for(let n=0;n<r.length;n++){const o=r[n];Xr(o,t,5,o.__wwe?[e]:i(e))}return}Xr(na(e,r.value),t,5,i&&!o.__wwe?i(e,o,t):[e])};return r.value=e,r.attached=ra(),r}(n,i);!function(e,t,r,n){e.addEventListener(t,r,n)}(e,r,s,a)}else s&&(!function(e,t,r,n){e.removeEventListener(t,r,n)}(e,r,s,a),o[t]=void 0)}}const Zs=/(?:Once|Passive|Capture)$/;let ea=0;const ta=Promise.resolve(),ra=()=>ea||(ta.then(()=>ea=0),ea=Date.now());function na(e,t){if(x(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(e=>{const t=t=>!t._stopped&&e&&e(t);return t.__wwe=e.__wwe,t})}return t}const ia=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const oa=["ctrl","shift","alt","meta"],sa={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>oa.some(r=>e[`${r}Key`]&&!t.includes(r))},aa=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(r,...n)=>{for(let e=0;e<t.length;e++){const n=sa[t[e]];if(n&&n(r,t))return}return e(r,...n)})},la=m({patchProp:(e,t,r,n,i,o,s,a,l)=>{if(0===t.indexOf("change:"))return function(e,t,r,n=null){if(!r||!n)return;const i=t.replace("change:",""),{attrs:o}=n,s=o[i],a=(e.__wxsProps||(e.__wxsProps={}))[i];if(a===s)return;e.__wxsProps[i]=s;const l=n.proxy;cn(()=>{r(s,a,l.$gcd(l,!0),l.$gcd(l,!1))})}(e,t,n,s);const c="svg"===i;"class"===t?function(e,t,r){const{__wxsAddClass:n,__wxsRemoveClass:i}=e;i&&i.length&&(t=(t||"").split(/\s+/).filter(e=>-1===i.indexOf(e)).join(" "),i.length=0),n&&n.length&&(t=(t||"")+" "+n.join(" "));const o=e[bs];o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}(e,n,c):"style"===t?function(e,t,r){const n=e.style,i=E(r);let o=!1;if(r&&!i){if(t)if(E(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==r[t]&&Ns(n,t,"")}else for(const e in t)null==r[e]&&Ns(n,e,"");for(const e in r)"display"===e&&(o=!0),Ns(n,e,r[e])}else if(i){if(t!==r){const e=n[Bs];e&&(r+=";"+e),n.cssText=r,o=Fs.test(r)}}else t&&e.removeAttribute("style");Is in e&&(e[Is]=o?n.display:"",e[Ls]&&(n.display="none"));const{__wxsStyle:s}=e;if(s)for(const a in s)Ns(n,a,s[a])}(e,r,n):g(t)?y(t)||Js(e,t,0,n,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,r,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&ia(t)&&T(r));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(ia(t)&&E(r))return!1;return t in e}(e,t,n,c))?function(e,t,r,n,i,o,s){if("innerHTML"===t||"textContent"===t)return n&&s(n,i,o),void(e[t]=null==r?"":r);const a=e.tagName;if("value"===t&&"PROGRESS"!==a&&!a.includes("-")){const n=null==r?"":r;return("OPTION"===a?e.getAttribute("value")||"":e.value)===n&&"_value"in e||(e.value=n),null==r&&e.removeAttribute(t),void(e._value=r)}let l=!1;if(""===r||null==r){const n=typeof e[t];"boolean"===n?r=ee(r):null==r&&"string"===n?(r="",l=!0):"number"===n&&(r=0,l=!0)}try{e[t]=r}catch(c){}l&&e.removeAttribute(t)}(e,t,n,o,s,a,l):("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),function(e,t,r,n){if(n&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(Xs,t.slice(6,t.length)):e.setAttributeNS(Xs,t,r);else{const n=Z(t);null==r||n&&!ee(r)?e.removeAttribute(t):e.setAttribute(t,n?"":r)}}(e,t,n,c))},forcePatchProp:(e,t)=>0===t.indexOf("change:")||("class"===t&&e.__wxsClassChanged?(e.__wxsClassChanged=!1,!0):!("style"!==t||!e.__wxsStyleChanged)&&(e.__wxsStyleChanged=!1,!0))},ys);let ca;const ua=(...e)=>{const t=(ca||(ca=bo(la))).createApp(...e),{mount:r}=t;return t.mount=e=>{const n=function(e){if(E(e)){return document.querySelector(e)}return e}
/*!
  * vue-router v4.4.4
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */(e);if(!n)return;const i=t._component;T(i)||i.render||i.template||(i.template=n.innerHTML),n.innerHTML="";const o=r(n,!1,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};const ha="undefined"!=typeof document;function fa(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const da=Object.assign;function pa(e,t){const r={};for(const n in t){const i=t[n];r[n]=ya(i)?i.map(e):e(i)}return r}const ga=()=>{},ya=Array.isArray,ma=/#/g,va=/&/g,ba=/\//g,_a=/=/g,xa=/\?/g,wa=/\+/g,Sa=/%5B/g,Ta=/%5D/g,Ea=/%5E/g,Aa=/%60/g,ka=/%7B/g,Ca=/%7C/g,Pa=/%7D/g,Oa=/%20/g;function Ma(e){return encodeURI(""+e).replace(Ca,"|").replace(Sa,"[").replace(Ta,"]")}function Ia(e){return Ma(e).replace(wa,"%2B").replace(Oa,"+").replace(ma,"%23").replace(va,"%26").replace(Aa,"`").replace(ka,"{").replace(Pa,"}").replace(Ea,"^")}function La(e){return Ia(e).replace(_a,"%3D")}function Ra(e){return null==e?"":function(e){return Ma(e).replace(ma,"%23").replace(xa,"%3F")}(e).replace(ba,"%2F")}function Da(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const Ba=/\/$/;function Fa(e,t,r="/"){let n,i={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(n=n||t.slice(0,a),s=t.slice(a,t.length)),n=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),i=n[n.length-1];".."!==i&&"."!==i||n.push("");let o,s,a=r.length-1;for(o=0;o<n.length;o++)if(s=n[o],"."!==s){if(".."!==s)break;a>1&&a--}return r.slice(0,a).join("/")+"/"+n.slice(o).join("/")}(null!=n?n:t,r),{fullPath:n+(o&&"?")+o+s,path:n,query:i,hash:Da(s)}}function ja(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function Na(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Wa(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Ua(e[r],t[r]))return!1;return!0}function Ua(e,t){return ya(e)?$a(e,t):ya(t)?$a(t,e):e===t}function $a(e,t){return ya(t)?e.length===t.length&&e.every((e,r)=>e===t[r]):1===e.length&&e[0]===t}const za={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Va,Ha,qa,Ga;function Ya(e){if(!e)if(ha){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Ba,"")}(Ha=Va||(Va={})).pop="pop",Ha.push="push",(Ga=qa||(qa={})).back="back",Ga.forward="forward",Ga.unknown="";const Ka=/^[^#]+#/;function Xa(e,t){return e.replace(Ka,"#")+t}const Qa=()=>({left:window.scrollX,top:window.scrollY});function Ja(e){let t;if("el"in e){const r=e.el,n="string"==typeof r&&r.startsWith("#"),i="string"==typeof r?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=function(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function Za(e,t){return(history.state?history.state.position-t:-1)+e}const el=new Map;function tl(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,r=i.slice(t);return"/"!==r[0]&&(r="/"+r),ja(r,"")}return ja(r,e)+n+i}function rl(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?Qa():null}}function nl(e){const{history:t,location:r}=window,n={value:tl(e,r)},i={value:t.state};function o(n,o,s){const a=e.indexOf("#"),l=a>-1?(r.host&&document.querySelector("base")?e:e.slice(a))+n:location.protocol+"//"+location.host+e+n;try{t[s?"replaceState":"pushState"](o,"",l),i.value=o}catch(c){console.error(c),r[s?"replace":"assign"](l)}}return i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:n,state:i,push:function(e,r){const s=da({},i.value,t.state,{forward:e,scroll:Qa()});o(s.current,s,!0),o(e,da({},rl(n.value,e,null),{position:s.position+1},r),!1),n.value=e},replace:function(e,r){o(e,da({},t.state,rl(i.value.back,e,i.value.forward,!0),r,{position:i.value.position}),!0),n.value=e}}}function il(e){const t=nl(e=Ya(e)),r=function(e,t,r,n){let i=[],o=[],s=null;const a=({state:o})=>{const a=tl(e,location),l=r.value,c=t.value;let u=0;if(o){if(r.value=a,t.value=o,s&&s===l)return void(s=null);u=c?o.position-c.position:0}else n(a);i.forEach(e=>{e(r.value,l,{delta:u,type:Va.pop,direction:u?u>0?qa.forward:qa.back:qa.unknown})})};function l(){const{history:e}=window;e.state&&e.replaceState(da({},e.state,{scroll:Qa()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){s=r.value},listen:function(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace);const n=da({location:"",base:e,go:function(e,t=!0){t||r.pauseListeners(),history.go(e)},createHref:Xa.bind(null,e)},t,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function ol(e){return"string"==typeof e||"symbol"==typeof e}const sl=Symbol("");var al,ll;function cl(e,t){return da(new Error,{type:e,[sl]:!0},t)}function ul(e,t){return e instanceof Error&&sl in e&&(null==t||!!(e.type&t))}(ll=al||(al={}))[ll.aborted=4]="aborted",ll[ll.cancelled=8]="cancelled",ll[ll.duplicated=16]="duplicated";const hl="[^/]+?",fl={sensitive:!1,strict:!1,start:!0,end:!0},dl=/[.+*?^${}()[\]/\\]/g;function pl(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function gl(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const e=pl(n[r],i[r]);if(e)return e;r++}if(1===Math.abs(i.length-n.length)){if(yl(n))return 1;if(yl(i))return-1}return i.length-n.length}function yl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ml={type:0,value:""},vl=/[a-zA-Z0-9_]/;function bl(e,t,r){const n=function(e,t){const r=da({},fl,t),n=[];let i=r.start?"^":"";const o=[];for(const l of e){const e=l.length?[]:[90];r.strict&&!l.length&&(i+="/");for(let t=0;t<l.length;t++){const n=l[t];let s=40+(r.sensitive?.25:0);if(0===n.type)t||(i+="/"),i+=n.value.replace(dl,"\\$&"),s+=40;else if(1===n.type){const{value:e,repeatable:r,optional:c,regexp:u}=n;o.push({name:e,repeatable:r,optional:c});const h=u||hl;if(h!==hl){s+=10;try{new RegExp(`(${h})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${e}" (${h}): `+a.message)}}let f=r?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;t||(f=c&&l.length<2?`(?:/${f})`:"/"+f),c&&(f+="?"),i+=f,s+=20,c&&(s+=-8),r&&(s+=-20),".*"===h&&(s+=-50)}e.push(s)}n.push(e)}if(r.strict&&r.end){const e=n.length-1;n[e][n[e].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const s=new RegExp(i,r.sensitive?"":"i");return{re:s,score:n,keys:o,parse:function(e){const t=e.match(s),r={};if(!t)return null;for(let n=1;n<t.length;n++){const e=t[n]||"",i=o[n-1];r[i.name]=e&&i.repeatable?e.split("/"):e}return r},stringify:function(t){let r="",n=!1;for(const i of e){n&&r.endsWith("/")||(r+="/"),n=!1;for(const e of i)if(0===e.type)r+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:a}=e,l=o in t?t[o]:"";if(ya(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=ya(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(r.endsWith("/")?r=r.slice(0,-1):n=!0)}r+=c}}return r||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[ml]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${r})/"${c}": ${e}`)}let r=0,n=r;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,l=0,c="",u="";function h(){c&&(0===r?o.push({type:0,value:c}):1===r||2===r||3===r?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;l<e.length;)if(a=e[l++],"\\"!==a||2===r)switch(r){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),r=1):f();break;case 4:f(),r=n;break;case 1:"("===a?r=2:vl.test(a)?f():(h(),r=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:r=3:u+=a;break;case 3:h(),r=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:t("Unknown state")}else n=r,r=4;return 2===r&&t(`Unfinished custom RegExp for param "${c}"`),h(),s(),i}(e.path),r),i=da(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function _l(e,t){const r=[],n=new Map;function i(e,r,n){const a=!n,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:wl(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},mods:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}(e);l.aliasOf=n&&n.record;const c=El(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(da({},l,{components:n?n.record.components:l.components,path:e,aliasOf:n?n.record:l}))}let h,f;for(const t of u){const{path:u}=t;if(r&&"/"!==u[0]){const e=r.record.path,n="/"===e[e.length-1]?"":"/";t.path=r.record.path+(u&&n+u)}if(h=bl(t,r,c),n?n.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),a&&e.name&&!Sl(h)&&o(e.name)),Al(h)&&s(h),l.children){const e=l.children;for(let t=0;t<e.length;t++)i(e[t],h,n&&n.children[t])}n=n||h}return f?()=>{o(f)}:ga}function o(e){if(ol(e)){const t=n.get(e);t&&(n.delete(e),r.splice(r.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=r.indexOf(e);t>-1&&(r.splice(t,1),e.record.name&&n.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(e){const t=function(e,t){let r=0,n=t.length;for(;r!==n;){const i=r+n>>1;gl(e,t[i])<0?n=i:r=i+1}const i=function(e){let t=e;for(;t=t.parent;)if(Al(t)&&0===gl(e,t))return t;return}(e);i&&(n=t.lastIndexOf(i,n-1));return n}(e,r);r.splice(t,0,e),e.record.name&&!Sl(e)&&n.set(e.record.name,e)}return t=El({strict:!1,end:!0,sensitive:!1},t),e.forEach(e=>i(e)),{addRoute:i,resolve:function(e,t){let i,o,s,a={};if("name"in e&&e.name){if(i=n.get(e.name),!i)throw cl(1,{location:e});s=i.record.name,a=da(xl(t.params,i.keys.filter(e=>!e.optional).concat(i.parent?i.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&xl(e.params,i.keys.map(e=>e.name))),o=i.stringify(a)}else if(null!=e.path)o=e.path,i=r.find(e=>e.re.test(o)),i&&(a=i.parse(o),s=i.record.name);else{if(i=t.name?n.get(t.name):r.find(e=>e.re.test(t.path)),!i)throw cl(1,{location:e,currentLocation:t});s=i.record.name,a=da({},t.params,e.params),o=i.stringify(a)}const l=[];let c=i;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:l,meta:Tl(l)}},removeRoute:o,clearRoutes:function(){r.length=0,n.clear()},getRoutes:function(){return r},getRecordMatcher:function(e){return n.get(e)}}}function xl(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function wl(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]="object"==typeof r?r[n]:r;return t}function Sl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Tl(e){return e.reduce((e,t)=>da(e,t.meta),{})}function El(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function Al({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function kl(e){const t={};if(""===e||"?"===e)return t;const r=("?"===e[0]?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const e=r[n].replace(wa," "),i=e.indexOf("="),o=Da(i<0?e:e.slice(0,i)),s=i<0?null:Da(e.slice(i+1));if(o in t){let e=t[o];ya(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function Cl(e){let t="";for(let r in e){const n=e[r];if(r=La(r),null==n){void 0!==n&&(t+=(t.length?"&":"")+r);continue}(ya(n)?n.map(e=>e&&Ia(e)):[n&&Ia(n)]).forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+r,null!=e&&(t+="="+e))})}return t}function Pl(e){const t={};for(const r in e){const n=e[r];void 0!==n&&(t[r]=ya(n)?n.map(e=>null==e?null:""+e):null==n?n:""+n)}return t}const Ol=Symbol(""),Ml=Symbol(""),Il=Symbol(""),Ll=Symbol(""),Rl=Symbol("");function Dl(){let e=[];return{add:function(t){return e.push(t),()=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function Bl(e,t,r,n,i,o=e=>e()){const s=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=e=>{var o;!1===e?l(cl(4,{from:r,to:t})):e instanceof Error?l(e):"string"==typeof(o=e)||o&&"object"==typeof o?l(cl(2,{from:t,to:e})):(s&&n.enterCallbacks[i]===s&&"function"==typeof e&&s.push(e),a())},u=o(()=>e.call(n&&n.instances[i],t,r,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(e=>l(e))})}function Fl(e,t,r,n,i=e=>e()){const o=[];for(const s of e)for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if(fa(a)){const l=(a.__vccOpts||a)[t];l&&o.push(Bl(l,r,n,s,e,i))}else{let l=a();o.push(()=>l.then(o=>{if(!o)throw new Error(`Couldn't resolve component "${e}" at "${s.path}"`);const a=(l=o).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&fa(l.default)?o.default:o;var l;s.mods[e]=o,s.components[e]=a;const c=(a.__vccOpts||a)[t];return c&&Bl(c,r,n,s,e,i)()}))}}return o}function jl(e){const t=no(Il),r=no(Ll),n=hs(()=>{const r=qr(e.to);return t.resolve(r)}),i=hs(()=>{const{matched:e}=n.value,{length:t}=e,i=e[t-1],o=r.matched;if(!i||!o.length)return-1;const s=o.findIndex(Na.bind(null,i));if(s>-1)return s;const a=Wl(e[t-2]);return t>1&&Wl(i)===a&&o[o.length-1].path!==a?o.findIndex(Na.bind(null,e[t-2])):s}),o=hs(()=>i.value>-1&&function(e,t){for(const r in t){const n=t[r],i=e[r];if("string"==typeof n){if(n!==i)return!1}else if(!ya(i)||i.length!==n.length||n.some((e,t)=>e!==i[t]))return!1}return!0}(r.params,n.value.params)),s=hs(()=>i.value>-1&&i.value===r.matched.length-1&&Wa(r.params,n.value.params));return{route:n,href:hs(()=>n.value.href),isActive:o,isExactActive:s,navigate:function(r={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(r)?t[qr(e.replace)?"replace":"push"](qr(e.to)).catch(ga):Promise.resolve()}}}const Nl=ni({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:jl,setup(e,{slots:t}){const r=Ar(jl(e)),{options:n}=no(Il),i=hs(()=>({[Ul(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Ul(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const n=t.default&&t.default(r);return e.custom?n:fs("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},n)}}});function Wl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ul=(e,t,r)=>null!=e?e:null!=t?t:r;function $l(e,t){if(!e)return null;const r=e(t);return 1===r.length?r[0]:r}const zl=ni({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=no(Rl),i=hs(()=>e.route||n.value),o=no(Ml,0),s=hs(()=>{let e=qr(o);const{matched:t}=i.value;let r;for(;(r=t[e])&&!r.components;)e++;return e}),a=hs(()=>i.value.matched[s.value]);ro(Ml,hs(()=>s.value+1)),ro(Ol,a),ro(Rl,i);const l=$r();return Nn(()=>[l.value,a.value,e.name],([e,t,r],[n,i,o])=>{t&&(t.instances[r]=e,i&&i!==t&&e&&e===n&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&Na(t,i)&&n||(t.enterCallbacks[r]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const n=i.value,o=e.name,s=a.value,c=s&&s.components[o];if(!c)return $l(r.default,{Component:c,route:n});const u=s.props[o],h=u?!0===u?n.params:"function"==typeof u?u(n):u:null,f=fs(c,da({},h,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(s.instances[o]=null)},ref:l}));return $l(r.default,{Component:f,route:n})||f}}});function Vl(e){const t=_l(e.routes,e),r=e.parseQuery||kl,n=e.stringifyQuery||Cl,i=e.history,o=Dl(),s=Dl(),a=Dl(),l=zr(za);let c=za;ha&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=pa.bind(null,e=>""+e),h=pa.bind(null,Ra),f=pa.bind(null,Da);function d(e,o){if(o=da({},o||l.value),"string"==typeof e){const n=Fa(r,e,o.path),s=t.resolve({path:n.path},o),a=i.createHref(n.fullPath);return da(n,s,{params:f(s.params),hash:Da(n.hash),redirectedFrom:void 0,href:a})}let s;if(null!=e.path)s=da({},e,{path:Fa(r,e.path,o.path).path});else{const t=da({},e.params);for(const e in t)null==t[e]&&delete t[e];s=da({},e,{params:h(t)}),o.params=h(o.params)}const a=t.resolve(s,o),c=e.hash||"";a.params=u(f(a.params));const d=function(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}(n,da({},e,{hash:(p=c,Ma(p).replace(ka,"{").replace(Pa,"}").replace(Ea,"^")),path:a.path}));var p;const g=i.createHref(d);return da({fullPath:d,hash:c,query:n===Cl?Pl(e.query):e.query||{}},a,{redirectedFrom:void 0,href:g})}function p(e){return"string"==typeof e?Fa(r,e,l.value.path):da({},e)}function g(e,t){if(c!==e)return cl(8,{from:t,to:e})}function y(e){return v(e)}function m(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:r}=t;let n="function"==typeof r?r(e):r;return"string"==typeof n&&(n=n.includes("?")||n.includes("#")?n=p(n):{path:n},n.params={}),da({query:e.query,hash:e.hash,params:null!=n.path?{}:e.params},n)}}function v(e,t){const r=c=d(e),i=l.value,o=e.state,s=e.force,a=!0===e.replace,u=m(r);if(u)return v(da(p(u),{state:"object"==typeof u?da({},o,u.state):o,force:s,replace:a}),t||r);const h=r;let f;return h.redirectedFrom=t,!s&&function(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&Na(t.matched[n],r.matched[i])&&Wa(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}(n,i,r)&&(f=cl(16,{to:h,from:i}),M(i,i,!0,!1)),(f?Promise.resolve(f):x(h,i)).catch(e=>ul(e)?ul(e,2)?e:O(e):P(e,h,i)).then(e=>{if(e){if(ul(e,2))return v(da({replace:a},p(e.to),{state:"object"==typeof e.to?da({},o,e.to.state):o,force:s}),t||h)}else e=S(h,i,!0,a,o);return w(h,i,e),e})}function b(e,t){const r=g(e,t);return r?Promise.reject(r):Promise.resolve()}function _(e){const t=R.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function x(e,t){let r;const[n,i,a]=function(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find(e=>Na(e,o))?n.push(o):r.push(o));const a=e.matched[s];a&&(t.matched.find(e=>Na(e,a))||i.push(a))}return[r,n,i]}(e,t);r=Fl(n.reverse(),"beforeRouteLeave",e,t);for(const o of n)o.leaveGuards.forEach(n=>{r.push(Bl(n,e,t))});const l=b.bind(null,e,t);return r.push(l),B(r).then(()=>{r=[];for(const n of o.list())r.push(Bl(n,e,t));return r.push(l),B(r)}).then(()=>{r=Fl(i,"beforeRouteUpdate",e,t);for(const n of i)n.updateGuards.forEach(n=>{r.push(Bl(n,e,t))});return r.push(l),B(r)}).then(()=>{r=[];for(const n of a)if(n.beforeEnter)if(ya(n.beforeEnter))for(const i of n.beforeEnter)r.push(Bl(i,e,t));else r.push(Bl(n.beforeEnter,e,t));return r.push(l),B(r)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),r=Fl(a,"beforeRouteEnter",e,t,_),r.push(l),B(r))).then(()=>{r=[];for(const n of s.list())r.push(Bl(n,e,t));return r.push(l),B(r)}).catch(e=>ul(e,8)?e:Promise.reject(e))}function w(e,t,r){a.list().forEach(n=>_(()=>n(e,t,r)))}function S(e,t,r,n,o){const s=g(e,t);if(s)return s;const a=t===za,c=ha?history.state:{};r&&(n||a?i.replace(e.fullPath,da({scroll:a&&c&&c.scroll},o)):i.push(e.fullPath,o)),l.value=e,M(e,t,r,a),O()}let T;function E(){T||(T=i.listen((e,t,r)=>{if(!D.listening)return;const n=d(e),o=m(n);if(o)return void v(da(o,{replace:!0}),n).catch(ga);c=n;const s=l.value;var a,u;ha&&(a=Za(s.fullPath,r.delta),u=Qa(),el.set(a,u)),x(n,s).catch(e=>ul(e,12)?e:ul(e,2)?(v(e.to,n).then(e=>{ul(e,20)&&!r.delta&&r.type===Va.pop&&i.go(-1,!1)}).catch(ga),Promise.reject()):(r.delta&&i.go(-r.delta,!1),P(e,n,s))).then(e=>{(e=e||S(n,s,!1))&&(r.delta&&!ul(e,8)?i.go(-r.delta,!1):r.type===Va.pop&&ul(e,20)&&i.go(-1,!1)),w(n,s,e)}).catch(ga)}))}let A,k=Dl(),C=Dl();function P(e,t,r){O(e);const n=C.list();return n.length?n.forEach(n=>n(e,t,r)):console.error(e),Promise.reject(e)}function O(e){return A||(A=!e,E(),k.list().forEach(([t,r])=>e?r(e):t()),k.reset()),e}function M(t,r,n,i){const{scrollBehavior:o}=e;if(!ha||!o)return Promise.resolve();const s=!n&&function(e){const t=el.get(e);return el.delete(e),t}(Za(t.fullPath,0))||(i||!n)&&history.state&&history.state.scroll||null;return cn().then(()=>o(t,r,s)).then(e=>e&&Ja(e)).catch(e=>P(e,t,r))}const I=e=>i.go(e);let L;const R=new Set,D={currentRoute:l,listening:!0,addRoute:function(e,r){let n,i;return ol(e)?(n=t.getRecordMatcher(e),i=r):i=e,t.addRoute(i,n)},removeRoute:function(e){const r=t.getRecordMatcher(e);r&&t.removeRoute(r)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map(e=>e.record)},resolve:d,options:e,push:y,replace:function(e){return y(da(p(e),{replace:!0}))},go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:C.add,isReady:function(){return A&&l.value!==za?Promise.resolve():new Promise((e,t)=>{k.add([e,t])})},install(e){e.component("RouterLink",Nl),e.component("RouterView",zl),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>qr(l)}),ha&&!L&&l.value===za&&(L=!0,y(i.location).catch(e=>{}));const t={};for(const n in za)Object.defineProperty(t,n,{get:()=>l.value[n],enumerable:!0});e.provide(Il,this),e.provide(Ll,kr(t)),e.provide(Rl,l);const r=e.unmount;R.add(e),e.unmount=function(){R.delete(e),R.size<1&&(c=za,T&&T(),T=null,l.value=za,L=!1,A=!1),r()}}};function B(e){return e.reduce((e,t)=>e.then(()=>_(t)),Promise.resolve())}return D}function Hl(e){return no(Ll)}const ql=["{","}"];const Gl=/^(?:\d)+/,Yl=/^(?:\w)+/;const Kl="zh-Hans",Xl="zh-Hant",Ql="en",Jl="fr",Zl="es",ec=Object.prototype.hasOwnProperty,tc=(e,t)=>ec.call(e,t),rc=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,r=ql){if(!t)return[e];let n=this._caches[e];return n||(n=function(e,[t,r]){const n=[];let i=0,o="";for(;i<e.length;){let s=e[i++];if(s===t){o&&n.push({type:"text",value:o}),o="";let t="";for(s=e[i++];void 0!==s&&s!==r;)t+=s,s=e[i++];const a=s===r,l=Gl.test(t)?"list":a&&Yl.test(t)?"named":"unknown";n.push({value:t,type:l})}else o+=s}return o&&n.push({type:"text",value:o}),n}(e,r),this._caches[e]=n),function(e,t){const r=[];let n=0;const i=Array.isArray(t)?"list":(o=t,null!==o&&"object"==typeof o?"named":"unknown");var o;if("unknown"===i)return r;for(;n<e.length;){const o=e[n];switch(o.type){case"text":r.push(o.value);break;case"list":r.push(t[parseInt(o.value,10)]);break;case"named":"named"===i&&r.push(t[o.value])}n++}return r}(n,t)}};function nc(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return Kl;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?Kl:e.indexOf("-hant")>-1?Xl:(r=e,["-tw","-hk","-mo","-cht"].find(e=>-1!==r.indexOf(e))?Xl:Kl);var r;let n=[Ql,Jl,Zl];t&&Object.keys(t).length>0&&(n=Object.keys(t));const i=function(e,t){return t.find(t=>0===e.indexOf(t))}(e,n);return i||void 0}class ic{constructor({locale:e,fallbackLocale:t,messages:r,watcher:n,formater:i}){this.locale=Ql,this.fallbackLocale=Ql,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=i||rc,this.messages=r||{},this.setLocale(e||Ql),n&&this.watchLocale(n)}setLocale(e){const t=this.locale;this.locale=nc(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach(e=>{e(this.locale,t)})}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,r=!0){const n=this.messages[e];n?r?Object.assign(n,t):Object.keys(t).forEach(e=>{tc(n,e)||(n[e]=t[e])}):this.messages[e]=t}f(e,t,r){return this.formater.interpolate(e,t,r).join("")}t(e,t,r){let n=this.message;return"string"==typeof t?(t=nc(t,this.messages))&&(n=this.messages[t]):r=t,tc(n,e)?this.formater.interpolate(n[e],r).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}function oc(e,t={},r,n){if("string"!=typeof e){const r=[t,e];e=r[0],t=r[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&cf?cf():"undefined"!=typeof global&&global.getLocale?global.getLocale():Ql),"string"!=typeof r&&(r="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||Ql);const i=new ic({locale:e,fallbackLocale:r,messages:t,watcher:n});let o=(e,t)=>{{let e=!1;o=function(t,r){const n=lg().$vm;return n&&(n.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale(e=>{t.setLocale(e)}):e.$watch(()=>e.$locale,e=>{t.setLocale(e)})}(n,i))),i.t(t,r)}}return o(e,t)};return{i18n:i,f:(e,t,r)=>i.f(e,t,r),t:(e,t)=>o(e,t),add:(e,t,r=!0)=>i.add(e,t,r),watch:e=>i.watchLocale(e),getLocale:()=>i.getLocale(),setLocale:e=>i.setLocale(e)}}const sc=We(()=>"undefined"!=typeof __uniConfig&&__uniConfig.locales&&!!Object.keys(__uniConfig.locales).length);let ac;function lc(){if(!ac){let e;if(e=navigator.cookieEnabled&&window.localStorage&&localStorage.UNI_LOCALE||__uniConfig.locale||navigator.language,ac=oc(e),sc()){const t=Object.keys(__uniConfig.locales||{});t.length&&t.forEach(e=>ac.add(e,__uniConfig.locales[e])),ac.setLocale(e)}}return ac}function cc(e,t,r){return t.reduce((t,n,i)=>(t[e+n]=r[i],t),{})}const uc=We(()=>{const e="uni.async.",t=["error"];lc().add(Ql,cc(e,t,["The connection timed out, click the screen to try again."]),!1),lc().add(Zl,cc(e,t,["Se agot el tiempo de conexin, haga clic en la pantalla para volver a intentarlo."]),!1),lc().add(Jl,cc(e,t,["La connexion a expir, cliquez sur l'cran pour ressayer."]),!1),lc().add(Kl,cc(e,t,[""]),!1),lc().add(Xl,cc(e,t,[""]),!1)}),hc=We(()=>{const e="uni.showToast.",t=["unpaired"];lc().add(Ql,cc(e,t,["Please note showToast must be paired with hideToast"]),!1),lc().add(Zl,cc(e,t,["Tenga en cuenta que showToast debe estar emparejado con hideToast"]),!1),lc().add(Jl,cc(e,t,["Veuillez noter que showToast doit tre associ  hideToast"]),!1),lc().add(Kl,cc(e,t,[" showToast  hideToast "]),!1),lc().add(Xl,cc(e,t,[" showToast  hideToast "]),!1)}),fc=We(()=>{const e="uni.showLoading.",t=["unpaired"];lc().add(Ql,cc(e,t,["Please note showLoading must be paired with hideLoading"]),!1),lc().add(Zl,cc(e,t,["Tenga en cuenta que showLoading debe estar emparejado con hideLoading"]),!1),lc().add(Jl,cc(e,t,["Veuillez noter que showLoading doit tre associ  hideLoading"]),!1),lc().add(Kl,cc(e,t,[" showLoading  hideLoading "]),!1),lc().add(Xl,cc(e,t,[" showLoading  hideLoading "]),!1)}),dc=We(()=>{const e="uni.picker.",t=["done","cancel"];lc().add(Ql,cc(e,t,["Done","Cancel"]),!1),lc().add(Zl,cc(e,t,["OK","Cancelar"]),!1),lc().add(Jl,cc(e,t,["OK","Annuler"]),!1),lc().add(Kl,cc(e,t,["",""]),!1),lc().add(Xl,cc(e,t,["",""]),!1)});function pc(e){const t=new pt;return{on:(e,r)=>t.on(e,r),once:(e,r)=>t.once(e,r),off:(e,r)=>t.off(e,r),emit:(e,...r)=>t.emit(e,...r),subscribe(r,n,i=!1){t[i?"once":"on"](`${e}.${r}`,n)},unsubscribe(r,n){t.off(`${e}.${r}`,n)},subscribeHandler(r,n,i){t.emit(`${e}.${r}`,n,i)}}}const gc="invokeViewApi",yc="invokeServiceApi";let mc=1;const vc=Object.create(null);function bc(e,t){return e+"."+t}function _c(e,t,r){t=bc(e,t),vc[t]||(vc[t]=r)}function xc({id:e,name:t,args:r},n){t=bc(n,t);const i=t=>{e&&yy.publishHandler(gc+"."+e,t)},o=vc[t];o?o(r,i):i({})}const wc=m(pc("service"),{invokeServiceMethod:(e,t,r)=>{const{subscribe:n,publishHandler:i}=yy,o=r?mc++:0;r&&n(yc+"."+o,r,!0),i(yc,{id:o,name:e,args:t})}}),Sc=tt(!0);let Tc;function Ec(){Tc&&(clearTimeout(Tc),Tc=null)}let Ac=0,kc=0;function Cc(e){if(Ec(),1!==e.touches.length)return;const{pageX:t,pageY:r}=e.touches[0];Ac=t,kc=r,Tc=setTimeout(function(){const t=new CustomEvent("longpress",{bubbles:!0,cancelable:!0,target:e.target,currentTarget:e.currentTarget});t.touches=e.touches,t.changedTouches=e.changedTouches,e.target.dispatchEvent(t)},350)}function Pc(e){if(!Tc)return;if(1!==e.touches.length)return Ec();const{pageX:t,pageY:r}=e.touches[0];return Math.abs(t-Ac)>10||Math.abs(r-kc)>10?Ec():void 0}function Oc(e,t){const r=Number(e);return isNaN(r)?t:r}function Mc(){const e=__uniConfig.globalStyle||{},t=Oc(e.rpxCalcMaxDeviceWidth,960),r=Oc(e.rpxCalcBaseDeviceWidth,375);function n(){let e=function(){const e=/^Apple/.test(navigator.vendor)&&"number"==typeof window.orientation,t=e&&90===Math.abs(window.orientation);var r=e?Math[t?"max":"min"](screen.width,screen.height):screen.width;return Math.min(window.innerWidth,document.documentElement.clientWidth,r)||r}();e=e<=t?e:r,document.documentElement.style.fontSize=e/23.4375+"px"}n(),document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n),window.addEventListener("resize",n)}function Ic(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lc,Rc,Dc=["top","left","right","bottom"],Bc={};function Fc(){return Rc="CSS"in window&&"function"==typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":""}function jc(){if(Rc="string"==typeof Rc?Rc:Fc()){var e=[],t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t={passive:!0}}});window.addEventListener("test",null,r)}catch(a){}var n=document.createElement("div");i(n,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),Dc.forEach(function(e){s(n,e)}),document.body.appendChild(n),o(),Lc=!0}else Dc.forEach(function(e){Bc[e]=0});function i(e,t){var r=e.style;Object.keys(t).forEach(function(e){var n=t[e];r[e]=n})}function o(t){t?e.push(t):e.forEach(function(e){e()})}function s(e,r){var n=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),c={position:"absolute",width:"100px",height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:Rc+"(safe-area-inset-"+r+")"};i(n,c),i(s,c),i(a,{transition:"0s",animation:"none",width:"400px",height:"400px"}),i(l,{transition:"0s",animation:"none",width:"250%",height:"250%"}),n.appendChild(a),s.appendChild(l),e.appendChild(n),e.appendChild(s),o(function(){n.scrollTop=s.scrollTop=1e4;var e=n.scrollTop,i=s.scrollTop;function o(){this.scrollTop!==(this===n?e:i)&&(n.scrollTop=s.scrollTop=1e4,e=n.scrollTop,i=s.scrollTop,function(e){Wc.length||setTimeout(function(){var e={};Wc.forEach(function(t){e[t]=Bc[t]}),Wc.length=0,Uc.forEach(function(t){t(e)})},0);Wc.push(e)}(r))}n.addEventListener("scroll",o,t),s.addEventListener("scroll",o,t)});var u=getComputedStyle(n);Object.defineProperty(Bc,r,{configurable:!0,get:function(){return parseFloat(u.paddingBottom)}})}}function Nc(e){return Lc||jc(),Bc[e]}var Wc=[];var Uc=[];const $c=Ic({get support(){return 0!=("string"==typeof Rc?Rc:Fc()).length},get top(){return Nc("top")},get left(){return Nc("left")},get right(){return Nc("right")},get bottom(){return Nc("bottom")},onChange:function(e){Fc()&&(Lc||jc(),"function"==typeof e&&Uc.push(e))},offChange:function(e){var t=Uc.indexOf(e);t>=0&&Uc.splice(t,1)}}),zc=aa(()=>{},["prevent"]),Vc=aa(e=>{},["stop"]);function Hc(e,t){return parseInt((e.getPropertyValue(t).match(/\d+/)||["0"])[0])}function qc(){const e=Hc(document.documentElement.style,"--window-top");return e?e+$c.top:0}function Gc(){const e=document.documentElement.style,t=qc(),r=Hc(e,"--window-bottom"),n=Hc(e,"--window-left"),i=Hc(e,"--window-right"),o=Hc(e,"--top-window-height");return{top:t,bottom:r?r+$c.bottom:0,left:n?n+$c.left:0,right:i?i+$c.right:0,topWindowHeight:o||0}}function Yc(e){const t=document.documentElement.style;Object.keys(e).forEach(r=>{t.setProperty(r,e[r])})}function Kc(e){return Symbol(e)}function Xc(e){return e.$page}function Qc(e){return 0===e.tagName.indexOf("UNI-")}const Jc="M1.952 18.080q-0.32-0.352-0.416-0.88t0.128-0.976l0.16-0.352q0.224-0.416 0.64-0.528t0.8 0.176l6.496 4.704q0.384 0.288 0.912 0.272t0.88-0.336l17.312-14.272q0.352-0.288 0.848-0.256t0.848 0.352l-0.416-0.416q0.32 0.352 0.32 0.816t-0.32 0.816l-18.656 18.912q-0.32 0.352-0.8 0.352t-0.8-0.32l-7.936-8.064z",Zc="M15.808 0.16q-4.224 0-7.872 2.176-3.552 2.112-5.632 5.728-2.144 3.744-2.144 8.128 0 4.192 2.144 7.872 2.112 3.52 5.632 5.632 3.68 2.144 7.872 2.144 4.384 0 8.128-2.144 3.616-2.080 5.728-5.632 2.176-3.648 2.176-7.872 0-4.384-2.176-8.128-2.112-3.616-5.728-5.728-3.744-2.176-8.128-2.176zM15.136 8.672h1.728q0.128 0 0.224 0.096t0.096 0.256l-0.384 10.24q0 0.064-0.048 0.112t-0.112 0.048h-1.248q-0.096 0-0.144-0.048t-0.048-0.112l-0.384-10.24q0-0.16 0.096-0.256t0.224-0.096zM16 23.328q-0.48 0-0.832-0.352t-0.352-0.848 0.352-0.848 0.832-0.352 0.832 0.352 0.352 0.848-0.352 0.848-0.832 0.352z",eu="M21.781 7.844l-9.063 8.594 9.063 8.594q0.25 0.25 0.25 0.609t-0.25 0.578q-0.25 0.25-0.578 0.25t-0.578-0.25l-9.625-9.125q-0.156-0.125-0.203-0.297t-0.047-0.359q0-0.156 0.047-0.328t0.203-0.297l9.625-9.125q0.25-0.25 0.578-0.25t0.578 0.25q0.25 0.219 0.25 0.578t-0.25 0.578z";function tu(e,t="#000",r=27){return $o("svg",{width:r,height:r,viewBox:"0 0 32 32"},[$o("path",{d:e,fill:t},null,8,["d","fill"])],8,["width","height"])}function ru(){{const{$pageInstance:e}=es();return e&&cu(e.proxy)}}function nu(){const e=qf(),t=e.length;if(t)return e[t-1]}function iu(){var e;const t=null==(e=nu())?void 0:e.$page;if(t)return t.meta}function ou(){const e=iu();return e?e.id:-1}function su(){const e=nu();if(e)return e.$vm}const au=["navigationBar","pullToRefresh"];function lu(e,t){const r=JSON.parse(JSON.stringify(__uniConfig.globalStyle||{})),n=m({id:t},r,e);au.forEach(t=>{n[t]=m({},r[t],e[t])});const{navigationBar:i}=n;return i.titleText&&i.titleImage&&(i.titleText=""),n}function cu(e){var t,r;return(null==(t=e.$page)?void 0:t.id)||(null==(r=e.$basePage)?void 0:r.id)}function uu(e,t,r){if(E(e))r=t,t=e,e=su();else if("number"==typeof e){const t=qf().find(t=>Xc(t).id===e);e=t?t.$vm:su()}if(!e)return;const n=e.$[t];return n&&((e,t)=>{let r;for(let n=0;n<e.length;n++)r=e[n](t);return r})(n,r)}function hu(e){e.preventDefault()}let fu,du=0;function pu({onPageScroll:e,onReachBottom:t,onReachBottomDistance:r}){let n=!1,i=!1,o=!0;const s=()=>{function s(){if((()=>{const{scrollHeight:e}=document.documentElement,t=window.innerHeight,n=window.scrollY,o=n>0&&e>t&&n+t+r>=e,s=Math.abs(e-du)>r;return!o||i&&!s?(!o&&i&&(i=!1),!1):(du=e,i=!0,!0)})())return t&&t(),o=!1,setTimeout(function(){o=!0},350),!0}e&&e(window.pageYOffset),t&&o&&(s()||(fu=setTimeout(s,300))),n=!1};return function(){clearTimeout(fu),n||requestAnimationFrame(s),n=!0}}function gu(e,t){if(0===t.indexOf("/"))return t;if(0===t.indexOf("./"))return gu(e,t.slice(2));const r=t.split("/"),n=r.length;let i=0;for(;i<n&&".."===r[i];i++);r.splice(0,i),t=r.join("/");const o=e.length>0?e.split("/"):[];return o.splice(o.length-i-1,i+1),Ne(o.concat(r).join("/"))}function yu(e,t=!1){return t?__uniRoutes.find(t=>t.path===e||t.alias===e):__uniRoutes.find(t=>t.path===e)}function mu(){Mc(),Je(Qc),window.addEventListener("touchstart",Cc,Sc),window.addEventListener("touchmove",Pc,Sc),window.addEventListener("touchend",Ec,Sc),window.addEventListener("touchcancel",Ec,Sc)}class vu{constructor(e){this.$bindClass=!1,this.$bindStyle=!1,this.$vm=e,this.$el=function(e,t=!1){const{vnode:r}=e;if(Ye(r.el))return t?r.el?[r.el]:[]:r.el;const{subTree:n}=e;if(16&n.shapeFlag){const e=n.children.filter(e=>e.el&&Ye(e.el));if(e.length>0)return t?e.map(e=>e.el):e[0].el}return t?r.el?[r.el]:[]:r.el}(e.$),this.$el.getAttribute&&(this.$bindClass=!!this.$el.getAttribute("class"),this.$bindStyle=!!this.$el.getAttribute("style"))}selectComponent(e){if(!this.$el||!e)return;const t=wu(this.$el.querySelector(e));return t?bu(t,!1):void 0}selectAllComponents(e){if(!this.$el||!e)return[];const t=[],r=this.$el.querySelectorAll(e);for(let n=0;n<r.length;n++){const e=wu(r[n]);e&&t.push(bu(e,!1))}return t}forceUpdate(e){"class"===e?this.$bindClass?(this.$el.__wxsClassChanged=!0,this.$vm.$forceUpdate()):this.updateWxsClass():"style"===e&&(this.$bindStyle?(this.$el.__wxsStyleChanged=!0,this.$vm.$forceUpdate()):this.updateWxsStyle())}updateWxsClass(){const{__wxsAddClass:e}=this.$el;e.length&&(this.$el.className=e.join(" "))}updateWxsStyle(){const{__wxsStyle:e}=this.$el;e&&this.$el.setAttribute("style",function(e){let t="";if(!e||E(e))return t;for(const r in e){const n=e[r],i=r.startsWith("--")?r:j(r);(E(n)||"number"==typeof n)&&(t+=`${i}:${n};`)}return t}(e))}setStyle(e){return this.$el&&e?(E(e)&&(e=Q(e)),M(e)&&(this.$el.__wxsStyle=e,this.forceUpdate("style")),this):this}addClass(e){if(!this.$el||!e)return this;const t=this.$el.__wxsAddClass||(this.$el.__wxsAddClass=[]);return-1===t.indexOf(e)&&(t.push(e),this.forceUpdate("class")),this}removeClass(e){if(!this.$el||!e)return this;const{__wxsAddClass:t}=this.$el;if(t){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const r=this.$el.__wxsRemoveClass||(this.$el.__wxsRemoveClass=[]);return-1===r.indexOf(e)&&(r.push(e),this.forceUpdate("class")),this}hasClass(e){return this.$el&&this.$el.classList.contains(e)}getDataset(){return this.$el&&this.$el.dataset}callMethod(e,t={}){const r=this.$vm[e];T(r)?r(JSON.parse(JSON.stringify(t))):this.$vm.ownerId&&yy.publishHandler("onWxsInvokeCallMethod",{nodeId:this.$el.__id,ownerId:this.$vm.ownerId,method:e,args:t})}requestAnimationFrame(e){return window.requestAnimationFrame(e)}getState(){return this.$el&&(this.$el.__wxsState||(this.$el.__wxsState={}))}triggerEvent(e,t={}){return this.$vm.$emit(e,t),this}getComputedStyle(e){if(this.$el){const t=window.getComputedStyle(this.$el);return e&&e.length?e.reduce((e,r)=>(e[r]=t[r],e),{}):t}return{}}setTimeout(e,t){return window.setTimeout(e,t)}clearTimeout(e){return window.clearTimeout(e)}getBoundingClientRect(){return this.$el.getBoundingClientRect()}}function bu(e,t=!0){if(t&&e&&(e=Ge(e.$)),e&&e.$el)return e.$el.__wxsComponentDescriptor||(e.$el.__wxsComponentDescriptor=new vu(e)),e.$el.__wxsComponentDescriptor}function _u(e,t){return bu(e,t)}function xu(e,t,r,n=!0){if(t){e.__instance||(e.__instance=!0,Object.defineProperty(e,"instance",{get:()=>_u(r.proxy,!1)}));const i=function(e,t,r=!0){if(!t)return!1;if(r&&e.length<2)return!1;const n=Ge(t);if(!n)return!1;const i=n.$.type;return!(!i.$wxs&&!i.$renderjs)&&n}(t,r,n);if(i)return[e,_u(i,!1)]}}function wu(e){if(e)return e.__vueParentComponent&&e.__vueParentComponent.proxy}function Su(e,t=!1){const{type:r,timeStamp:n,target:i,currentTarget:o}=e;let s,a;s=rt(t?i:function(e){for(;!Qc(e);)e=e.parentElement;return e}(i)),a=rt(o);const l={type:r,timeStamp:n,target:s,detail:{},currentTarget:a};return e instanceof CustomEvent&&M(e.detail)&&(l.detail=e.detail),e._stopped&&(l._stopped=!0),e.type.startsWith("touch")&&(l.touches=e.touches,l.changedTouches=e.changedTouches),function(e,t){m(e,{preventDefault:()=>t.preventDefault(),stopPropagation:()=>t.stopPropagation()})}(l,e),l}function Tu(e,t){return{force:1,identifier:0,clientX:e.clientX,clientY:e.clientY-t,pageX:e.pageX,pageY:e.pageY-t}}function Eu(e,t){const r=[];for(let n=0;n<e.length;n++){const{identifier:i,pageX:o,pageY:s,clientX:a,clientY:l,force:c}=e[n];r.push({identifier:i,pageX:o,pageY:s-t,clientX:a,clientY:l-t,force:c||0})}return r}const Au=Object.defineProperty({__proto__:null,$nne:function(e,t,r){const{currentTarget:n}=e;if(!(e instanceof Event&&n instanceof HTMLElement))return[e];const i=!Qc(n);if(i)return xu(e,t,r,!1)||[e];const o=Su(e,i);if("click"===e.type)!function(e,t){const{x:r,y:n}=t,i=qc();e.detail={x:r,y:n-i},e.touches=e.changedTouches=[Tu(t,i)]}(o,e);else if((e=>0===e.type.indexOf("mouse")||["contextmenu"].includes(e.type))(e))!function(e,t){const r=qc();e.pageX=t.pageX,e.pageY=t.pageY-r,e.clientX=t.clientX,e.clientY=t.clientY-r,e.touches=e.changedTouches=[Tu(t,r)]}(o,e);else if((e=>"undefined"!=typeof TouchEvent&&e instanceof TouchEvent||0===e.type.indexOf("touch")||["longpress"].indexOf(e.type)>=0)(e)){const t=qc();o.touches=Eu(e.touches,t),o.changedTouches=Eu(e.changedTouches,t)}else if((e=>!e.type.indexOf("key")&&e instanceof KeyboardEvent)(e)){["key","code"].forEach(t=>{Object.defineProperty(o,t,{get:()=>e[t]})})}return xu(o,t,r)||[o]},createNativeEvent:Su},Symbol.toStringTag,{value:"Module"});function ku(e){!function(e){const t=e.globalProperties;m(t,Au),t.$gcd=_u}(e._context.config)}let Cu=1;function Pu(e){return(e||ou())+"."+gc}const Ou=m(pc("view"),{invokeOnCallback:(e,t)=>my.emit("api."+e,t),invokeViewMethod:(e,t,r,n)=>{const{subscribe:i,publishHandler:o}=my,s=n?Cu++:0;n&&i(gc+"."+s,n,!0),o(Pu(r),{id:s,name:e,args:t},r)},invokeViewMethodKeepAlive:(e,t,r,n)=>{const{subscribe:i,unsubscribe:o,publishHandler:s}=my,a=Cu++,l=gc+"."+a;return i(l,r),s(Pu(n),{id:a,name:e,args:t},n),()=>{o(l)}}});function Mu(e){uu(nu(),xe,e),my.invokeOnCallback("onWindowResize",e)}function Iu(e){const t=nu();uu(lg(),ue,e),uu(t,ue)}function Lu(){uu(lg(),he),uu(nu(),he)}const Ru=[Se,Ee];function Du(){Ru.forEach(e=>my.subscribe(e,function(e){return(t,r)=>{uu(parseInt(r),e,t)}}(e)))}function Bu(){!function(){const{on:e}=my;e(xe,Mu),e(Be,Iu),e(Fe,Lu)}(),Du()}function Fu(){if(this.$route){const e=this.$route.meta;return e.eventChannel||(e.eventChannel=new lt(this.$page.id)),e.eventChannel}}function ju(e){e._context.config.globalProperties.getOpenerEventChannel=Fu}function Nu(){return{path:"",query:{},scene:1001,referrerInfo:{appId:"",extraData:{}}}}function Wu(e){return/^-?\d+[ur]px$/i.test(e)?e.replace(/(^-?\d+)[ur]px$/i,(e,t)=>`${qh(parseFloat(t))}px`):/^-?[\d\.]+$/.test(e)?`${e}px`:e||""}function Uu(e){const t=e.animation;if(!t||!t.actions||!t.actions.length)return;let r=0;const n=t.actions,i=t.actions.length;function o(){const t=n[r],s=t.option.transition,a=function(e){const t=["matrix","matrix3d","scale","scale3d","rotate3d","skew","translate","translate3d"],r=["scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","translateX","translateY","translateZ"],n=["opacity","background-color"],i=["width","height","left","right","top","bottom"],o=e.animates,s=e.option,a=s.transition,l={},c=[];return o.forEach(e=>{let o=e.type,s=[...e.args];if(t.concat(r).includes(o))o.startsWith("rotate")||o.startsWith("skew")?s=s.map(e=>parseFloat(e)+"deg"):o.startsWith("translate")&&(s=s.map(Wu)),r.indexOf(o)>=0&&(s.length=1),c.push(`${o}(${s.join(",")})`);else if(n.concat(i).includes(s[0])){o=s[0];const e=s[1];l[o]=i.includes(o)?Wu(e):e}}),l.transform=l.webkitTransform=c.join(" "),l.transition=l.webkitTransition=Object.keys(l).map(e=>`${function(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace("webkit","-webkit")}(e)} ${a.duration}ms ${a.timingFunction} ${a.delay}ms`).join(","),l.transformOrigin=l.webkitTransformOrigin=s.transformOrigin,l}(t);Object.keys(a).forEach(t=>{e.$el.style[t]=a[t]}),r+=1,r<i&&setTimeout(o,s.duration+s.delay)}setTimeout(()=>{o()},0)}const $u={props:["animation"],watch:{animation:{deep:!0,handler(){Uu(this)}}},mounted(){Uu(this)}},zu=e=>{e.__reserved=!0;const{props:t,mixins:r}=e;return t&&t.animation||(r||(e.mixins=[])).push($u),Vu(e)},Vu=e=>(e.__reserved=!0,e.compatConfig={MODE:3},ni(e));function Hu(e){return e.__wwe=!0,e}function qu(e,t){return(r,n,i)=>{e.value&&t(r,function(e,t,r,n){let i;return i=rt(r),{type:t.__evName||n.type||e,timeStamp:t.timeStamp||0,target:i,currentTarget:i,detail:n}}(r,n,e.value,i||{}))}}const Gu={hoverClass:{type:String,default:"none"},hoverStopPropagation:{type:Boolean,default:!1},hoverStartTime:{type:[Number,String],default:50},hoverStayTime:{type:[Number,String],default:400}};function Yu(e){const t=$r(!1);let r,n,i=!1;function o(){requestAnimationFrame(()=>{clearTimeout(n),n=setTimeout(()=>{t.value=!1},parseInt(e.hoverStayTime))})}function s(n){n._hoverPropagationStopped||e.hoverClass&&"none"!==e.hoverClass&&!e.disabled&&(e.hoverStopPropagation&&(n._hoverPropagationStopped=!0),i=!0,r=setTimeout(()=>{t.value=!0,i||o()},parseInt(e.hoverStartTime)))}function a(){i=!1,t.value&&o()}function l(){a(),window.removeEventListener("mouseup",l)}return{hovering:t,binding:{onTouchstartPassive:Hu(function(e){e.touches.length>1||s(e)}),onMousedown:Hu(function(e){i||(s(e),window.addEventListener("mouseup",l))}),onTouchend:Hu(function(){a()}),onMouseup:Hu(function(){i&&l()}),onTouchcancel:Hu(function(){i=!1,t.value=!1,clearTimeout(r)})}}}function Ku(e,t){return E(t)&&(t=[t]),t.reduce((t,r)=>(e[r]&&(t[r]=!0),t),Object.create(null))}const Xu=Kc("uf"),Qu=Kc("ul");function Ju(e,t){Zu(e.id,t),Nn(()=>e.id,(e,r)=>{eh(r,t,!0),Zu(e,t,!0)}),ki(()=>{eh(e.id,t)})}function Zu(e,t,r){const n=ru();r&&!e||M(t)&&Object.keys(t).forEach(i=>{r?0!==i.indexOf("@")&&0!==i.indexOf("uni-")&&yy.on(`uni-${i}-${n}-${e}`,t[i]):0===i.indexOf("uni-")?yy.on(i,t[i]):e&&yy.on(`uni-${i}-${n}-${e}`,t[i])})}function eh(e,t,r){const n=ru();r&&!e||M(t)&&Object.keys(t).forEach(i=>{r?0!==i.indexOf("@")&&0!==i.indexOf("uni-")&&yy.off(`uni-${i}-${n}-${e}`,t[i]):0===i.indexOf("uni-")?yy.off(i,t[i]):e&&yy.off(`uni-${i}-${n}-${e}`,t[i])})}const th=zu({name:"Button",props:{id:{type:String,default:""},hoverClass:{type:String,default:"button-hover"},hoverStartTime:{type:[Number,String],default:20},hoverStayTime:{type:[Number,String],default:70},hoverStopPropagation:{type:Boolean,default:!1},disabled:{type:[Boolean,String],default:!1},formType:{type:String,default:""},openType:{type:String,default:""},loading:{type:[Boolean,String],default:!1},plain:{type:[Boolean,String],default:!1}},setup(e,{slots:t}){const r=$r(null),n=no(Xu,!1),{hovering:i,binding:o}=Yu(e),s=Hu((t,i)=>{if(e.disabled)return t.stopImmediatePropagation();i&&r.value.click();const o=e.formType;if(o){if(!n)return;"submit"===o?n.submit(t):"reset"===o&&n.reset(t)}else;}),a=no(Qu,!1);return a&&(a.addHandler(s),Ai(()=>{a.removeHandler(s)})),Ju(e,{"label-click":s}),()=>{const n=e.hoverClass,a=Ku(e,"disabled"),l=Ku(e,"loading"),c=Ku(e,"plain"),u=n&&"none"!==n;return $o("uni-button",Ko({ref:r,onClick:s,id:e.id,class:u&&i.value?n:""},u&&o,a,l,c),[t.default&&t.default()],16,["onClick","id"])}}}),rh=Kc("upm");function nh(){return no(rh)}function ih(e){const t=function(e){return Ar(function(e){{const{navigationBar:t}=e,{titleSize:r,titleColor:n,backgroundColor:i}=t;t.titleText=t.titleText||"",t.type=t.type||"default",t.titleSize=r||"16px",t.titleColor=n||"#000000",t.backgroundColor=i||"#F8F8F8"}if(history.state){const t=history.state.__type__;"redirectTo"!==t&&"reLaunch"!==t||0!==qf().length||(e.isEntry=!0,e.isQuit=!0)}return e}(JSON.parse(JSON.stringify(lu(Hl().meta,e)))))}(e);return ro(rh,t),t}function oh(){return Hl()}function sh(){return history.state&&history.state.__id__||1}const ah=["GET","OPTIONS","HEAD","POST","PUT","DELETE","TRACE","CONNECT","PATCH"];function lh(e,t){return e&&-1!==t.indexOf(e)?e:t[0]}function ch(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}let uh=1;const hh={};function fh(e,t,r,n=!1){return hh[e]={name:t,keepAlive:n,callback:r},e}function dh(e,t,r){if("number"==typeof e){const n=hh[e];if(n)return n.keepAlive||delete hh[e],n.callback(t,r)}return t}const ph="success",gh="fail",yh="complete";function mh(e,t={},{beforeAll:r,beforeSuccess:n}={}){M(t)||(t={});const{success:i,fail:o,complete:s}=function(e){const t={};for(const r in e){const n=e[r];T(n)&&(t[r]=ch(n),delete e[r])}return t}(t),a=T(i),l=T(o),c=T(s),u=uh++;return fh(u,e,u=>{(u=u||{}).errMsg=function(e,t){return e&&-1!==e.indexOf(":fail")?t+e.substring(e.indexOf(":fail")):t+":ok"}(u.errMsg,e),T(r)&&r(u),u.errMsg===e+":ok"?(T(n)&&n(u,t),a&&i(u)):l&&o(u),c&&s(u)}),u}const vh="success",bh="fail",_h="complete",xh={},wh={};function Sh(e,t){return function(r){return e(r,t)||r}}function Th(e,t,r){let n=!1;for(let i=0;i<e.length;i++){const o=e[i];if(n)n=Promise.resolve(Sh(o,r));else{const e=o(t,r);if(C(e)&&(n=Promise.resolve(e)),!1===e)return{then(){},catch(){}}}}return n||{then:e=>e(t),catch(){}}}function Eh(e,t={}){return[vh,bh,_h].forEach(r=>{const n=e[r];if(!x(n))return;const i=t[r];t[r]=function(e){Th(n,e,t).then(e=>T(i)&&i(e)||e)}}),t}function Ah(e,t){const r=[];x(xh.returnValue)&&r.push(...xh.returnValue);const n=wh[e];return n&&x(n.returnValue)&&r.push(...n.returnValue),r.forEach(e=>{t=e(t)||t}),t}function kh(e){const t=Object.create(null);Object.keys(xh).forEach(e=>{"returnValue"!==e&&(t[e]=xh[e].slice())});const r=wh[e];return r&&Object.keys(r).forEach(e=>{"returnValue"!==e&&(t[e]=(t[e]||[]).concat(r[e]))}),t}function Ch(e,t,r,n){const i=kh(e);if(i&&Object.keys(i).length){if(x(i.invoke)){return Th(i.invoke,r).then(r=>t(Eh(kh(e),r),...n))}return t(Eh(i,r),...n)}return t(r,...n)}function Ph(e,t){return(r={},...n)=>function(e){return!(!M(e)||![ph,gh,yh].find(t=>T(e[t])))}(r)?Ah(e,Ch(e,t,m({},r),n)):Ah(e,new Promise((i,o)=>{Ch(e,t,m({},r,{success:i,fail:o}),n)}))}function Oh(e,t,r,n={}){const i=t+":fail";let o="";return o=r?0===r.indexOf(i)?r:i+" "+r:i,delete n.errCode,dh(e,m({errMsg:o},n))}function Mh(e,t,r,n){if(n&&n.beforeInvoke){const e=n.beforeInvoke(t);if(E(e))return e}const i=function(e,t){const r=e[0];if(!t||!t.formatArgs||!M(t.formatArgs)&&M(r))return;const n=t.formatArgs,i=Object.keys(n);for(let o=0;o<i.length;o++){const t=i[o],s=n[t];if(T(s)){const n=s(e[0][t],r);if(E(n))return n}else _(r,t)||(r[t]=s)}}(t,n);if(i)return i}function Ih(e,t,r){return n=>{!function(e){if(!T(e))throw new Error('Invalid args: type check failed for args "callback". Expected Function')}(n);const i=Mh(0,[n],0,r);if(i)throw new Error(i);const o=!function(e){for(const t in hh)if(hh[t].name===e)return!0;return!1}(e);!function(e,t){fh(uh++,e,t,!0)}(e,n),o&&(!function(e){my.on("api."+e,t=>{for(const r in hh){const n=hh[r];n.name===e&&n.callback(t)}})}(e),t())}}function Lh(e,t,r,n){return r=>{const i=mh(e,r,n),o=Mh(0,[r],0,n);return o?Oh(i,e,o):t(r,{resolve:t=>function(e,t,r){return dh(e,m(r||{},{errMsg:t+":ok"}))}(i,e,t),reject:(t,r)=>Oh(i,e,function(e){return!e||E(e)?e:e.stack?("undefined"!=typeof globalThis&&globalThis.harmonyChannel||console.error(e.message+"\n"+e.stack),e.message):e}(t),r)})}}function Rh(e,t,r){return Ih(e,t,r)}function Dh(e,t,r,n){return Ph(e,Lh(e,t,0,n))}function Bh(e,t,r,n){return function(e,t,r,n){return(...e)=>{const r=Mh(0,e,0,n);if(r)throw new Error(r);return t.apply(null,e)}}(0,t,0,n)}function Fh(e,t,r,n){return Ph(e,function(e,t,r,n){return Lh(e,t,0,n)}(e,t,0,n))}let jh=!1,Nh=0,Wh=0,Uh=960,$h=375,zh=750;function Vh(){let e,t,r;{const{windowWidth:n,pixelRatio:i,platform:o}=function(){const e=md(),t=_d(bd(e,vd(e)));return{platform:fd?"ios":"other",pixelRatio:window.devicePixelRatio,windowWidth:t}}();e=n,t=i,r=o}Nh=e,Wh=t,jh="ios"===r}function Hh(e,t){const r=Number(e);return isNaN(r)?t:r}const qh=Bh(0,(e,t)=>{if(0===Nh&&(Vh(),function(){const e=__uniConfig.globalStyle||{};Uh=Hh(e.rpxCalcMaxDeviceWidth,960),$h=Hh(e.rpxCalcBaseDeviceWidth,375),zh=Hh(e.rpxCalcBaseDeviceWidth,750)}()),0===(e=Number(e)))return 0;let r=t||Nh;r=e===zh||r<=Uh?r:$h;let n=e/750*r;return n<0&&(n=-n),n=Math.floor(n+1e-4),0===n&&(n=1!==Wh&&jh?.5:1),e<0?-n:n}),Gh=[.5,.8,1,1.25,1.5,2];const Yh=(e,t,r,n)=>{!function(e,t,r,n,i){my.invokeViewMethod("map."+e,{type:r,data:n},t,i)}(e,t,r,n,e=>{n&&((e,t)=>{const r=t.errMsg||"";new RegExp("\\:\\s*fail").test(r)?e.fail&&e.fail(t):e.success&&e.success(t),e.complete&&e.complete(t)})(n,e)})};const Kh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"};function Xh(e){let t=null;if(null!=(t=/^#([0-9|A-F|a-f]{6})$/.exec(e=e||"#000000"))){return[parseInt(t[1].slice(0,2),16),parseInt(t[1].slice(2,4),16),parseInt(t[1].slice(4),16),255]}if(null!=(t=/^#([0-9|A-F|a-f]{3})$/.exec(e))){let e=t[1].slice(0,1),r=t[1].slice(1,2),n=t[1].slice(2,3);return e=parseInt(e+e,16),r=parseInt(r+r,16),n=parseInt(n+n,16),[e,r,n,255]}if(null!=(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map(function(e){return Math.min(255,parseInt(e.trim()))}).concat(255);if(null!=(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map(function(e,t){return 3===t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim()))});var r=e.toLowerCase();if(_(Kh,r)){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(Kh[r]);const e=parseInt(t[1].slice(0,2),16),n=parseInt(t[1].slice(2,4),16),i=parseInt(t[1].slice(4,6),16);let o=parseInt(t[1].slice(6,8),16);return o=o>=0?o:255,[e,n,i,o]}return console.error("unsupported color:"+e),[0,0,0,255]}class Qh{constructor(e,t){this.type=e,this.data=t,this.colorStop=[]}addColorStop(e,t){this.colorStop.push([e,Xh(t)])}}class Jh{constructor(e,t){this.type="pattern",this.data=e,this.colorStop=t}}class Zh{constructor(e){this.width=e}}let ef=0,tf={};const rf={canvas:class{constructor(e,t){this.id=e,this.pageId=t,this.actions=[],this.path=[],this.subpath=[],this.drawingState=[],this.state={lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}setFillStyle(e){console.log("initCanvasContextProperty implemented.")}setStrokeStyle(e){console.log("initCanvasContextProperty implemented.")}setShadow(e,t,r,n){console.log("initCanvasContextProperty implemented.")}addColorStop(e,t){console.log("initCanvasContextProperty implemented.")}setLineWidth(e){console.log("initCanvasContextProperty implemented.")}setLineCap(e){console.log("initCanvasContextProperty implemented.")}setLineJoin(e){console.log("initCanvasContextProperty implemented.")}setLineDash(e,t){console.log("initCanvasContextProperty implemented.")}setMiterLimit(e){console.log("initCanvasContextProperty implemented.")}fillRect(e,t,r,n){console.log("initCanvasContextProperty implemented.")}strokeRect(e,t,r,n){console.log("initCanvasContextProperty implemented.")}clearRect(e,t,r,n){console.log("initCanvasContextProperty implemented.")}fill(){console.log("initCanvasContextProperty implemented.")}stroke(){console.log("initCanvasContextProperty implemented.")}scale(e,t){console.log("initCanvasContextProperty implemented.")}rotate(e){console.log("initCanvasContextProperty implemented.")}translate(e,t){console.log("initCanvasContextProperty implemented.")}setFontSize(e){console.log("initCanvasContextProperty implemented.")}fillText(e,t,r,n){console.log("initCanvasContextProperty implemented.")}setTextAlign(e){console.log("initCanvasContextProperty implemented.")}setTextBaseline(e){console.log("initCanvasContextProperty implemented.")}drawImage(e,t,r,n,i,o,s,a,l){console.log("initCanvasContextProperty implemented.")}setGlobalAlpha(e){console.log("initCanvasContextProperty implemented.")}strokeText(e,t,r,n){console.log("initCanvasContextProperty implemented.")}setTransform(e,t,r,n,i,o){console.log("initCanvasContextProperty implemented.")}draw(e=!1,t){var r=[...this.actions];this.actions=[],this.path=[],function(e,t,r,n,i){my.invokeViewMethod(`canvas.${e}`,{type:r,data:n},t,e=>{i&&i(e)})}(this.id,this.pageId,"actionsChanged",{actions:r,reserve:e},t)}createLinearGradient(e,t,r,n){return new Qh("linear",[e,t,r,n])}createCircularGradient(e,t,r){return new Qh("radial",[e,t,r])}createPattern(e,t){if(void 0===t)console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present.");else{if(!(["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t)<0))return new Jh(e,t);console.error("Failed to execute 'createPattern' on 'CanvasContext': The provided type ('"+t+"') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'.")}}measureText(e,t){let r=0;return r=function(e,t){const r=document.createElement("canvas").getContext("2d");return r.font=t,r.measureText(e).width||0}(e,this.state.font),new Zh(r)}save(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}restore(){this.actions.push({method:"restore",data:[]}),this.state=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}beginPath(){this.path=[],this.subpath=[],this.path.push({method:"beginPath",data:[]})}moveTo(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}lineTo(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[e,t]}):this.path.push({method:"lineTo",data:[e,t]}),this.subpath.push([e,t])}quadraticCurveTo(e,t,r,n){this.path.push({method:"quadraticCurveTo",data:[e,t,r,n]}),this.subpath.push([r,n])}bezierCurveTo(e,t,r,n,i,o){this.path.push({method:"bezierCurveTo",data:[e,t,r,n,i,o]}),this.subpath.push([i,o])}arc(e,t,r,n,i,o=!1){this.path.push({method:"arc",data:[e,t,r,n,i,o]}),this.subpath.push([e,t])}rect(e,t,r,n){this.path.push({method:"rect",data:[e,t,r,n]}),this.subpath=[[e,t]]}arcTo(e,t,r,n,i){this.path.push({method:"arcTo",data:[e,t,r,n,i]}),this.subpath.push([r,n])}clip(){this.actions.push({method:"clip",data:[...this.path]})}closePath(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}clearActions(){this.actions=[],this.path=[],this.subpath=[]}getActions(){var e=[...this.actions];return this.clearActions(),e}set lineDashOffset(e){this.actions.push({method:"setLineDashOffset",data:[e]})}set globalCompositeOperation(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}set shadowBlur(e){this.actions.push({method:"setShadowBlur",data:[e]})}set shadowColor(e){this.actions.push({method:"setShadowColor",data:[e]})}set shadowOffsetX(e){this.actions.push({method:"setShadowOffsetX",data:[e]})}set shadowOffsetY(e){this.actions.push({method:"setShadowOffsetY",data:[e]})}set font(e){var t=this;this.state.font=e;var r=e.match(/^(([\w\-]+\s)*)(\d+\.?\d*r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/);if(r){var n=r[1].trim().split(/\s/),i=parseFloat(r[3]),o=r[7],s=[];n.forEach(function(e,r){["italic","oblique","normal"].indexOf(e)>-1?(s.push({method:"setFontStyle",data:[e]}),t.state.fontStyle=e):["bold","normal","lighter","bolder"].indexOf(e)>-1||/^\d+$/.test(e)?(s.push({method:"setFontWeight",data:[e]}),t.state.fontWeight=e):0===r?(s.push({method:"setFontStyle",data:["normal"]}),t.state.fontStyle="normal"):1===r&&a()}),1===n.length&&a(),n=s.map(function(e){return e.data[0]}).join(" "),this.state.fontSize=i,this.state.fontFamily=o,this.actions.push({method:"setFont",data:[`${n} ${i}px ${o}`]})}else console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");function a(){s.push({method:"setFontWeight",data:["normal"]}),t.state.fontWeight="normal"}}get font(){return this.state.font}set fillStyle(e){this.setFillStyle(e)}set strokeStyle(e){this.setStrokeStyle(e)}set globalAlpha(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}set textAlign(e){this.actions.push({method:"setTextAlign",data:[e]})}set lineCap(e){this.actions.push({method:"setLineCap",data:[e]})}set lineJoin(e){this.actions.push({method:"setLineJoin",data:[e]})}set lineWidth(e){this.actions.push({method:"setLineWidth",data:[e]})}set miterLimit(e){this.actions.push({method:"setMiterLimit",data:[e]})}set textBaseline(e){this.actions.push({method:"setTextBaseline",data:[e]})}},map:class{constructor(e,t){this.id=e,this.pageId=t}getCenterLocation(e){Yh(this.id,this.pageId,"getCenterLocation",e)}moveToLocation(e){Yh(this.id,this.pageId,"moveToLocation",e)}getScale(e){Yh(this.id,this.pageId,"getScale",e)}getRegion(e){Yh(this.id,this.pageId,"getRegion",e)}includePoints(e){Yh(this.id,this.pageId,"includePoints",e)}translateMarker(e){Yh(this.id,this.pageId,"translateMarker",e)}$getAppMap(){}addCustomLayer(e){Yh(this.id,this.pageId,"addCustomLayer",e)}removeCustomLayer(e){Yh(this.id,this.pageId,"removeCustomLayer",e)}addGroundOverlay(e){Yh(this.id,this.pageId,"addGroundOverlay",e)}removeGroundOverlay(e){Yh(this.id,this.pageId,"removeGroundOverlay",e)}updateGroundOverlay(e){Yh(this.id,this.pageId,"updateGroundOverlay",e)}initMarkerCluster(e){Yh(this.id,this.pageId,"initMarkerCluster",e)}addMarkers(e){Yh(this.id,this.pageId,"addMarkers",e)}removeMarkers(e){Yh(this.id,this.pageId,"removeMarkers",e)}moveAlong(e){Yh(this.id,this.pageId,"moveAlong",e)}setLocMarkerIcon(e){Yh(this.id,this.pageId,"setLocMarkerIcon",e)}openMapApp(e){Yh(this.id,this.pageId,"openMapApp",e)}on(e,t){Yh(this.id,this.pageId,"on",{name:e,callback:t})}},video:class{constructor(e,t){this.id=e,this.pageId=t}play(){xd(this.id,this.pageId,"play")}pause(){xd(this.id,this.pageId,"pause")}stop(){xd(this.id,this.pageId,"stop")}seek(e){xd(this.id,this.pageId,"seek",{position:e})}sendDanmu(e){xd(this.id,this.pageId,"sendDanmu",e)}playbackRate(e){~Gh.indexOf(e)||(e=1),xd(this.id,this.pageId,"playbackRate",{rate:e})}requestFullScreen(e={}){xd(this.id,this.pageId,"requestFullScreen",e)}exitFullScreen(){xd(this.id,this.pageId,"exitFullScreen")}showStatusBar(){xd(this.id,this.pageId,"showStatusBar")}hideStatusBar(){xd(this.id,this.pageId,"hideStatusBar")}},editor:class{constructor(e,t){this.id=e,this.pageId=t}format(e,t){this._exec("format",{name:e,value:t})}insertDivider(){this._exec("insertDivider")}insertImage(e){this._exec("insertImage",e)}insertText(e){this._exec("insertText",e)}setContents(e){this._exec("setContents",e)}getContents(e){this._exec("getContents",e)}clear(e){this._exec("clear",e)}removeFormat(e){this._exec("removeFormat",e)}undo(e){this._exec("undo",e)}redo(e){this._exec("redo",e)}blur(e){this._exec("blur",e)}getSelectionText(e){this._exec("getSelectionText",e)}scrollIntoView(e){this._exec("scrollIntoView",e)}_exec(e,t){!function(e,t,r,n){const i={options:n},o=n&&("success"in n||"fail"in n||"complete"in n);if(o){const e=String(ef++);i.callbackId=e,tf[e]=n}my.invokeViewMethod(`editor.${e}`,{type:r,data:i},t,({callbackId:e,data:t})=>{o&&(ze(tf[e],t),delete tf[e])})}(this.id,this.pageId,e,t)}}};function nf(e){if(e&&e.contextInfo){const{id:t,type:r,page:n}=e.contextInfo,i=rf[r];e.context=new i(t,n),delete e.contextInfo}}class of{constructor(e,t,r,n){this._selectorQuery=e,this._component=t,this._selector=r,this._single=n}boundingClientRect(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,rect:!0,size:!0},e),this._selectorQuery}fields(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery}scrollOffset(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,scrollOffset:!0},e),this._selectorQuery}context(e){return this._selectorQuery._push(this._selector,this._component,this._single,{context:!0},e),this._selectorQuery}node(e){return this._selectorQuery._push(this._selector,this._component,this._single,{node:!0},e),this._selectorQuery}}class sf{constructor(e){this._component=void 0,this._page=e,this._queue=[],this._queueCb=[]}exec(e){return function(e,t,r){const n=[];t.forEach(({component:t,selector:r,single:i,fields:o})=>{null===t?n.push(function(e){const t={};e.id&&(t.id="");e.dataset&&(t.dataset={});e.rect&&(t.left=0,t.right=0,t.top=0,t.bottom=0);e.size&&(t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight);if(e.scrollOffset){const e=document.documentElement,r=document.body;t.scrollLeft=e.scrollLeft||r.scrollLeft||0,t.scrollTop=e.scrollTop||r.scrollTop||0,t.scrollHeight=e.scrollHeight||r.scrollHeight||0,t.scrollWidth=e.scrollWidth||r.scrollWidth||0}return t}(o)):n.push(function(e,t,r,n,i){const o=function(e,t){if(!e)return t.$el;return e.$el}(t,e),s=o.parentElement;if(!s)return n?null:[];const{nodeType:a}=o,l=3===a||8===a;if(n){const e=l?s.querySelector(r):Sd(o,r)?o:o.querySelector(r);return e?wd(e,i):null}{let e=[];const t=(l?s:o).querySelectorAll(r);return t&&t.length&&[].forEach.call(t,t=>{e.push(wd(t,i))}),!l&&Sd(o,r)&&e.unshift(wd(o,i)),e}}(e,t,r,i,o))}),r(n)}(this._page,this._queue,t=>{const r=this._queueCb;t.forEach((e,t)=>{x(e)?e.forEach(nf):nf(e);const n=r[t];T(n)&&n.call(this,e)}),T(e)&&e.call(this,t)}),this._nodesRef}in(e){return this._component=qe(e),this}select(e){return this._nodesRef=new of(this,this._component,e,!0)}selectAll(e){return this._nodesRef=new of(this,this._component,e,!1)}selectViewport(){return this._nodesRef=new of(this,null,"",!0)}_push(e,t,r,n,i){this._queue.push({component:t,selector:e,single:r,fields:n}),this._queueCb.push(i)}}const af=Bh(0,e=>((e=qe(e))&&!function(e){const t=qe(e);if(t.$page)return cu(t);if(!t.$)return;{const{$pageInstance:e}=t.$;if(e)return cu(e.proxy)}const r=t.$.root.proxy;return r&&r.$page?cu(r):void 0}(e)&&(e=null),new sf(e||su()))),lf=Rh("onWindowResize",()=>{}),cf=Bh(0,()=>{const e=lg();return e&&e.$vm?e.$vm.$locale:lc().getLocale()}),uf={[ye]:[],[ge]:[],[de]:[],[ue]:[],[he]:[]};const hf={formatArgs:{header(e,t){t.header=e||{}},method(e,t){t.method=lh((e||"").toUpperCase(),ah)},protocols(e,t){E(e)&&(t.protocols=[e])}}};const ff={url:{type:String,required:!0}},df="navigateTo",pf="reLaunch",gf="switchTab",yf="preloadPage",mf=(_f(["slide-in-right","slide-in-left","slide-in-top","slide-in-bottom","fade-in","zoom-out","zoom-fade-out","pop-in","none"]),_f(["slide-out-right","slide-out-left","slide-out-top","slide-out-bottom","fade-out","zoom-in","zoom-fade-in","pop-out","none"]),Sf(df)),vf=Sf(pf),bf={formatArgs:{delta(e,t){e=parseInt(e+"")||1,t.delta=Math.min(qf().length-1,e)}}};function _f(e){return{animationType:{type:String,validator(t){if(t&&-1===e.indexOf(t))return"`"+t+"` is not supported for `animationType` (supported values are: `"+e.join("`|`")+"`)"}},animationDuration:{type:Number}}}let xf;function wf(){xf=""}function Sf(e){return{formatArgs:{url:Tf(e)},beforeAll:wf}}function Tf(e){return function(t,r){if(!t)return'Missing required args: "url"';const n=(t=function(e){if(0===e.indexOf("/")||0===e.indexOf("uni:"))return e;let t="";const r=qf();return r.length&&(t=Xc(r[r.length-1]).route),gu(t,e)}(t)).split("?")[0],i=yu(n,!0);if(!i)return"page `"+t+"` is not found";if(e===df||"redirectTo"===e){if(i.meta.isTabBar)return`can not ${e} a tabbar page`}else if(e===gf&&!i.meta.isTabBar)return"can not switch to no-tabBar page";if(e!==gf&&e!==yf||!i.meta.isTabBar||"appLaunch"===r.openType||(t=n),i.meta.isEntry&&(t=t.replace(i.alias,"/")),r.url=function(e){if(!E(e))return e;const t=e.indexOf("?");if(-1===t)return e;const r=e.slice(t+1).trim().replace(/^(\?|#|&)/,"");if(!r)return e;e=e.slice(0,t);const n=[];return r.split("&").forEach(e=>{const t=e.replace(/\+/g," ").split("="),r=t.shift(),i=t.length>0?t.join("="):"";n.push(r+"="+encodeURIComponent(i))}),n.length?e+"?"+n.join("&"):e}(t),"unPreloadPage"!==e)if(e!==yf){if(xf===t&&"appLaunch"!==r.openType)return`${xf} locked`;__uniConfig.ready&&(xf=t)}else if(i.meta.isTabBar){const e=qf(),t=i.path.slice(1);if(e.find(e=>e.route===t))return"tabBar page `"+t+"` already exists"}}}const Ef=["success","loading","none","error"],Af={formatArgs:{title:"",icon(e,t){t.icon=lh(e,Ef)},image(e,t){t.image=e?cd(e):""},duration:1500,mask:!1}};function kf(e,t){return e===t.fullPath||"/"===e&&t.meta.isEntry}function Cf(){const e=Hf().keys();for(const t of e)Yf(t)}const Pf=Fh(pf,({url:e,isAutomatedTesting:t},{resolve:r,reject:n})=>{if(Wf.handledBeforeEntryPageRoutes)return Cf(),Of({type:pf,url:e,isAutomatedTesting:t}).then(r).catch(n);Vf.push({args:{type:pf,url:e,isAutomatedTesting:t},resolve:r,reject:n})},0,vf);function Of({type:e,url:t,tabBarText:r,events:n,isAutomatedTesting:i},o){const s=lg().$router,{path:a,query:l}=function(e){const[t,r]=e.split("?",2);return{path:t,query:st(r||"")}}(t);return new Promise((t,c)=>{const u=function(e,t){return{__id__:t||++Kf,__type__:e}}(e,o);s["navigateTo"===e?"push":"replace"]({path:a,query:l,state:u,force:!0}).then(o=>{if(ul(o))return c(o.message);if("switchTab"===e&&(s.currentRoute.value.meta.tabBarText=r),"navigateTo"===e){const e=s.currentRoute.value.meta;return e.eventChannel?n&&(Object.keys(n).forEach(t=>{e.eventChannel._addListener(t,"on",n[t])}),e.eventChannel._clearCache()):e.eventChannel=new lt(u.__id__,n),t(i?{__id__:u.__id__}:{eventChannel:e.eventChannel})}return i?t({__id__:u.__id__}):t()})})}function Mf(){if(Wf.handledBeforeEntryPageRoutes)return;Wf.handledBeforeEntryPageRoutes=!0;const e=[...Uf];Uf.length=0,e.forEach(({args:e,resolve:t,reject:r})=>Of(e).then(t).catch(r));const t=[...$f];$f.length=0,t.forEach(({args:e,resolve:t,reject:r})=>(function(){const e=su();if(!e)return;const t=Hf(),r=t.keys();for(const n of r){const e=t.get(n);e.$.__isTabBar?e.$.__isActive=!1:Yf(n)}e.$.__isTabBar&&(e.$.__isVisible=!1,uu(e,he))}(),Of(e,function(e){const t=Hf().values();for(const r of t){const t=Nf(r);if(kf(e,t))return r.$.__isActive=!0,t.id}}(e.url)).then(t).catch(r)));const r=[...zf];zf.length=0,r.forEach(({args:e,resolve:t,reject:r})=>(function(){const e=nu();if(!e)return;const t=Nf(e);Yf(Jf(t.path,t.id))}(),Of(e).then(t).catch(r)));const n=[...Vf];Vf.length=0,n.forEach(({args:e,resolve:t,reject:r})=>(Cf(),Of(e).then(t).catch(r)))}function If(e){const t=window.CSS&&window.CSS.supports;return t&&(t(e)||t.apply(window.CSS,e.split(":")))}const Lf=If("top:env(a)"),Rf=If("top:constant(a)"),Df=(()=>Lf?"env":Rf?"constant":"")();function Bf(e){let t=0;var r,n;"custom"!==e.navigationBar.style&&["default","float"].indexOf(e.navigationBar.type)>-1&&(t=44),Yc({"--window-top":(n=t,Df?`calc(${n}px + ${Df}(safe-area-inset-top))`:`${n}px`),"--window-bottom":(r=0,Df?`calc(${r}px + ${Df}(safe-area-inset-bottom))`:`${r}px`)})}const Ff="$$",jf=new Map;function Nf(e){return e.$page}const Wf={handledBeforeEntryPageRoutes:!1},Uf=[],$f=[],zf=[],Vf=[];function Hf(){return jf}function qf(){return Gf()}function Gf(){const e=[],t=jf.values();for(const r of t)r.$.__isTabBar?r.$.__isActive&&e.push(r):e.push(r);return e}function Yf(e,t=!0){const r=jf.get(e);r.$.__isUnload=!0,uu(r,ve),jf.delete(e),t&&function(e){const t=Zf.get(e);t&&(Zf.delete(e),ed.pruneCacheEntry(t))}(e)}let Kf=sh();function Xf(e){const t=nh();let r=e.fullPath;return e.meta.isEntry&&-1===r.indexOf(e.meta.route)&&(r="/"+e.meta.route+r.replace("/","")),function(e,t,r,n,i,o){const{id:s,route:a}=n,l=mt(n.navigationBar,__uniConfig.themeConfig,o).titleColor;return{id:s,path:Ne(a),route:a,fullPath:t,options:r,meta:n,openType:e,eventChannel:i,statusBarStyle:"#ffffff"===l?"light":"dark"}}("navigateTo",r,{},t)}function Qf(e){const t=Xf(e.$route);!function(e,t){e.route=t.route,e.$vm=e,e.$page=t,e.$mpType="page",e.$fontFamilySet=new Set,t.meta.isTabBar&&(e.$.__isTabBar=!0,e.$.__isActive=!0)}(e,t),jf.set(Jf(t.path,t.id),e),1===jf.size&&setTimeout(()=>{Mf()},0)}function Jf(e,t){return e+Ff+t}const Zf=new Map,ed={get:e=>Zf.get(e),set(e,t){!function(e){const t=parseInt(e.split(Ff)[1]);if(!t)return;ed.forEach((e,r)=>{const n=parseInt(r.split(Ff)[1]);n&&n>t&&(ed.delete(r),ed.pruneCacheEntry(e),cn(()=>{jf.forEach((e,t)=>{e.$.isUnmounted&&jf.delete(t)})}))})}(e),Zf.set(e,t)},delete(e){Zf.get(e)&&Zf.delete(e)},forEach(e){Zf.forEach(e)}};function td(e,t){!function(e){const t=nd(e),{body:r}=document;id&&r.removeAttribute(id),t&&r.setAttribute(t,""),id=t}(e),Bf(t),function(e){{const t="nvue-dir-"+__uniConfig.nvue["flex-direction"];e.isNVue?(document.body.setAttribute("nvue",""),document.body.setAttribute(t,"")):(document.body.removeAttribute("nvue"),document.body.removeAttribute(t))}}(t),ad(e,t)}function rd(e){const t=nd(e);t&&function(e){const t=document.querySelector("uni-page-body");t&&t.setAttribute(e,"")}(t)}function nd(e){return e.type.__scopeId}let id;const od=!!(()=>{let e=!1;try{const t={};Object.defineProperty(t,"passive",{get(){e=!0}}),window.addEventListener("test-passive",()=>{},t)}catch(t){}return e})()&&{passive:!1};let sd;function ad(e,t){if(document.removeEventListener("touchmove",hu),sd&&document.removeEventListener("scroll",sd),t.disableScroll)return document.addEventListener("touchmove",hu,od);const{onPageScroll:r,onReachBottom:n}=e,i="transparent"===t.navigationBar.type;if(!(null==r?void 0:r.length)&&!(null==n?void 0:n.length)&&!i)return;const o={},s=Nf(e.proxy).id;(r||i)&&(o.onPageScroll=function(e,t,r){return n=>{t&&yy.publishHandler(Se,{scrollTop:n},e),r&&yy.emit(e+"."+Se,{scrollTop:n})}}(s,r,i)),(null==n?void 0:n.length)&&(o.onReachBottomDistance=t.onReachBottomDistance||50,o.onReachBottom=()=>yy.publishHandler(Ee,{},s)),sd=pu(o),requestAnimationFrame(()=>document.addEventListener("scroll",sd))}function ld(e){const{base:t}=__uniConfig.router;return 0===Ne(e).indexOf(t)?Ne(e):t+e}function cd(e){const{base:t,assets:r}=__uniConfig.router;if("./"===t&&(0!==e.indexOf("./")||!e.includes("/static/")&&0!==e.indexOf("./"+(r||"assets")+"/")||(e=e.slice(1))),0===e.indexOf("/")){if(0!==e.indexOf("//"))return ld(e.slice(1));e="https:"+e}if(le.test(e)||ce.test(e)||0===e.indexOf("blob:"))return e;const n=Gf();return n.length?ld(gu(Nf(n[n.length-1]).route,e).slice(1)):e}const ud=navigator.userAgent,hd=/android/i.test(ud),fd=/iphone|ipad|ipod/i.test(ud),dd=ud.match(/Windows NT ([\d|\d.\d]*)/i),pd=/Macintosh|Mac/i.test(ud),gd=/Linux|X11/i.test(ud),yd=pd&&navigator.maxTouchPoints>0;function md(){return/^Apple/.test(navigator.vendor)&&"number"==typeof window.orientation}function vd(e){return e&&90===Math.abs(window.orientation)}function bd(e,t){return e?Math[t?"max":"min"](screen.width,screen.height):screen.width}function _d(e){return Math.min(window.innerWidth,document.documentElement.clientWidth,e)||e}function xd(e,t,r,n){my.invokeViewMethod("video."+e,{videoId:e,type:r,data:n},t)}function wd(e,t){const r={},{top:n,topWindowHeight:i}=Gc();if(t.node){const t=e.tagName.split("-")[1]||e.tagName;t&&(r.node=e.querySelector(t))}if(t.id&&(r.id=e.id),t.dataset&&(r.dataset=Ze(e)),t.rect||t.size){const o=e.getBoundingClientRect();t.rect&&(r.left=o.left,r.right=o.right,r.top=o.top-n-i,r.bottom=o.bottom-n-i),t.size&&(r.width=o.width,r.height=o.height)}if(x(t.properties)&&t.properties.forEach(e=>{e=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}),t.scrollOffset)if("UNI-SCROLL-VIEW"===e.tagName){const t=e.children[0].children[0];r.scrollLeft=t.scrollLeft,r.scrollTop=t.scrollTop,r.scrollHeight=t.scrollHeight,r.scrollWidth=t.scrollWidth}else r.scrollLeft=0,r.scrollTop=0,r.scrollHeight=0,r.scrollWidth=0;if(x(t.computedStyle)){const n=getComputedStyle(e);t.computedStyle.forEach(e=>{r[e]=n[e]})}return t.context&&(r.contextInfo=function(e){return e.__uniContextInfo}(e)),r}function Sd(e,t){return(e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){const t=this.parentElement.querySelectorAll(e);let r=t.length;for(;--r>=0&&t.item(r)!==this;);return r>-1}).call(e,t)}const Td={};function Ed(e,t){const r=Td[e];return r?Promise.resolve(r):/^data:[a-z-]+\/[a-z-]+;base64,/.test(e)?Promise.resolve(function(e){const t=e.split(","),r=t[0].match(/:(.*?);/),n=r?r[1]:"",i=atob(t[1]);let o=i.length;const s=new Uint8Array(o);for(;o--;)s[o]=i.charCodeAt(o);return function(e,t){let r;if(e instanceof File)r=e;else{t=t||e.type||"";const i=`${Date.now()}${function(e){const t=e.split("/")[1];return t?`.${t}`:""}(t)}`;try{r=new File([e],i,{type:t})}catch(n){r=e=e instanceof Blob?e:new Blob([e],{type:t}),r.name=r.name||i}}return r}(s,n)}(e)):new Promise((t,r)=>{const n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){t(this.response)},n.onerror=r,n.send()})}function Ad(e){for(const r in Td)if(_(Td,r)){if(Td[r]===e)return r}var t=(window.URL||window.webkitURL).createObjectURL(e);return Td[t]=e,t}const kd=Nu(),Cd=Nu();const Pd=zu({name:"ResizeSensor",props:{initial:{type:Boolean,default:!1}},emits:["resize"],setup(e,{emit:t}){const r=$r(null),n=function(e){return()=>{const{firstElementChild:t,lastElementChild:r}=e.value;t.scrollLeft=1e5,t.scrollTop=1e5,r.scrollLeft=1e5,r.scrollTop=1e5}}(r),i=function(e,t,r){const n=Ar({width:-1,height:-1});return Nn(()=>m({},n),e=>t("resize",e)),()=>{const t=e.value;t&&(n.width=t.offsetWidth,n.height=t.offsetHeight,r())}}(r,t,n);return function(e,t,r,n){fi(n),Si(()=>{t.initial&&cn(r);const i=e.value;i.offsetParent!==i.parentElement&&(i.parentElement.style.position="relative"),"AnimationEvent"in window||n()})}(r,e,i,n),()=>$o("uni-resize-sensor",{ref:r,onAnimationstartOnce:i},[$o("div",{onScroll:i},[$o("div",null,null)],40,["onScroll"]),$o("div",{onScroll:i},[$o("div",null,null)],40,["onScroll"])],40,["onAnimationstartOnce"])}});const Od=function(){if(navigator.userAgent.includes("jsdom"))return 1;const e=document.createElement("canvas");e.height=e.width=0;const t=e.getContext("2d"),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/r}();function Md(e,t=!0){const r=t?Od:1;e.width=e.offsetWidth*r,e.height=e.offsetHeight*r,e.getContext("2d").__hidpi__=t}let Id=!1;function Ld(){if(Id)return;Id=!0;const e={fillRect:"all",clearRect:"all",strokeRect:"all",moveTo:"all",lineTo:"all",arc:[0,1,2],arcTo:"all",bezierCurveTo:"all",isPointinPath:"all",isPointinStroke:"all",quadraticCurveTo:"all",rect:"all",translate:"all",createRadialGradient:"all",createLinearGradient:"all",transform:[4,5],setTransform:[4,5]},t=CanvasRenderingContext2D.prototype;t.drawImageByCanvas=function(e){return function(t,r,n,i,o,s,a,l,c,u){if(!this.__hidpi__)return e.apply(this,arguments);r*=Od,n*=Od,i*=Od,o*=Od,s*=Od,a*=Od,l=u?l*Od:l,c=u?c*Od:c,e.call(this,t,r,n,i,o,s,a,l,c)}}(t.drawImage),1!==Od&&(!function(e,t){for(const r in e)_(e,r)&&t(e[r],r)}(e,function(e,r){t[r]=function(t){return function(){if(!this.__hidpi__)return t.apply(this,arguments);let r=Array.prototype.slice.call(arguments);if("all"===e)r=r.map(function(e){return e*Od});else if(Array.isArray(e))for(let t=0;t<e.length;t++)r[e[t]]*=Od;return t.apply(this,r)}}(t[r])}),t.stroke=function(e){return function(){if(!this.__hidpi__)return e.apply(this,arguments);this.lineWidth*=Od,e.apply(this,arguments),this.lineWidth/=Od}}(t.stroke),t.fillText=function(e){return function(){if(!this.__hidpi__)return e.apply(this,arguments);const t=Array.prototype.slice.call(arguments);t[1]*=Od,t[2]*=Od,t[3]&&"number"==typeof t[3]&&(t[3]*=Od);var r=this.__font__||this.font;this.font=r.replace(/(\d+\.?\d*)(px|em|rem|pt)/g,function(e,t,r){return t*Od+r}),e.apply(this,t),this.font=r}}(t.fillText),t.strokeText=function(e){return function(){if(!this.__hidpi__)return e.apply(this,arguments);var t=Array.prototype.slice.call(arguments);t[1]*=Od,t[2]*=Od,t[3]&&"number"==typeof t[3]&&(t[3]*=Od);var r=this.__font__||this.font;this.font=r.replace(/(\d+\.?\d*)(px|em|rem|pt)/g,function(e,t,r){return t*Od+r}),e.apply(this,t),this.font=r}}(t.strokeText),t.drawImage=function(e){return function(){if(!this.__hidpi__)return e.apply(this,arguments);this.scale(Od,Od),e.apply(this,arguments),this.scale(1/Od,1/Od)}}(t.drawImage))}const Rd=We(()=>Ld());function Dd(e){return e?cd(e):e}function Bd(e){return(e=e.slice(0))[3]=e[3]/255,"rgba("+e.join(",")+")"}function Fd(e,t){Array.from(t).forEach(t=>{t.x=t.clientX-e.left,t.y=t.clientY-e.top})}let jd;function Nd(e=0,t=0){return jd||(jd=document.createElement("canvas")),jd.width=e,jd.height=t,jd}const Wd=zu({inheritAttrs:!1,name:"Canvas",compatConfig:{MODE:3},props:{canvasId:{type:String,default:""},disableScroll:{type:[Boolean,String],default:!1},hidpi:{type:Boolean,default:!0}},computed:{id(){return this.canvasId}},setup(e,{emit:t,slots:r}){Rd();const n=$r(null),i=$r(null),o=$r(null),s=$r(!1),a=function(e){return(t,r)=>{e(t,Su(r))}}(t),{$attrs:l,$excludeAttrs:c,$listeners:u}=mp({excludeListeners:!0}),{_listeners:h}=function(e,t,r){const n=hs(()=>{let n=["onTouchstart","onTouchmove","onTouchend"],i=t.value,o=m({},(()=>{let e={};for(const t in i)if(_(i,t)){const r=i[t];e[t]=r}return e})());return n.forEach(t=>{let n=[];o[t]&&n.push(Hu(e=>{const n=e.currentTarget.getBoundingClientRect();Fd(n,e.touches),Fd(n,e.changedTouches),r(t.replace("on","").toLocaleLowerCase(),e)})),e.disableScroll&&"onTouchmove"===t&&n.push(zc),o[t]=n}),o});return{_listeners:n}}(e,u,a),{_handleSubscribe:f,_resize:d}=function(e,t,r){let n=[],i={};const o=hs(()=>e.hidpi?Od:1);function s(r){let n=t.value;if(!r||n.width!==Math.floor(r.width*o.value)||n.height!==Math.floor(r.height*o.value))if(n.width>0&&n.height>0){let t=n.getContext("2d"),r=t.getImageData(0,0,n.width,n.height);Md(n,e.hidpi),t.putImageData(r,0,0)}else Md(n,e.hidpi)}function a({actions:e,reserve:o},s){if(!e)return;if(r.value)return void n.push([e,o]);let a=t.value,u=a.getContext("2d");o||(u.fillStyle="#000000",u.strokeStyle="#000000",u.shadowColor="#000000",u.shadowBlur=0,u.shadowOffsetX=0,u.shadowOffsetY=0,u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,a.width,a.height)),l(e);for(let t=0;t<e.length;t++){const r=e[t];let n=r.method;const o=r.data,a=o[0];if(/^set/.test(n)&&"setTransform"!==n){const r=n[3].toLowerCase()+n.slice(4);let i;if("fillStyle"===r||"strokeStyle"===r){if("normal"===a)i=Bd(o[1]);else if("linear"===a){const e=u.createLinearGradient(...o[1]);o[2].forEach(function(t){const r=t[0],n=Bd(t[1]);e.addColorStop(r,n)}),i=e}else if("radial"===a){let e=o[1];const t=e[0],r=e[1],n=e[2],s=u.createRadialGradient(t,r,0,t,r,n);o[2].forEach(function(e){const t=e[0],r=Bd(e[1]);s.addColorStop(t,r)}),i=s}else if("pattern"===a){if(!c(o[1],e.slice(t+1),s,function(e){e&&(u[r]=u.createPattern(e,o[2]))}))break;continue}u[r]=i}else if("globalAlpha"===r)u[r]=Number(a)/255;else if("shadow"===r){let e=["shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor"];o.forEach(function(t,r){u[e[r]]="shadowColor"===e[r]?Bd(t):t})}else if("fontSize"===r){const e=u.__font__||u.font;u.__font__=u.font=e.replace(/\d+\.?\d*px/,a+"px")}else"lineDash"===r?(u.setLineDash(a),u.lineDashOffset=o[1]||0):"textBaseline"===r?("normal"===a&&(o[0]="alphabetic"),u[r]=a):"font"===r?u.__font__=u.font=a:u[r]=a}else if("fillPath"===n||"strokePath"===n)n=n.replace(/Path/,""),u.beginPath(),o.forEach(function(e){u[e.method].apply(u,e.data)}),u[n]();else if("fillText"===n)u.fillText.apply(u,o);else if("drawImage"===n){if("break"===function(){let r=[...o],n=r[0],a=r.slice(1);if(i=i||{},!c(n,e.slice(t+1),s,function(e){e&&u.drawImage.apply(u,[e].concat([...a.slice(4,8)],[...a.slice(0,4)]))}))return"break"}())break}else"clip"===n?(o.forEach(function(e){u[e.method].apply(u,e.data)}),u.clip()):u[n].apply(u,o)}r.value||s({errMsg:"drawCanvas:ok"})}function l(e){e.forEach(function(e){let t=e.method,r=e.data,n="";function o(){const e=i[n]=new Image;e.onload=function(){e.ready=!0},function(e){const t=document.createElement("a");return t.href=e,t.origin===location.origin?Promise.resolve(e):Ed(e).then(Ad)}(n).then(t=>{e.src=t}).catch(()=>{e.src=n})}"drawImage"===t?(n=r[0],n=Dd(n),r[0]=n):"setFillStyle"===t&&"pattern"===r[0]&&(n=r[1],n=Dd(n),r[1]=n),n&&!i[n]&&o()})}function c(e,t,o,s){let l=i[e];return l.ready?(s(l),!0):(n.unshift([t,!0]),r.value=!0,l.onload=function(){l.ready=!0,s(l),r.value=!1;let e=n.slice(0);n=[];for(let t=e.shift();t;)a({actions:t[0],reserve:t[1]},o),t=e.shift()},!1)}function u({x:e=0,y:r=0,width:n,height:i,destWidth:s,destHeight:a,hidpi:l=!0,dataType:c,quality:u=1,type:h="png"},f){const d=t.value;let p;const g=d.offsetWidth-e;n=n?Math.min(n,g):g;const y=d.offsetHeight-r;i=i?Math.min(i,y):y,l?(s=n,a=i):s||a?s?a||(a=Math.round(i/n*s)):(a||(a=Math.round(i*o.value)),s=Math.round(n/i*a)):(s=Math.round(n*o.value),a=Math.round(i*o.value));const m=Nd(s,a),v=m.getContext("2d");let b;"jpeg"!==h&&"jpg"!==h||(h="jpeg",v.fillStyle="#fff",v.fillRect(0,0,s,a)),v.__hidpi__=!0,v.drawImageByCanvas(d,e,r,n,i,0,0,s,a,!1);try{let e;if("base64"===c)p=m.toDataURL(`image/${h}`,u);else{const e=v.getImageData(0,0,s,a);p=Array.prototype.slice.call(e.data)}b={data:p,compressed:e,width:s,height:a}}catch(_){b={errMsg:`canvasGetImageData:fail ${_}`}}if(m.height=m.width=0,v.__hidpi__=!1,!f)return b;f(b)}function h({data:e,x:r,y:n,width:i,height:o,compressed:s},a){try{0,o||(o=Math.round(e.length/4/i));const s=Nd(i,o);s.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(e),i,o),0,0),t.value.getContext("2d").drawImage(s,r,n,i,o),s.height=s.width=0}catch(l){return void a({errMsg:"canvasPutImageData:fail"})}a({errMsg:"canvasPutImageData:ok"})}function f({x:e=0,y:t=0,width:r,height:n,destWidth:i,destHeight:o,fileType:s,quality:a,dirname:l},c){const h=u({x:e,y:t,width:r,height:n,destWidth:i,destHeight:o,hidpi:!1,dataType:"base64",type:s,quality:a});var f;h.errMsg?c({errMsg:h.errMsg.replace("canvasPutImageData","toTempFilePath")}):(f=h.data,((e,t)=>{let r="toTempFilePath:"+(e?"fail":"ok");e&&(r+=` ${e.message}`),c({errMsg:r,tempFilePath:t})})(null,f))}const d={actionsChanged:a,getImageData:u,putImageData:h,toTempFilePath:f};function p(e,t,r){let n=d[e];0!==e.indexOf("_")&&T(n)&&n(t,r)}return m(d,{_resize:s,_handleSubscribe:p})}(e,i,s);return function(e,t){const r=es().proxy;Si(()=>{Np(t||jp(r),e),Nn(()=>r.id,(t,n)=>{Np(jp(r,t),e),Wp(n&&jp(r,n))})}),Ai(()=>{Wp(t||jp(r))})}(f,function(e){const t=ru(),r=es().proxy,n=r.$options.name.toLowerCase(),i=e||r.id||"context"+Up++;return Si(()=>{r.$el.__uniContextInfo={id:i,type:n,page:t}}),`${n}.${i}`}(e.canvasId)),Si(()=>{d()}),()=>{const{canvasId:t,disableScroll:s}=e;return $o("uni-canvas",Ko({ref:n,"canvas-id":t,"disable-scroll":s},l.value,c.value,h.value),[$o("canvas",{ref:i,class:"uni-canvas-canvas",width:"300",height:"150"},null,512),$o("div",{style:"position: absolute;top: 0;left: 0;width: 100%;height: 100%;overflow: hidden;"},[r.default&&r.default()]),$o(Pd,{ref:o,onResize:d},null,8,["onResize"])],16,["canvas-id","disable-scroll"])}}});function Ud(){}const $d={cursorSpacing:{type:[Number,String],default:0},showConfirmBar:{type:[Boolean,String],default:"auto"},adjustPosition:{type:[Boolean,String],default:!0},autoBlur:{type:[Boolean,String],default:!1}};function zd(e,t,r){function n(e){const t=hs(()=>0===String(navigator.vendor).indexOf("Apple"));e.addEventListener("focus",()=>{clearTimeout(undefined),document.addEventListener("click",Ud,!1)});e.addEventListener("blur",()=>{t.value&&e.blur(),document.removeEventListener("click",Ud,!1),t.value&&document.documentElement.scrollTo(document.documentElement.scrollLeft,document.documentElement.scrollTop)})}Nn(()=>t.value,e=>e&&n(e))}const Vd={src:{type:String,default:""},mode:{type:String,default:"scaleToFill"},lazyLoad:{type:[Boolean,String],default:!1},draggable:{type:Boolean,default:!1}},Hd={widthFix:["offsetWidth","height",(e,t)=>e/t],heightFix:["offsetHeight","width",(e,t)=>e*t]},qd={aspectFit:["center center","contain"],aspectFill:["center center","cover"],widthFix:[,"100% 100%"],heightFix:[,"100% 100%"],top:["center top"],bottom:["center bottom"],center:["center center"],left:["left center"],right:["right center"],"top left":["left top"],"top right":["right top"],"bottom left":["left bottom"],"bottom right":["right bottom"]},Gd=zu({name:"Image",props:Vd,setup(e,{emit:t}){const r=$r(null),n=function(e,t){const r=$r(""),n=hs(()=>{let e="auto",n="";const i=qd[t.mode];return i?(i[0]&&(n=i[0]),i[1]&&(e=i[1])):(n="0% 0%",e="100% 100%"),`background-image:${r.value?'url("'+r.value+'")':"none"};background-position:${n};background-size:${e};`}),i=Ar({rootEl:e,src:hs(()=>t.src?cd(t.src):""),origWidth:0,origHeight:0,origStyle:{width:"",height:""},modeStyle:n,imgSrc:r});return Si(()=>{const t=e.value;i.origWidth=t.clientWidth||0,i.origHeight=t.clientHeight||0}),i}(r,e),i=qu(r,t),{fixSize:o}=function(e,t,r){const n=()=>{const{mode:n}=t,i=Hd[n];if(!i)return;const{origWidth:o,origHeight:s}=r,a=o&&s?o/s:0;if(!a)return;const l=e.value,c=l[i[0]];c&&(l.style[i[1]]=function(e){Yd&&e>10&&(e=2*Math.round(e/2));return e}(i[2](c,a))+"px")},i=()=>{const{style:t}=e.value,{origStyle:{width:n,height:i}}=r;t.width=n,t.height=i};return Nn(()=>t.mode,(e,t)=>{Hd[t]&&i(),Hd[e]&&n()}),{fixSize:n,resetSize:i}}(r,e,n);return function(e,t,r,n,i){let o,s;const a=(t=0,r=0,n="")=>{e.origWidth=t,e.origHeight=r,e.imgSrc=n},l=l=>{if(!l)return c(),void a();o=o||new Image,o.onload=e=>{const{width:u,height:h}=o;a(u,h,l),cn(()=>{n()}),o.draggable=t.draggable,s&&s.remove(),s=o,r.value.appendChild(o),c(),i("load",e,{width:u,height:h})},o.onerror=t=>{a(),c(),i("error",t,{errMsg:`GET ${e.src} 404 (Not Found)`})},o.src=l},c=()=>{o&&(o.onload=null,o.onerror=null,o=null)};Nn(()=>e.src,e=>l(e)),Nn(()=>e.imgSrc,e=>{!e&&s&&(s.remove(),s=null)}),Si(()=>l(e.src)),Ai(()=>c())}(n,e,r,o,i),()=>$o("uni-image",{ref:r},[$o("div",{style:n.modeStyle},null,4),Hd[e.mode]?$o(Pd,{onResize:o},null,8,["onResize"]):$o("span",null,null)],512)}});const Yd="Google Inc."===navigator.vendor;const Kd=tt(!0),Xd=[];let Qd=0,Jd=!1;const Zd=e=>Xd.forEach(t=>t.userAction=e);function ep(){const e=Ar({userAction:!1});return Si(()=>{!function(e={userAction:!1}){Jd||(["touchstart","touchmove","touchend","mousedown","mouseup"].forEach(e=>{document.addEventListener(e,function(){!Qd&&Zd(!0),Qd++,setTimeout(()=>{! --Qd&&Zd(!1)},0)},Kd)}),Jd=!0);Xd.push(e)}(e)}),Ai(()=>{!function(e){const t=Xd.indexOf(e);t>=0&&Xd.splice(t,1)}(e)}),{state:e}}function tp(){const e=Ar({attrs:{}});return Si(()=>{let t=es();for(;t;){const r=t.type.__scopeId;r&&(e.attrs[r]=""),t=t.proxy&&"page"===t.proxy.$mpType?null:t.parent}}),{state:e}}function rp(e,t){const r=document.activeElement;if(!r)return t({});const n={};["input","textarea"].includes(r.tagName.toLowerCase())&&(n.start=r.selectionStart,n.end=r.selectionEnd),t(n)}function np(e,t,r){"number"===t&&isNaN(Number(e))&&(e="");return null==e?"":String(e)}const ip=["none","text","decimal","numeric","tel","search","email","url"],op=m({},{name:{type:String,default:""},modelValue:{type:[String,Number]},value:{type:[String,Number]},disabled:{type:[Boolean,String],default:!1},autoFocus:{type:[Boolean,String],default:!1},focus:{type:[Boolean,String],default:!1},cursor:{type:[Number,String],default:-1},selectionStart:{type:[Number,String],default:-1},selectionEnd:{type:[Number,String],default:-1},type:{type:String,default:"text"},password:{type:[Boolean,String],default:!1},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},placeholderClass:{type:String,default:""},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},confirmHold:{type:Boolean,default:!1},ignoreCompositionEvent:{type:Boolean,default:!0},step:{type:String,default:"0.000000000000000001"},inputmode:{type:String,default:void 0,validator:e=>!!~ip.indexOf(e)},cursorColor:{type:String,default:""}},$d),sp=["input","focus","blur","update:value","update:modelValue","update:focus","compositionstart","compositionupdate","compositionend","keyboardheightchange"];function ap(e,t,r,n){let i=null;i=at(r=>{t.value=np(r,e.type)},100,{setTimeout:setTimeout,clearTimeout:clearTimeout}),Nn(()=>e.modelValue,i),Nn(()=>e.value,i);const o=function(e,t){let r,n,i=0;const o=function(...o){const s=Date.now();clearTimeout(r),n=()=>{n=null,i=s,e.apply(this,o)},s-i<t?r=setTimeout(n,t-(s-i)):n()};return o.cancel=function(){clearTimeout(r),n=null},o.flush=function(){clearTimeout(r),n&&n()},o}((e,t)=>{i.cancel(),r("update:modelValue",t.value),r("update:value",t.value),n("input",e,t)},100);return wi(()=>{i.cancel(),o.cancel()}),{trigger:n,triggerInput:(e,t,r)=>{i.cancel(),o(e,t),r&&o.flush()}}}function lp(e,t){ep();const r=hs(()=>e.autoFocus||e.focus);function n(){if(!r.value)return;const e=t.value;e?e.focus():setTimeout(n,100)}Nn(()=>e.focus,e=>{e?n():function(){const e=t.value;e&&e.blur()}()}),Si(()=>{r.value&&cn(n)})}function cp(e,t,r,n){_c(ou(),"getSelectedTextRange",rp);const{fieldRef:i,state:o,trigger:s}=function(e,t,r){const n=$r(null),i=qu(t,r),o=hs(()=>{const t=Number(e.selectionStart);return isNaN(t)?-1:t}),s=hs(()=>{const t=Number(e.selectionEnd);return isNaN(t)?-1:t}),a=hs(()=>{const t=Number(e.cursor);return isNaN(t)?-1:t}),l=hs(()=>{var t=Number(e.maxlength);return isNaN(t)?140:t});let c="";c=np(e.modelValue,e.type)||np(e.value,e.type);const u=Ar({value:c,valueOrigin:c,maxlength:l,focus:e.focus,composing:!1,selectionStart:o,selectionEnd:s,cursor:a});return Nn(()=>u.focus,e=>r("update:focus",e)),Nn(()=>u.maxlength,e=>u.value=u.value.slice(0,e),{immediate:!1}),{fieldRef:n,state:u,trigger:i}}(e,t,r),{triggerInput:a}=ap(e,o,r,s);lp(e,i),zd(0,i);const{state:l}=tp();!function(e,t){const r=no(Xu,!1);if(!r)return;const n=es(),i={submit(){const r=n.proxy;return[r[e],E(t)?r[t]:t.value]},reset(){E(t)?n.proxy[t]="":t.value=""}};r.addField(i),Ai(()=>{r.removeField(i)})}("name",o),function(e,t,r,n,i,o){function s(){const r=e.value;r&&t.focus&&t.selectionStart>-1&&t.selectionEnd>-1&&"number"!==r.type&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd)}function a(){const r=e.value;r&&t.focus&&t.selectionStart<0&&t.selectionEnd<0&&t.cursor>-1&&"number"!==r.type&&(r.selectionEnd=r.selectionStart=t.cursor)}function l(e){return"number"===e.type?null:e.selectionEnd}Nn([()=>t.selectionStart,()=>t.selectionEnd],s),Nn(()=>t.cursor,a),Nn(()=>e.value,function(){const c=e.value;if(!c)return;const u=function(e,n){e.stopPropagation(),T(o)&&!1===o(e,t)||(t.value=c.value,t.composing&&r.ignoreCompositionEvent||i(e,{value:c.value,cursor:l(c)},n))};function h(e){r.ignoreCompositionEvent||n(e.type,e,{value:e.data})}c.addEventListener("change",e=>e.stopPropagation()),c.addEventListener("focus",function(e){t.focus=!0,n("focus",e,{value:t.value}),s(),a()}),c.addEventListener("blur",function(e){t.composing&&(t.composing=!1,u(e,!0)),t.focus=!1,n("blur",e,{value:t.value,cursor:l(e.target)})}),c.addEventListener("input",u),c.addEventListener("compositionstart",e=>{e.stopPropagation(),t.composing=!0,h(e)}),c.addEventListener("compositionend",e=>{e.stopPropagation(),t.composing&&(t.composing=!1,u(e)),h(e)}),c.addEventListener("compositionupdate",h)})}(i,o,e,s,a,n);return{fieldRef:i,state:o,scopedAttrsState:l,fixDisabledColor:0===String(navigator.vendor).indexOf("Apple")&&CSS.supports("image-orientation:from-image"),trigger:s}}const up=m({},op,{placeholderClass:{type:String,default:"input-placeholder"},textContentType:{type:String,default:""}}),hp=We(()=>{{const e=navigator.userAgent;let t="";const r=e.match(/OS\s([\w_]+)\slike/);if(r)t=r[1].replace(/_/g,".");else if(/Macintosh|Mac/i.test(e)&&navigator.maxTouchPoints>0){const r=e.match(/Version\/(\S*)\b/);r&&(t=r[1])}return!!t&&parseInt(t)>=16&&parseFloat(t)<17.2}});function fp(e,t,r,n,i){if(t.value)if("."===e.data){if("."===t.value.slice(-1))return r.value=n.value=t.value=t.value.slice(0,-1),!1;if(t.value&&!t.value.includes("."))return t.value+=".",i&&(i.fn=()=>{r.value=n.value=t.value=t.value.slice(0,-1),n.removeEventListener("blur",i.fn)},n.addEventListener("blur",i.fn)),!1}else if("deleteContentBackward"===e.inputType&&hp()&&"."===t.value.slice(-2,-1))return t.value=r.value=n.value=t.value.slice(0,-2),!0}function dp(e){return"insertFromPaste"===e.inputType}const pp=zu({name:"Input",props:up,emits:["confirm",...sp],setup(e,{emit:t,expose:r}){const n=["text","number","idcard","digit","password","tel"],i=["off","one-time-code"],o=hs(()=>{let t="";switch(e.type){case"text":t="text","search"===e.confirmType&&(t="search");break;case"idcard":t="text";break;case"digit":t="number";break;default:t=n.includes(e.type)?e.type:"text"}return e.password?"password":t}),s=hs(()=>{const t=i.indexOf(e.textContentType),r=i.indexOf(j(e.textContentType));return i[-1!==t?t:-1!==r?r:0]}),a=hs(()=>{if(e.inputmode)return e.inputmode});let l=function(e,t){if("number"===t.value){const t=void 0===e.modelValue?e.value:e.modelValue,r=$r(null!=t?t.toLocaleString():"");return Nn(()=>e.modelValue,e=>{r.value=null!=e?e.toLocaleString():""}),Nn(()=>e.value,e=>{r.value=null!=e?e.toLocaleString():""}),r}return $r("")}(e,o),c={fn:null};const u=$r(null),{fieldRef:h,state:f,scopedAttrsState:d,fixDisabledColor:p,trigger:g}=cp(e,u,t,(e,t)=>{const r=e.target;if("number"===o.value){if(c.fn&&(r.removeEventListener("blur",c.fn),c.fn=null),r.validity&&!r.validity.valid){if((!l.value||!r.value)&&"-"===e.data||"-"===l.value[0]&&"deleteContentBackward"===e.inputType)return l.value="-",t.value="",c.fn=()=>{l.value=r.value=""},r.addEventListener("blur",c.fn),!1;const n=fp(e,l,t,r,c);return"boolean"==typeof n?n:(l.value=t.value=r.value="-"===l.value?"":l.value,!1)}{const n=fp(e,l,t,r,c);if("boolean"==typeof n)return n;l.value=r.value}if(t.maxlength>0&&r.value.length>t.maxlength&&!dp(e))return r.value=l.value=t.value,!1}});Nn(()=>f.value,t=>{"number"!==e.type||"-"===l.value&&""===t||(l.value=t.toString())}),Nn(()=>e.maxlength,e=>{e=parseInt(e,10);const t=f.value.slice(0,e);t!==f.value&&(f.value=t)});const y=["number","digit"],m=hs(()=>y.includes(e.type)?e.step:"");function v(t){if("Enter"!==t.key)return;const r=t.target;t.stopPropagation(),g("confirm",t,{value:r.value}),!e.confirmHold&&r.blur()}return r({$triggerInput:e=>{t("update:modelValue",e.value),t("update:value",e.value),f.value=e.value}}),()=>{let t=e.disabled&&p?$o("input",{key:"disabled-input",ref:h,value:f.value,tabindex:"-1",readonly:!!e.disabled,type:o.value,maxlength:f.maxlength,step:m.value,class:"uni-input-input",style:e.cursorColor?{caretColor:e.cursorColor}:{},onFocus:e=>e.target.blur()},null,44,["value","readonly","type","maxlength","step","onFocus"]):$o("input",{key:"input",ref:h,value:f.value,onInput:e=>{const t=e.target.value.toString();"number"===o.value&&f.maxlength>0&&t.length>f.maxlength?dp(e)&&(f.value=t.slice(0,f.maxlength)):f.value=t},disabled:!!e.disabled,type:o.value,maxlength:f.maxlength,step:m.value,enterkeyhint:e.confirmType,pattern:"number"===e.type?"[0-9]*":void 0,class:"uni-input-input",style:e.cursorColor?{caretColor:e.cursorColor}:{},autocomplete:s.value,onKeyup:v,inputmode:a.value},null,44,["value","onInput","disabled","type","maxlength","step","enterkeyhint","pattern","autocomplete","onKeyup","inputmode"]);return $o("uni-input",{ref:u},[$o("div",{class:"uni-input-wrapper"},[Vn($o("div",Ko(d.attrs,{style:e.placeholderStyle,class:["uni-input-placeholder",e.placeholderClass]}),[e.placeholder],16),[[Rs,!(f.value.length||"-"===l.value||l.value.includes("."))]]),"search"===e.confirmType?$o("form",{action:"",onSubmit:e=>e.preventDefault(),class:"uni-input-form"},[t],40,["onSubmit"]):t])],512)}}});const gp=["class","style"],yp=/^on[A-Z]+/,mp=(e={})=>{const{excludeListeners:t=!1,excludeKeys:r=[]}=e,n=es(),i=zr({}),o=zr({}),s=zr({}),a=r.concat(gp);return n.attrs=Ar(n.attrs),Fn(()=>{const e=(r=n.attrs,Object.keys(r).map(e=>[e,r[e]])).reduce((e,[r,n])=>(a.includes(r)?e.exclude[r]=n:yp.test(r)?(t||(e.attrs[r]=n),e.listeners[r]=n):e.attrs[r]=n,e),{exclude:{},attrs:{},listeners:{}});var r;i.value=e.attrs,o.value=e.listeners,s.value=e.exclude}),{$attrs:i,$listeners:o,$excludeAttrs:s}};function vp(e){const t=[];return x(e)&&e.forEach(e=>{Bo(e)?e.type===To?t.push(...vp(e.children)):t.push(e):x(e)&&t.push(...vp(e))}),t}const bp=function(e,t,r,n){e.addEventListener(t,e=>{T(r)&&!1===r(e)&&((void 0===e.cancelable||e.cancelable)&&e.preventDefault(),e.stopPropagation())},{passive:!1})};let _p,xp;const wp=zu({name:"PickerView",props:{value:{type:Array,default:()=>[],validator:function(e){return x(e)&&e.filter(e=>"number"==typeof e).length===e.length}},indicatorStyle:{type:String,default:""},indicatorClass:{type:String,default:""},maskStyle:{type:String,default:""},maskClass:{type:String,default:""}},emits:["change","pickstart","pickend","update:value"],setup(e,{slots:t,emit:r}){const n=$r(null),i=$r(null),o=qu(n,r),s=function(e){const t=Ar([...e.value]),r=Ar({value:t,height:34});return Nn(()=>e.value,(e,t)=>{r.value.length=e.length,e.forEach((e,t)=>{e!==r.value[t]&&r.value.splice(t,1,e)})}),r}(e),a=$r(null);Si(()=>{const e=a.value;e&&(s.height=e.$el.offsetHeight)});let l=$r([]),c=$r([]);function u(e){let t=c.value;t=t.filter(e=>e.type!==Ao);let r=t.indexOf(e);return-1!==r?r:l.value.indexOf(e)}return ro("getPickerViewColumn",function(e){return hs({get(){const t=u(e.vnode);return s.value[t]||0},set(t){const n=u(e.vnode);if(n<0)return;if(s.value[n]!==t){s.value[n]=t;const e=s.value.map(e=>e);r("update:value",e),o("change",{},{value:e})}}})}),ro("pickerViewProps",e),ro("pickerViewState",s),()=>{const e=t.default&&t.default();{const t=vp(e);l.value=t,cn(()=>{c.value=t})}return $o("uni-picker-view",{ref:n},[$o(Pd,{ref:a,onResize:({height:e})=>s.height=e},null,8,["onResize"]),$o("div",{ref:i,class:"uni-picker-view-wrapper"},[e],512)],512)}}});class Sp{constructor(e){this._drag=e,this._dragLog=Math.log(e),this._x=0,this._v=0,this._startTime=0}set(e,t){this._x=e,this._v=t,this._startTime=(new Date).getTime()}setVelocityByEnd(e){this._v=(e-this._x)*this._dragLog/(Math.pow(this._drag,100)-1)}x(e){void 0===e&&(e=((new Date).getTime()-this._startTime)/1e3);const t=e===this._dt&&this._powDragDt?this._powDragDt:this._powDragDt=Math.pow(this._drag,e);return this._dt=e,this._x+this._v*t/this._dragLog-this._v/this._dragLog}dx(e){void 0===e&&(e=((new Date).getTime()-this._startTime)/1e3);const t=e===this._dt&&this._powDragDt?this._powDragDt:this._powDragDt=Math.pow(this._drag,e);return this._dt=e,this._v*t}done(){return Math.abs(this.dx())<3}reconfigure(e){const t=this.x(),r=this.dx();this._drag=e,this._dragLog=Math.log(e),this.set(t,r)}configuration(){const e=this;return[{label:"Friction",read:function(){return e._drag},write:function(t){e.reconfigure(t)},min:.001,max:.1,step:.001}]}}function Tp(e,t,r){return e>t-r&&e<t+r}function Ep(e,t){return Tp(e,0,t)}class Ap{constructor(e,t,r){this._m=e,this._k=t,this._c=r,this._solution=null,this._endPosition=0,this._startTime=0}_solve(e,t){const r=this._c,n=this._m,i=this._k,o=r*r-4*n*i;if(0===o){const i=-r/(2*n),o=e,s=t/(i*e);return{x:function(e){return(o+s*e)*Math.pow(Math.E,i*e)},dx:function(e){const t=Math.pow(Math.E,i*e);return i*(o+s*e)*t+s*t}}}if(o>0){const i=(-r-Math.sqrt(o))/(2*n),s=(-r+Math.sqrt(o))/(2*n),a=(t-i*e)/(s-i),l=e-a;return{x:function(e){let t,r;return e===this._t&&(t=this._powER1T,r=this._powER2T),this._t=e,t||(t=this._powER1T=Math.pow(Math.E,i*e)),r||(r=this._powER2T=Math.pow(Math.E,s*e)),l*t+a*r},dx:function(e){let t,r;return e===this._t&&(t=this._powER1T,r=this._powER2T),this._t=e,t||(t=this._powER1T=Math.pow(Math.E,i*e)),r||(r=this._powER2T=Math.pow(Math.E,s*e)),l*i*t+a*s*r}}}const s=Math.sqrt(4*n*i-r*r)/(2*n),a=-r/2*n,l=e,c=(t-a*e)/s;return{x:function(e){return Math.pow(Math.E,a*e)*(l*Math.cos(s*e)+c*Math.sin(s*e))},dx:function(e){const t=Math.pow(Math.E,a*e),r=Math.cos(s*e),n=Math.sin(s*e);return t*(c*s*r-l*s*n)+a*t*(c*n+l*r)}}}x(e){return void 0===e&&(e=((new Date).getTime()-this._startTime)/1e3),this._solution?this._endPosition+this._solution.x(e):0}dx(e){return void 0===e&&(e=((new Date).getTime()-this._startTime)/1e3),this._solution?this._solution.dx(e):0}setEnd(e,t,r){if(r||(r=(new Date).getTime()),e!==this._endPosition||!Ep(t,.4)){t=t||0;let n=this._endPosition;this._solution&&(Ep(t,.4)&&(t=this._solution.dx((r-this._startTime)/1e3)),n=this._solution.x((r-this._startTime)/1e3),Ep(t,.4)&&(t=0),Ep(n,.4)&&(n=0),n+=this._endPosition),this._solution&&Ep(n-e,.4)&&Ep(t,.4)||(this._endPosition=e,this._solution=this._solve(n-this._endPosition,t),this._startTime=r)}}snap(e){this._startTime=(new Date).getTime(),this._endPosition=e,this._solution={x:function(){return 0},dx:function(){return 0}}}done(e){return e||(e=(new Date).getTime()),Tp(this.x(),this._endPosition,.4)&&Ep(this.dx(),.4)}reconfigure(e,t,r){this._m=e,this._k=t,this._c=r,this.done()||(this._solution=this._solve(this.x()-this._endPosition,this.dx()),this._startTime=(new Date).getTime())}springConstant(){return this._k}damping(){return this._c}configuration(){return[{label:"Spring Constant",read:this.springConstant.bind(this),write:function(e,t){e.reconfigure(1,t,e.damping())}.bind(this,this),min:100,max:1e3},{label:"Damping",read:this.damping.bind(this),write:function(e,t){e.reconfigure(1,e.springConstant(),t)}.bind(this,this),min:1,max:500}]}}class kp{constructor(e,t,r){this._extent=e,this._friction=t||new Sp(.01),this._spring=r||new Ap(1,90,20),this._startTime=0,this._springing=!1,this._springOffset=0}snap(e,t){this._springOffset=0,this._springing=!0,this._spring.snap(e),this._spring.setEnd(t)}set(e,t){this._friction.set(e,t),e>0&&t>=0?(this._springOffset=0,this._springing=!0,this._spring.snap(e),this._spring.setEnd(0)):e<-this._extent&&t<=0?(this._springOffset=0,this._springing=!0,this._spring.snap(e),this._spring.setEnd(-this._extent)):this._springing=!1,this._startTime=(new Date).getTime()}x(e){if(!this._startTime)return 0;if(e||(e=((new Date).getTime()-this._startTime)/1e3),this._springing)return this._spring.x()+this._springOffset;let t=this._friction.x(e),r=this.dx(e);return(t>0&&r>=0||t<-this._extent&&r<=0)&&(this._springing=!0,this._spring.setEnd(0,r),t<-this._extent?this._springOffset=-this._extent:this._springOffset=0,t=this._spring.x()+this._springOffset),t}dx(e){let t;return t=this._lastTime===e?this._lastDx:this._springing?this._spring.dx(e):this._friction.dx(e),this._lastTime=e,this._lastDx=t,t}done(){return this._springing?this._spring.done():this._friction.done()}setVelocityByEnd(e){this._friction.setVelocityByEnd(e)}configuration(){const e=this._friction.configuration();return e.push.apply(e,this._spring.configuration()),e}}class Cp{constructor(e,t){t=t||{},this._element=e,this._options=t,this._enableSnap=t.enableSnap||!1,this._itemSize=t.itemSize||0,this._enableX=t.enableX||!1,this._enableY=t.enableY||!1,this._shouldDispatchScrollEvent=!!t.onScroll,this._enableX?(this._extent=(t.scrollWidth||this._element.offsetWidth)-this._element.parentElement.offsetWidth,this._scrollWidth=t.scrollWidth):(this._extent=(t.scrollHeight||this._element.offsetHeight)-this._element.parentElement.offsetHeight,this._scrollHeight=t.scrollHeight),this._position=0,this._scroll=new kp(this._extent,t.friction,t.spring),this._onTransitionEnd=this.onTransitionEnd.bind(this),this.updatePosition()}onTouchStart(){this._startPosition=this._position,this._lastChangePos=this._startPosition,this._startPosition>0?this._startPosition/=.5:this._startPosition<-this._extent&&(this._startPosition=(this._startPosition+this._extent)/.5-this._extent),this._animation&&(this._animation.cancel(),this._scrolling=!1),this.updatePosition()}onTouchMove(e,t){let r=this._startPosition;this._enableX?r+=e:this._enableY&&(r+=t),r>0?r*=.5:r<-this._extent&&(r=.5*(r+this._extent)-this._extent),this._position=r,this.updatePosition(),this.dispatchScroll()}onTouchEnd(e,t,r){if(this._enableSnap&&this._position>-this._extent&&this._position<0){if(this._enableY&&(Math.abs(t)<this._itemSize&&Math.abs(r.y)<300||Math.abs(r.y)<150))return void this.snap();if(this._enableX&&(Math.abs(e)<this._itemSize&&Math.abs(r.x)<300||Math.abs(r.x)<150))return void this.snap()}let n;if(this._enableX?this._scroll.set(this._position,r.x):this._enableY&&this._scroll.set(this._position,r.y),this._enableSnap){const e=this._scroll._friction.x(100),t=e%this._itemSize;n=Math.abs(t)>this._itemSize/2?e-(this._itemSize-Math.abs(t)):e-t,n<=0&&n>=-this._extent&&this._scroll.setVelocityByEnd(n)}this._lastTime=Date.now(),this._lastDelay=0,this._scrolling=!0,this._lastChangePos=this._position,this._lastIdx=Math.floor(Math.abs(this._position/this._itemSize)),this._animation=function(e,t,r){const n={id:0,cancelled:!1};return function e(t,r,n,i){if(!t||!t.cancelled){n(r);const o=r.done();o||t.cancelled||(t.id=requestAnimationFrame(e.bind(null,t,r,n,i))),o&&i&&i(r)}}(n,e,t,r),{cancel:function(e){e&&e.id&&cancelAnimationFrame(e.id),e&&(e.cancelled=!0)}.bind(null,n),model:e}}(this._scroll,()=>{const e=Date.now(),t=(e-this._scroll._startTime)/1e3,r=this._scroll.x(t);this._position=r,this.updatePosition();const n=this._scroll.dx(t);this._shouldDispatchScrollEvent&&e-this._lastTime>this._lastDelay&&(this.dispatchScroll(),this._lastDelay=Math.abs(2e3/n),this._lastTime=e)},()=>{this._enableSnap&&(n<=0&&n>=-this._extent&&(this._position=n,this.updatePosition()),T(this._options.onSnap)&&this._options.onSnap(Math.floor(Math.abs(this._position)/this._itemSize))),this._shouldDispatchScrollEvent&&this.dispatchScroll(),this._scrolling=!1})}onTransitionEnd(){this._element.style.webkitTransition="",this._element.style.transition="",this._element.removeEventListener("transitionend",this._onTransitionEnd),this._snapping&&(this._snapping=!1),this.dispatchScroll()}snap(){const e=this._itemSize,t=this._position%e,r=Math.abs(t)>this._itemSize/2?this._position-(e-Math.abs(t)):this._position-t;this._position!==r&&(this._snapping=!0,this.scrollTo(-r),T(this._options.onSnap)&&this._options.onSnap(Math.floor(Math.abs(this._position)/this._itemSize)))}scrollTo(e,t){this._animation&&(this._animation.cancel(),this._scrolling=!1),"number"==typeof e&&(this._position=-e),this._position<-this._extent?this._position=-this._extent:this._position>0&&(this._position=0);const r="transform "+(t||.2)+"s ease-out";this._element.style.webkitTransition="-webkit-"+r,this._element.style.transition=r,this.updatePosition(),this._element.addEventListener("transitionend",this._onTransitionEnd)}dispatchScroll(){if(T(this._options.onScroll)&&Math.round(Number(this._lastPos))!==Math.round(this._position)){this._lastPos=this._position;const e={target:{scrollLeft:this._enableX?-this._position:0,scrollTop:this._enableY?-this._position:0,scrollHeight:this._scrollHeight||this._element.offsetHeight,scrollWidth:this._scrollWidth||this._element.offsetWidth,offsetHeight:this._element.parentElement.offsetHeight,offsetWidth:this._element.parentElement.offsetWidth}};this._options.onScroll(e)}}update(e,t,r){let n=0;const i=this._position;this._enableX?(n=this._element.childNodes.length?(t||this._element.offsetWidth)-this._element.parentElement.offsetWidth:0,this._scrollWidth=t):(n=this._element.childNodes.length?(t||this._element.offsetHeight)-this._element.parentElement.offsetHeight:0,this._scrollHeight=t),"number"==typeof e&&(this._position=-e),this._position<-n?this._position=-n:this._position>0&&(this._position=0),this._itemSize=r||this._itemSize,this.updatePosition(),i!==this._position&&(this.dispatchScroll(),T(this._options.onSnap)&&this._options.onSnap(Math.floor(Math.abs(this._position)/this._itemSize))),this._extent=n,this._scroll._extent=n}updatePosition(){let e="";this._enableX?e="translateX("+this._position+"px) translateZ(0)":this._enableY&&(e="translateY("+this._position+"px) translateZ(0)"),this._element.style.webkitTransform=e,this._element.style.transform=e}isScrolling(){return this._scrolling||this._snapping}}const Pp=zu({name:"PickerViewColumn",setup(e,{slots:t,emit:r}){const n=$r(null),i=$r(null),o=no("getPickerViewColumn"),s=es(),a=o?o(s):$r(0),l=no("pickerViewProps"),c=no("pickerViewState"),u=$r(34),h=$r(null);Si(()=>{const e=h.value;u.value=e.$el.offsetHeight});const f=hs(()=>(c.height-u.value)/2),{state:d}=tp();let p;const g=Ar({current:a.value,length:0});let y;function m(){p&&!y&&(y=!0,cn(()=>{y=!1;let e=Math.min(g.current,g.length-1);e=Math.max(e,0),p.update(e*u.value,void 0,u.value)}))}Nn(()=>a.value,e=>{e!==g.current&&(g.current=e,m())}),Nn(()=>g.current,e=>a.value=e),Nn([()=>u.value,()=>g.length,()=>c.height],m);let v=0;function b(e){const t=v+e.deltaY;if(Math.abs(t)>10){v=0;let e=Math.min(g.current+(t<0?-1:1),g.length-1);g.current=e=Math.max(e,0),p.scrollTo(e*u.value)}else v=t;e.preventDefault()}function _({clientY:e}){const t=n.value;if(!p.isScrolling()){const r=e-t.getBoundingClientRect().top-c.height/2,n=u.value/2;if(!(Math.abs(r)<=n)){const e=Math.ceil((Math.abs(r)-n)/u.value),t=r<0?-e:e;let i=Math.min(g.current+t,g.length-1);g.current=i=Math.max(i,0),p.scrollTo(i*u.value)}}}const x=()=>{const e=n.value,t=i.value,{scroller:r,handleTouchStart:o,handleTouchMove:s,handleTouchEnd:a}=function(e,t){const r={trackingID:-1,maxDy:0,maxDx:0},n=new Cp(e,t);function i(e){const t=e,n=e;return"move"===t.detail.state||"end"===t.detail.state?{x:t.detail.dx,y:t.detail.dy}:{x:n.screenX-r.x,y:n.screenY-r.y}}return{scroller:n,handleTouchStart:function(e){const t=e,i=e;"start"===t.detail.state?(r.trackingID="touch",r.x=t.detail.x,r.y=t.detail.y):(r.trackingID="mouse",r.x=i.screenX,r.y=i.screenY),r.maxDx=0,r.maxDy=0,r.historyX=[0],r.historyY=[0],r.historyTime=[t.detail.timeStamp||i.timeStamp],r.listener=n,n.onTouchStart&&n.onTouchStart(),("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault()},handleTouchMove:function(e){const t=e,n=e;if(-1!==r.trackingID){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault();const o=i(e);if(o){for(r.maxDy=Math.max(r.maxDy,Math.abs(o.y)),r.maxDx=Math.max(r.maxDx,Math.abs(o.x)),r.historyX.push(o.x),r.historyY.push(o.y),r.historyTime.push(t.detail.timeStamp||n.timeStamp);r.historyTime.length>10;)r.historyTime.shift(),r.historyX.shift(),r.historyY.shift();r.listener&&r.listener.onTouchMove&&r.listener.onTouchMove(o.x,o.y)}}},handleTouchEnd:function(e){if(-1!==r.trackingID){e.preventDefault();const t=i(e);if(t){const e=r.listener;r.trackingID=-1,r.listener=null;const n={x:0,y:0};if(r.historyTime.length>2)for(let t=r.historyTime.length-1,i=r.historyTime[t],o=r.historyX[t],s=r.historyY[t];t>0;){t--;const e=i-r.historyTime[t];if(e>30&&e<50){n.x=(o-r.historyX[t])/(e/1e3),n.y=(s-r.historyY[t])/(e/1e3);break}}r.historyTime=[],r.historyX=[],r.historyY=[],e&&e.onTouchEnd&&e.onTouchEnd(t.x,t.y,n)}}}}}(t,{enableY:!0,enableX:!1,enableSnap:!0,itemSize:u.value,friction:new Sp(1e-4),spring:new Ap(2,90,20),onSnap:e=>{isNaN(e)||e===g.current||(g.current=e)}});p=r,function(e,t){Ai(()=>{document.removeEventListener("mousemove",_p),document.removeEventListener("mouseup",xp)});let r=0,n=0,i=0,o=0;const s=function(e,s,a,l){if(!1===t({cancelable:e.cancelable,target:e.target,currentTarget:e.currentTarget,preventDefault:e.preventDefault.bind(e),stopPropagation:e.stopPropagation.bind(e),touches:e.touches,changedTouches:e.changedTouches,detail:{state:s,x:a,y:l,dx:a-r,dy:l-n,ddx:a-i,ddy:l-o,timeStamp:e.timeStamp}}))return!1};let a,l,c=null;bp(e,"touchstart",function(e){if(a=!0,1===e.touches.length&&!c)return c=e,r=i=e.touches[0].pageX,n=o=e.touches[0].pageY,s(e,"start",r,n)}),bp(e,"mousedown",function(e){if(l=!0,!a&&!c)return c=e,r=i=e.pageX,n=o=e.pageY,s(e,"start",r,n)}),bp(e,"touchmove",function(e){if(1===e.touches.length&&c){const t=s(e,"move",e.touches[0].pageX,e.touches[0].pageY);return i=e.touches[0].pageX,o=e.touches[0].pageY,t}});const u=_p=function(e){if(!a&&l&&c){const t=s(e,"move",e.pageX,e.pageY);return i=e.pageX,o=e.pageY,t}};document.addEventListener("mousemove",u),bp(e,"touchend",function(e){if(0===e.touches.length&&c)return a=!1,c=null,s(e,"end",e.changedTouches[0].pageX,e.changedTouches[0].pageY)});const h=xp=function(e){if(l=!1,!a&&c)return c=null,s(e,"end",e.pageX,e.pageY)};document.addEventListener("mouseup",h),bp(e,"touchcancel",function(e){if(c){a=!1;const t=c;return c=null,s(e,"cancel",t.touches[0].pageX,t.touches[0].pageY)}})}(e,e=>{switch(e.detail.state){case"start":o(e);break;case"move":s(e),e.stopPropagation();break;case"end":case"cancel":a(e)}}),function(e){let t=0,r=0;e.addEventListener("touchstart",e=>{const n=e.changedTouches[0];t=n.clientX,r=n.clientY}),e.addEventListener("touchend",e=>{const n=e.changedTouches[0];if(Math.abs(n.clientX-t)<20&&Math.abs(n.clientY-r)<20){const t={bubbles:!0,cancelable:!0,target:e.target,currentTarget:e.currentTarget},r=new CustomEvent("click",t);["screenX","screenY","clientX","clientY","pageX","pageY"].forEach(e=>{r[e]=n[e]}),e.target.dispatchEvent(r)}})}(e),m()};return Si(x),()=>{const e=t.default&&t.default();g.length=vp(e).length;const r=`${f.value}px 0`;return $o("uni-picker-view-column",{ref:n},[$o("div",{onWheel:b,onClick:_,class:"uni-picker-view-group"},[$o("div",Ko(d.attrs,{class:["uni-picker-view-mask",l.maskClass],style:`background-size: 100% ${f.value}px;${l.maskStyle}`}),null,16),$o("div",Ko(d.attrs,{class:["uni-picker-view-indicator",l.indicatorClass],style:l.indicatorStyle}),[$o(Pd,{ref:h,onResize:({height:e})=>u.value=e},null,8,["onResize"])],16),$o("div",{ref:i,class:["uni-picker-view-content"],style:{padding:r,"--picker-view-column-indicator-height":`${u.value}px`}},[e],4)],40,["onWheel","onClick"])],512)}}}),Op=zu({name:"Refresher",props:{refreshState:{type:String,default:""},refresherHeight:{type:Number,default:0},refresherThreshold:{type:Number,default:45},refresherDefaultStyle:{type:String,default:"black"},refresherBackground:{type:String,default:"#fff"}},setup(e,{slots:t}){const r=$r(null),n=hs(()=>{const t={backgroundColor:e.refresherBackground};switch(e.refreshState){case"pulling":t.height=e.refresherHeight+"px";break;case"refreshing":t.height=e.refresherThreshold+"px",t.transition="height 0.3s";break;case"":case"refresherabort":case"restore":t.height="0px",t.transition="height 0.3s"}return t}),i=hs(()=>{const t=e.refresherHeight/e.refresherThreshold;return 360*(t>1?1:t)});return()=>{const{refreshState:o,refresherDefaultStyle:s,refresherThreshold:a}=e;return $o("div",{ref:r,style:n.value,class:"uni-scroll-view-refresher"},["none"!==s?$o("div",{class:"uni-scroll-view-refresh"},[$o("div",{class:"uni-scroll-view-refresh-inner"},["pulling"==o?$o("svg",{key:"refresh__icon",style:{transform:"rotate("+i.value+"deg)"},fill:"#2BD009",class:"uni-scroll-view-refresh__icon",width:"24",height:"24",viewBox:"0 0 24 24"},[$o("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},null),$o("path",{d:"M0 0h24v24H0z",fill:"none"},null)],4):null,"refreshing"==o?$o("svg",{key:"refresh__spinner",class:"uni-scroll-view-refresh__spinner",width:"24",height:"24",viewBox:"25 25 50 50"},[$o("circle",{cx:"50",cy:"50",r:"20",fill:"none",style:"color: #2bd009","stroke-width":"3"},null)]):null])]):null,"none"===s?$o("div",{class:"uni-scroll-view-refresher-container",style:{height:`${a}px`}},[t.default&&t.default()]):null],4)}}}),Mp=tt(!0),Ip=zu({name:"ScrollView",compatConfig:{MODE:3},props:{direction:{type:[String],default:"vertical"},scrollX:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},showScrollbar:{type:[Boolean,String],default:!0},upperThreshold:{type:[Number,String],default:50},lowerThreshold:{type:[Number,String],default:50},scrollTop:{type:[Number,String],default:0},scrollLeft:{type:[Number,String],default:0},scrollIntoView:{type:String,default:""},scrollWithAnimation:{type:[Boolean,String],default:!1},enableBackToTop:{type:[Boolean,String],default:!1},refresherEnabled:{type:[Boolean,String],default:!1},refresherThreshold:{type:Number,default:45},refresherDefaultStyle:{type:String,default:"black"},refresherBackground:{type:String,default:"#fff"},refresherTriggered:{type:[Boolean,String],default:!1}},emits:["scroll","scrolltoupper","scrolltolower","refresherrefresh","refresherrestore","refresherpulling","refresherabort","update:refresherTriggered"],setup(e,{emit:t,slots:r,expose:n}){const i=$r(null),o=$r(null),s=$r(null),a=$r(null),l=qu(i,t),{state:c,scrollTopNumber:u,scrollLeftNumber:h}=function(e){const t=hs(()=>Number(e.scrollTop)||0),r=hs(()=>Number(e.scrollLeft)||0),n=Ar({lastScrollTop:t.value,lastScrollLeft:r.value,lastScrollToUpperTime:0,lastScrollToLowerTime:0,refresherHeight:0,refreshState:""});return{state:n,scrollTopNumber:t,scrollLeftNumber:r}}(e),{realScrollX:f,realScrollY:d}=function(e,t,r,n,i,o,s,a,l){let c=!1,u=0,h=!1,f=()=>{};const d=hs(()=>e.scrollX),p=hs(()=>e.scrollY),g=hs(()=>{let t=Number(e.upperThreshold);return isNaN(t)?50:t}),y=hs(()=>{let t=Number(e.lowerThreshold);return isNaN(t)?50:t});function m(e,t){const r=s.value;let n=0,i="";if(e<0?e=0:"x"===t&&e>r.scrollWidth-r.offsetWidth?e=r.scrollWidth-r.offsetWidth:"y"===t&&e>r.scrollHeight-r.offsetHeight&&(e=r.scrollHeight-r.offsetHeight),"x"===t?n=r.scrollLeft-e:"y"===t&&(n=r.scrollTop-e),0===n)return;let o=a.value;o.style.transition="transform .3s ease-out",o.style.webkitTransition="-webkit-transform .3s ease-out","x"===t?i="translateX("+n+"px) translateZ(0)":"y"===t&&(i="translateY("+n+"px) translateZ(0)"),o.removeEventListener("transitionend",f),o.removeEventListener("webkitTransitionEnd",f),f=()=>w(e,t),o.addEventListener("transitionend",f),o.addEventListener("webkitTransitionEnd",f),"x"===t?r.style.overflowX="hidden":"y"===t&&(r.style.overflowY="hidden"),o.style.transform=i,o.style.webkitTransform=i}function v(e){const r=e.target;i("scroll",e,{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop,scrollHeight:r.scrollHeight,scrollWidth:r.scrollWidth,deltaX:t.lastScrollLeft-r.scrollLeft,deltaY:t.lastScrollTop-r.scrollTop}),p.value&&(r.scrollTop<=g.value&&t.lastScrollTop-r.scrollTop>0&&e.timeStamp-t.lastScrollToUpperTime>200&&(i("scrolltoupper",e,{direction:"top"}),t.lastScrollToUpperTime=e.timeStamp),r.scrollTop+r.offsetHeight+y.value>=r.scrollHeight&&t.lastScrollTop-r.scrollTop<0&&e.timeStamp-t.lastScrollToLowerTime>200&&(i("scrolltolower",e,{direction:"bottom"}),t.lastScrollToLowerTime=e.timeStamp)),d.value&&(r.scrollLeft<=g.value&&t.lastScrollLeft-r.scrollLeft>0&&e.timeStamp-t.lastScrollToUpperTime>200&&(i("scrolltoupper",e,{direction:"left"}),t.lastScrollToUpperTime=e.timeStamp),r.scrollLeft+r.offsetWidth+y.value>=r.scrollWidth&&t.lastScrollLeft-r.scrollLeft<0&&e.timeStamp-t.lastScrollToLowerTime>200&&(i("scrolltolower",e,{direction:"right"}),t.lastScrollToLowerTime=e.timeStamp)),t.lastScrollTop=r.scrollTop,t.lastScrollLeft=r.scrollLeft}function b(t){p.value&&(e.scrollWithAnimation?m(t,"y"):s.value.scrollTop=t)}function _(t){d.value&&(e.scrollWithAnimation?m(t,"x"):s.value.scrollLeft=t)}function x(t){if(t){if(!/^[_a-zA-Z][-_a-zA-Z0-9:]*$/.test(t))return void console.error(`id error: scroll-into-view=${t}`);let r=o.value.querySelector("#"+t);if(r){let t=s.value.getBoundingClientRect(),n=r.getBoundingClientRect();if(d.value){let r=n.left-t.left,i=s.value.scrollLeft+r;e.scrollWithAnimation?m(i,"x"):s.value.scrollLeft=i}if(p.value){let r=n.top-t.top,i=s.value.scrollTop+r;e.scrollWithAnimation?m(i,"y"):s.value.scrollTop=i}}}}function w(e,t){a.value.style.transition="",a.value.style.webkitTransition="",a.value.style.transform="",a.value.style.webkitTransform="";let r=s.value;"x"===t?(r.style.overflowX=d.value?"auto":"hidden",r.scrollLeft=e):"y"===t&&(r.style.overflowY=p.value?"auto":"hidden",r.scrollTop=e),a.value.removeEventListener("transitionend",f),a.value.removeEventListener("webkitTransitionEnd",f)}function S(r){if(e.refresherEnabled){switch(r){case"refreshing":t.refresherHeight=e.refresherThreshold,c||(c=!0,i("refresherpulling",{},{deltaY:t.refresherHeight,dy:t.refresherHeight}),i("refresherrefresh",{},{dy:E.y-T.y}),l("update:refresherTriggered",!0));break;case"restore":case"refresherabort":c=!1,t.refresherHeight=u=0,"restore"===r&&(h=!1,i("refresherrestore",{},{dy:E.y-T.y})),"refresherabort"===r&&h&&(h=!1,i("refresherabort",{},{dy:E.y-T.y}))}t.refreshState=r}}let T={x:0,y:0},E={y:e.refresherThreshold};return Si(()=>{cn(()=>{b(r.value),_(n.value)}),x(e.scrollIntoView);let o=function(e){e.preventDefault(),e.stopPropagation(),v(e)},a=null,l=function(r){if(null===T)return;let n=r.touches[0].pageX,o=r.touches[0].pageY,l=s.value;if(Math.abs(n-T.x)>Math.abs(o-T.y))if(d.value){if(0===l.scrollLeft&&n>T.x)return void(a=!1);if(l.scrollWidth===l.offsetWidth+l.scrollLeft&&n<T.x)return void(a=!1);a=!0}else a=!1;else if(p.value)if(0===l.scrollTop&&o>T.y)a=!1,e.refresherEnabled&&!1!==r.cancelable&&r.preventDefault();else{if(l.scrollHeight===l.offsetHeight+l.scrollTop&&o<T.y)return void(a=!1);a=!0}else a=!1;if(a&&r.stopPropagation(),0===l.scrollTop&&1===r.touches.length&&S("pulling"),e.refresherEnabled&&"pulling"===t.refreshState){const n=o-T.y;0===u&&(u=o),c?(t.refresherHeight=n+e.refresherThreshold,h=!1):(t.refresherHeight=o-u,t.refresherHeight>0&&(h=!0,i("refresherpulling",r,{deltaY:n,dy:n})))}},f=function(e){1===e.touches.length&&(T={x:e.touches[0].pageX,y:e.touches[0].pageY})},g=function(r){E={x:r.changedTouches[0].pageX,y:r.changedTouches[0].pageY},t.refresherHeight>=e.refresherThreshold?S("refreshing"):S("refresherabort"),T={x:0,y:0},E={x:0,y:e.refresherThreshold}};s.value.addEventListener("touchstart",f,Mp),s.value.addEventListener("touchmove",l,tt(!1)),s.value.addEventListener("scroll",o,tt(!1)),s.value.addEventListener("touchend",g,Mp),Ai(()=>{s.value.removeEventListener("touchstart",f),s.value.removeEventListener("touchmove",l),s.value.removeEventListener("scroll",o),s.value.removeEventListener("touchend",g)})}),fi(()=>{p.value&&(s.value.scrollTop=t.lastScrollTop),d.value&&(s.value.scrollLeft=t.lastScrollLeft)}),Nn(r,e=>{b(e)}),Nn(n,e=>{_(e)}),Nn(()=>e.scrollIntoView,e=>{x(e)}),Nn(()=>e.refresherTriggered,e=>{!0===e?S("refreshing"):!1===e&&S("restore")}),{realScrollX:d,realScrollY:p,_scrollTopChanged:b,_scrollLeftChanged:_}}(e,c,u,h,l,i,o,a,t),p=hs(()=>{let e="";return f.value?e+="overflow-x:auto;":e+="overflow-x:hidden;",d.value?e+="overflow-y:auto;":e+="overflow-y:hidden;",e}),g=hs(()=>{let t="uni-scroll-view";return!1===e.showScrollbar&&(t+=" uni-scroll-view-scrollbar-hidden"),t});return n({$getMain:()=>o.value}),()=>{const{refresherEnabled:t,refresherBackground:n,refresherDefaultStyle:l,refresherThreshold:u}=e,{refresherHeight:h,refreshState:f}=c;return $o("uni-scroll-view",{ref:i},[$o("div",{ref:s,class:"uni-scroll-view"},[$o("div",{ref:o,style:p.value,class:g.value},[t?$o(Op,{refreshState:f,refresherHeight:h,refresherThreshold:u,refresherDefaultStyle:l,refresherBackground:n},{default:()=>["none"==l?r.refresher&&r.refresher():null]},8,["refreshState","refresherHeight","refresherThreshold","refresherDefaultStyle","refresherBackground"]):null,$o("div",{ref:a,class:"uni-scroll-view-content"},[r.default&&r.default()],512)],6)],512)],512)}}});const Lp=zu({name:"Switch",props:{name:{type:String,default:""},checked:{type:[Boolean,String],default:!1},type:{type:String,default:"switch"},id:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},color:{type:String,default:""}},emits:["change"],setup(e,{emit:t}){const r=$r(null),n=$r(e.checked),i=function(e,t){const r=no(Xu,!1),n=no(Qu,!1),i={submit:()=>{const r=["",null];return e.name&&(r[0]=e.name,r[1]=t.value),r},reset:()=>{t.value=!1}};r&&(r.addField(i),ki(()=>{r.removeField(i)}));return n}(e,n),o=qu(r,t);Nn(()=>e.checked,e=>{n.value=e});const s=t=>{e.disabled||(n.value=!n.value,o("change",t,{value:n.value}))};return i&&(i.addHandler(s),Ai(()=>{i.removeHandler(s)})),Ju(e,{"label-click":s}),()=>{const{color:t,type:i}=e,o=Ku(e,"disabled"),a={};let l;return t&&n.value&&(a.backgroundColor=t,a.borderColor=t),l=n.value,$o("uni-switch",Ko({id:e.id,ref:r},o,{onClick:s}),[$o("div",{class:"uni-switch-wrapper"},[Vn($o("div",{class:["uni-switch-input",[n.value?"uni-switch-input-checked":""]],style:a},null,6),[[Rs,"switch"===i]]),Vn($o("div",{class:"uni-checkbox-input"},[l?tu(Jc,e.color,22):""],512),[[Rs,"checkbox"===i]])])],16,["id","onClick"])}}});const Rp={ensp:"",emsp:"",nbsp:""};function Dp(e,t){return function(e,{space:t,decode:r}){let n="",i=!1;for(let o of e)t&&Rp[t]&&" "===o&&(o=Rp[t]),i?(n+="n"===o?"\n":"\\"===o?"\\":"\\"+o,i=!1):"\\"===o?i=!0:n+=o;return r?n.replace(/&nbsp;/g,Rp.nbsp).replace(/&ensp;/g,Rp.ensp).replace(/&emsp;/g,Rp.emsp).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):n}(e,t).split("\n")}const Bp=zu({name:"Text",props:{selectable:{type:[Boolean,String],default:!1},space:{type:String,default:""},decode:{type:[Boolean,String],default:!1}},setup(e,{slots:t}){const r=$r(null);return()=>{const n=[];return t.default&&t.default().forEach(t=>{if(8&t.shapeFlag&&t.type!==Ao){const r=Dp(t.children,{space:e.space,decode:e.decode}),i=r.length-1;r.forEach((e,t)=>{(0!==t||e)&&n.push(Vo(e)),t!==i&&n.push($o("br"))})}else n.push(t)}),$o("uni-text",{ref:r,selectable:!!e.selectable||null},[$o("span",null,n)],8,["selectable"])}}}),Fp=zu({name:"View",props:m({},Gu),setup(e,{slots:t}){const r=$r(null),{hovering:n,binding:i}=Yu(e);return()=>{const o=e.hoverClass;return o&&"none"!==o?$o("uni-view",Ko({class:n.value?o:"",ref:r},i),[Li(t,"default")],16):$o("uni-view",{ref:r},[Li(t,"default")],512)}}});function jp(e,t){if(t||(t=e.id),t)return e.$options.name.toLowerCase()+"."+t}function Np(e,t,r){e&&_c(ou(),e,({type:e,data:r},n)=>{t(e,r,n)})}function Wp(e,t){e&&function(e,t){t=bc(e,t),delete vc[t]}(ou(),e)}let Up=0;function $p(e,t,r,n){T(t)&&_i(e,t.bind(r),n)}function zp(e,t,r){const n=e.mpType||r.$mpType;if(n&&"component"!==n&&("page"!==n||"component"!==t.renderer)&&(Object.keys(e).forEach(n=>{if(function(e,t,r=!0){return!(r&&!T(t))&&(ut.indexOf(e)>-1||0===e.indexOf("on"))}(n,e[n],!1)){const i=e[n];x(i)?i.forEach(e=>$p(n,e,r,t)):$p(n,i,r,t)}}),"page"===n)){t.__isVisible=!0;try{let e=t.attrs.__pageQuery;0,uu(r,me,e),t.vapor||delete t.attrs.__pageQuery;const n=r.$page;"preloadPage"!==(null==n?void 0:n.openType)&&uu(r,ue)}catch(i){console.error(i.message+"\n"+i.stack)}}}function Vp(e,t,r){zp(e,t,r)}function Hp(e,t,r){return e[t]=r}function qp(e,...t){const r=this[e];return r?r(...t):(console.error(`method ${e} not found`),null)}function Gp(e){const t=e.config.errorHandler;return function(r,n,i){t&&t(r,n,i);const o=e._instance;if(!o||!o.proxy)throw r;o[de]?uu(o.proxy,de,r):Jr(r,0,n&&n.$.vnode,!1)}}function Yp(e,t){return e?[...new Set([].concat(e,t))]:t}function Kp(e){const t=e.config;var r;t.errorHandler=ft(e,Gp),r=t.optionMergeStrategies,ut.forEach(e=>{r[e]=Yp});const n=t.globalProperties;n.$set=Hp,n.$applyOptions=Vp,n.$callMethod=qp,function(e){ht.forEach(t=>t(e))}(e)}function Xp(e){const t=Vl({history:Zp(),strict:!!__uniConfig.router.strict,routes:__uniRoutes,scrollBehavior:Jp});t.beforeEach((e,t)=>{var r;e&&t&&e.meta.isTabBar&&t.meta.isTabBar&&(r=t.meta.tabBarIndex,"undefined"!=typeof window&&(Qp[r]={left:window.pageXOffset,top:window.pageYOffset}))}),e.router=t,e.use(t)}let Qp=Object.create(null);const Jp=(e,t,r)=>{if(r)return r;if(e&&t&&e.meta.isTabBar&&t.meta.isTabBar){const t=(n=e.meta.tabBarIndex,Qp[n]);if(t)return t}return{left:0,top:0};var n};function Zp(){let{routerBase:e}=__uniConfig.router;"/"===e&&(e="");const t=(r=e,(r=location.host?r||location.pathname+location.search:"").includes("#")||(r+="#"),il(r));var r;return t.listen((e,t,r)=>{"back"===r.direction&&function(e=1){const t=Gf(),r=t.length-1,n=r-e;for(let i=r;i>n;i--){const e=Nf(t[i]);Yf(Jf(e.path,e.id),!1)}}(Math.abs(r.delta))}),t}const eg={install(e){Kp(e),ku(e),ju(e),e.config.warnHandler||(e.config.warnHandler=tg),Xp(e)}};function tg(e,t,r){if(t){if("PageMetaHead"===t.$.type.name)return;const e=t.$.parent;if(e&&"PageMeta"===e.type.name)return}const n=[`[Vue warn]: ${e}`];r.length&&n.push("\n",r),console.warn(...n)}const rg={class:"uni-async-loading"},ng=$o("i",{class:"uni-loading"},null,-1),ig=Vu({name:"AsyncLoading",render:()=>(Oo(),Do("div",rg,[ng]))});function og(){window.location.reload()}const sg=Vu({name:"AsyncError",props:["error"],setup(){uc();const{t:e}=lc();return()=>$o("div",{class:"uni-async-error",onClick:og},[e("uni.async.error")],8,["onClick"])}});let ag;function lg(){return ag}function cg(e){ag=e,Object.defineProperty(ag.$.ctx,"$children",{get:()=>Gf().map(e=>e.$vm)});const t=ag.$.appContext.app;t.component(ig.name)||t.component(ig.name,ig),t.component(sg.name)||t.component(sg.name,sg),function(e){e.$vm=e,e.$mpType="app";const t=$r(lc().getLocale());Object.defineProperty(e,"$locale",{get:()=>t.value,set(e){t.value=e}})}(ag),function(e,t){const r=e.$options||{};r.globalData=m(r.globalData||{},t),Object.defineProperty(e,"globalData",{get:()=>r.globalData,set(e){r.globalData=e}})}(ag),Bu(),mu()}function ug(e,{clone:t,init:r,setup:n,before:i}){t&&(e=m({},e)),i&&i(e);const o=e.setup;return e.setup=(e,t)=>{const i=es();if(r(i.proxy),n(i),o)return o(e,t)},e}function hg(e,t){return e&&(e.__esModule||"Module"===e[Symbol.toStringTag])?ug(e.default,t):ug(e,t)}function fg(e){return hg(e,{clone:!0,init:Qf,setup(e){e.$pageInstance=e;const t=oh(),r=it(t.query);e.attrs.__pageQuery=r,Nf(e.proxy).options=r,e.proxy.options=r;const n=nh();var i,o;return Bf(n),e.onReachBottom=Ar([]),e.onPageScroll=Ar([]),Nn([e.onReachBottom,e.onPageScroll],()=>{const t=nu();e.proxy===t&&ad(e,n)},{once:!0}),wi(()=>{td(e,n)}),Si(()=>{rd(e);const{onReady:r}=e;r&&$(r),yg(t)}),pi(()=>{if(!e.__isVisible){td(e,n),e.__isVisible=!0;const{onShow:r}=e;r&&$(r),cn(()=>{yg(t)})}},"ba",i),function(e,t){pi(e,"bda",t)}(()=>{if(e.__isVisible&&!e.__isUnload){e.__isVisible=!1;{const{onHide:t}=e;t&&$(t)}}}),o=n.id,yy.subscribe(bc(o,gc),xc),Ai(()=>{!function(e){yy.unsubscribe(bc(e,gc)),Object.keys(vc).forEach(t=>{0===t.indexOf(e+".")&&delete vc[t]})}(n.id)}),r}})}function dg(){const{windowWidth:e,windowHeight:t,screenWidth:r,screenHeight:n}=Pg(),i=90===Math.abs(Number(window.orientation))?"landscape":"portrait";my.emit(xe,{deviceOrientation:i,size:{windowWidth:e,windowHeight:t,screenWidth:r,screenHeight:n}})}function pg(e){M(e.data)&&"WEB_INVOKE_APPSERVICE"===e.data.type&&my.emit("onWebInvokeAppService",e.data.data,e.data.pageId)}function gg(){const{emit:e}=my;"visible"===document.visibilityState?e(Be,m({},Cd)):e(Fe)}function yg(e){const{tabBarText:t,tabBarIndex:r,route:n}=e.meta;t&&uu("onTabItemTap",{index:r,text:t,pagePath:n})}const mg="__DC_STAT_UUID",vg=navigator.cookieEnabled&&(window.localStorage||window.sessionStorage)||{};let bg;function _g(){if(bg=bg||vg[mg],!bg){bg=Date.now()+""+Math.floor(1e7*Math.random());try{vg[mg]=bg}catch(e){}}return bg}function xg(){if(!0!==__uniConfig.darkmode)return E(__uniConfig.darkmode)?__uniConfig.darkmode:"light";try{return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}catch(e){return"light"}}function wg(){let e,t="0",r="",n="phone";const i=navigator.language;if(fd){e="iOS";const n=ud.match(/OS\s([\w_]+)\slike/);n&&(t=n[1].replace(/_/g,"."));const i=ud.match(/\(([a-zA-Z]+);/);i&&(r=i[1])}else if(hd){e="Android";const n=ud.match(/Android[\s/]([\w\.]+)[;\s]/);n&&(t=n[1]);const i=ud.match(/\((.+?)\)/),o=i?i[1].split(";"):ud.split(" "),s=[/\bAndroid\b/i,/\bLinux\b/i,/\bU\b/i,/^\s?[a-z][a-z]$/i,/^\s?[a-z][a-z]-[a-z][a-z]$/i,/\bwv\b/i,/\/[\d\.,]+$/,/^\s?[\d\.,]+$/,/\bBrowser\b/i,/\bMobile\b/i];for(let e=0;e<o.length;e++){const t=o[e];if(t.indexOf("Build")>0){r=t.split("Build")[0].trim();break}let n;for(let e=0;e<s.length;e++)if(s[e].test(t)){n=!0;break}if(!n){r=t.trim();break}}}else if(yd){if(r="iPad",e="iOS",n="pad",t=T(window.BigInt)?"14.0":"13.0",14===parseInt(t)){const e=ud.match(/Version\/(\S*)\b/);e&&(t=e[1])}}else if(dd||pd||gd){r="PC",e="PC",n="pc",t="0";let i=ud.match(/\((.+?)\)/)[1];if(dd){switch(e="Windows",dd[1]){case"5.1":t="XP";break;case"6.0":t="Vista";break;case"6.1":t="7";break;case"6.2":t="8";break;case"6.3":t="8.1";break;case"10.0":t="10"}const r=i&&i.match(/[Win|WOW]([\d]+)/);r&&(t+=` x${r[1]}`)}else if(pd){e="macOS";const r=i&&i.match(/Mac OS X (.+)/)||"";t&&(t=r[1].replace(/_/g,"."),-1!==t.indexOf(";")&&(t=t.split(";")[0]))}else if(gd){e="Linux";const r=i&&i.match(/Linux (.*)/)||"";r&&(t=r[1],-1!==t.indexOf(";")&&(t=t.split(";")[0]))}}else e="Other",t="0",n="unknown";const o=`${e} ${t}`,s=e.toLowerCase();let a="",l=String(function(){const e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,r=e.indexOf("Edge")>-1&&!t,n=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);const t=parseFloat(RegExp.$1);return t>6?t:6}return r?-1:n?11:-1}());if("-1"!==l)a="IE";else{const e=["Version","Firefox","Chrome","Edge{0,1}"],t=["Safari","Firefox","Chrome","Edge"];for(let r=0;r<e.length;r++){const n=e[r],i=new RegExp(`(${n})/(\\S*)\\b`);i.test(ud)&&(a=t[r],l=ud.match(i)[2])}}let c="portrait";const u=void 0===window.screen.orientation?window.orientation:window.screen.orientation.angle;return c=90===Math.abs(u)?"landscape":"portrait",{deviceBrand:void 0,brand:void 0,deviceModel:r,deviceOrientation:c,model:r,system:o,platform:s,browserName:a.toLowerCase(),browserVersion:l,language:i,deviceType:n,ua:ud,osname:e,osversion:t,theme:xg()}}const Sg=Bh(0,()=>{const e=window.devicePixelRatio,t=md(),r=vd(t),n=bd(t,r),i=function(e,t){return e?Math[t?"min":"max"](screen.height,screen.width):screen.height}(t,r),o=_d(n);let s=window.innerHeight;const a=$c.top,l={left:$c.left,right:o-$c.right,top:$c.top,bottom:s-$c.bottom,width:o-$c.left-$c.right,height:s-$c.top-$c.bottom},{top:c,bottom:u}=Gc();return s-=c,s-=u,{windowTop:c,windowBottom:u,windowWidth:o,windowHeight:s,pixelRatio:e,screenWidth:n,screenHeight:i,statusBarHeight:a,safeArea:l,safeAreaInsets:{top:$c.top,right:$c.right,bottom:$c.bottom,left:$c.left},screenTop:i-s}});let Tg,Eg=!0;function Ag(){Eg&&(Tg=wg())}const kg=Bh(0,()=>{Ag();const{deviceBrand:e,deviceModel:t,brand:r,model:n,platform:i,system:o,deviceOrientation:s,deviceType:a,osname:l,osversion:c}=Tg;return m({brand:r,deviceBrand:e,deviceModel:t,devicePixelRatio:window.devicePixelRatio,deviceId:_g(),deviceOrientation:s,deviceType:a,model:n,platform:i,system:o,osName:l?l.toLowerCase():void 0,osVersion:c})}),Cg=Bh(0,()=>{Ag();const{theme:e,language:t,browserName:r,browserVersion:n}=Tg;return m({appId:__uniConfig.appId,appName:__uniConfig.appName,appVersion:__uniConfig.appVersion,appVersionCode:__uniConfig.appVersionCode,appLanguage:cf?cf():t,enableDebug:!1,hostSDKVersion:void 0,hostPackageName:void 0,hostFontSizeSetting:void 0,hostName:r,hostVersion:n,hostTheme:e,hostLanguage:t,language:t,SDKVersion:"",theme:e,version:"",uniPlatform:"web",isUniAppX:!1,uniCompileVersion:__uniConfig.compilerVersion,uniCompilerVersion:__uniConfig.compilerVersion,uniRuntimeVersion:__uniConfig.compilerVersion},{})}),Pg=Bh(0,()=>{Eg=!0,Ag(),Eg=!1;const e=Sg(),t=kg(),r=Cg();Eg=!0;const{ua:n,browserName:i,browserVersion:o,osname:s,osversion:a}=Tg,l=m(e,t,r,{ua:n,browserName:i,browserVersion:o,uniPlatform:"web",uniCompileVersion:__uniConfig.compilerVersion,uniRuntimeVersion:__uniConfig.compilerVersion,fontSizeSetting:void 0,osName:s.toLowerCase(),osVersion:a,osLanguage:void 0,osTheme:void 0});return delete l.screenTop,delete l.enableDebug,__uniConfig.darkmode||delete l.theme,function(e){let t={};return M(e)&&Object.keys(e).sort().forEach(r=>{const n=r;t[n]=e[n]}),Object.keys(t)?t:e}(l)});const Og=Bh(0,(e,t)=>{const r=typeof t,n="string"===r?t:JSON.stringify({type:r,data:t});localStorage.setItem(e,n)});function Mg(e){const t=localStorage&&localStorage.getItem(e);if(!E(t))throw new Error("data not found");let r=t;try{const e=function(e){const t=["object","string","number","boolean","undefined"];try{const r=E(e)?JSON.parse(e):e,n=r.type;if(t.indexOf(n)>=0){const e=Object.keys(r);if(2===e.length&&"data"in r){if(typeof r.data===n)return r.data;if("object"===n&&/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}\.\d{3}Z$/.test(r.data))return new Date(r.data)}else if(1===e.length)return""}}catch(r){}}(JSON.parse(t));void 0!==e&&(r=e)}catch(n){}return r}const Ig=Bh(0,e=>{try{return Mg(e)}catch(t){return""}}),Lg={esc:["Esc","Escape"],enter:["Enter"]},Rg=Object.keys(Lg);function Dg(){const e=$r(""),t=$r(!1),r=r=>{if(t.value)return;const n=Rg.find(e=>-1!==Lg[e].indexOf(r.key));n&&(e.value=n),cn(()=>e.value="")};return Si(()=>{document.addEventListener("keyup",r)}),Ai(()=>{document.removeEventListener("keyup",r)}),{key:e,disable:t}}const Bg=[],Fg={open:"",close:"",error:"",message:""};class jg{constructor(e,t,r){let n;this._callbacks={open:[],close:[],error:[],message:[]};try{const r=this._webSocket=new WebSocket(e,t);r.binaryType="arraybuffer";["open","close","error","message"].forEach(e=>{this._callbacks[e]=[],r.addEventListener(e,t=>{const{data:r,code:n,reason:i}=t,o="message"===e?{data:r}:"close"===e?{code:n,reason:i}:{};if(this._callbacks[e].forEach(t=>{try{t(o)}catch(r){console.error(`thirdScriptError\n${r};at socketTask.on${N(e)} callback function\n`,r)}}),this===Bg[0]&&Fg[e]&&my.invokeOnCallback(Fg[e],o),"error"===e||"close"===e){const e=Bg.indexOf(this);e>=0&&Bg.splice(e,1)}})});["CLOSED","CLOSING","CONNECTING","OPEN","readyState"].forEach(e=>{Object.defineProperty(this,e,{get:()=>r[e]})})}catch(i){n=i}r&&r(n,this)}send(e){const t=(e||{}).data,r=this._webSocket;try{if(r.readyState!==r.OPEN)throw ze(e,{errMsg:"sendSocketMessage:fail SocketTask.readyState is not OPEN",errCode:10002}),new Error("SocketTask.readyState is not OPEN");r.send(t),ze(e,"sendSocketMessage:ok")}catch(n){ze(e,{errMsg:`sendSocketMessage:fail ${n}`,errCode:602001})}}close(e={}){const t=this._webSocket;try{const r=e.code||1e3,n=e.reason;E(n)?t.close(r,n):t.close(r),ze(e,"closeSocket:ok")}catch(r){ze(e,`closeSocket:fail ${r}`)}}onOpen(e){this._callbacks.open.push(e)}onMessage(e){this._callbacks.message.push(e)}onError(e){this._callbacks.error.push(e)}onClose(e){this._callbacks.close.push(e)}}const Ng=Dh("connectSocket",({url:e,protocols:t},{resolve:r,reject:n})=>new jg(e,t,(e,t)=>{e?n(e.toString(),{errCode:600009}):(Bg.push(t),r())}),0,hf),Wg=Fh("navigateBack",(e,{resolve:t,reject:r})=>{let n=!0;return!0===uu(we,{from:e.from||"navigateBack"})&&(n=!1),n?(lg().$router.go(-e.delta),t()):r(we)},0,bf),Ug=Fh(df,({url:e,events:t,isAutomatedTesting:r},{resolve:n,reject:i})=>{if(Wf.handledBeforeEntryPageRoutes)return Of({type:df,url:e,events:t,isAutomatedTesting:r}).then(n).catch(i);Uf.push({args:{type:df,url:e,events:t,isAutomatedTesting:r},resolve:n,reject:i})},0,mf);function $g(e){__uniConfig.darkmode&&my.on(pe,e)}function zg(e){let t={};return __uniConfig.darkmode&&(t=mt(e,__uniConfig.themeConfig,xg())),__uniConfig.darkmode?t:e}const Vg={title:{type:String,default:""},icon:{default:"success",validator:e=>-1!==Ef.indexOf(e)},image:{type:String,default:""},duration:{type:Number,default:1500},mask:{type:Boolean,default:!1},visible:{type:Boolean}},Hg="uni-toast__icon",qg={light:"#fff",dark:"rgba(255,255,255,0.9)"},Gg=e=>qg[e],Yg=ni({name:"Toast",props:Vg,setup(e){hc(),fc();const{Icon:t}=function(e){const t=$r(Gg(xg())),r=({theme:e})=>t.value=Gg(e);Fn(()=>{var t;e.visible?$g(r):(t=r,my.off(pe,t))});const n=hs(()=>{switch(e.icon){case"success":return $o(tu(Jc,t.value,38),{class:Hg});case"error":return $o(tu(Zc,t.value,38),{class:Hg});case"loading":return $o("i",{class:[Hg,"uni-loading"]},null,2);default:return null}});return{Icon:n}}(e),r=function(e,{onEsc:t,onEnter:r}){const n=$r(e.visible),{key:i,disable:o}=Dg();return Nn(()=>e.visible,e=>n.value=e),Nn(()=>n.value,e=>o.value=!e),Fn(()=>{const{value:e}=i;"esc"===e?t&&t():"enter"===e&&r&&r()}),n}(e,{});return()=>{const{mask:n,duration:i,title:o,image:s}=e;return $o(_s,{name:"uni-fade"},{default:()=>[Vn($o("uni-toast",{"data-duration":i},[n?$o("div",{class:"uni-mask",style:"background: transparent;",onTouchmove:zc},null,40,["onTouchmove"]):"",s||t.value?$o("div",{class:"uni-toast"},[s?$o("img",{src:s,class:Hg},null,10,["src"]):t.value,$o("p",{class:"uni-toast__content"},[o])]):$o("div",{class:"uni-sample-toast"},[$o("p",{class:"uni-simple-toast__text"},[o])])],8,["data-duration"]),[[Rs,r.value]])]})}}});let Kg,Xg,Qg="";const Jg=xt();function Zg(e){Kg?m(Kg,e):(Kg=Ar(m(e,{visible:!1})),cn(()=>{var e,t,r;Jg.run(()=>{Nn([()=>Kg.visible,()=>Kg.duration],([e,t])=>{if(e){if(Xg&&clearTimeout(Xg),"onShowLoading"===Qg)return;Xg=setTimeout(()=>{ty("onHideToast")},t)}else Xg&&clearTimeout(Xg)})}),my.on("onHidePopup",()=>ty("onHidePopup")),(e=Yg,t=Kg,r=()=>{},t.onClose=(...e)=>(t.visible=!1,r.apply(null,e)),ua(ni({setup:()=>()=>(Oo(),Do(e,t,null,16))}))).mount(function(e){let t=document.getElementById(e);return t||(t=document.createElement("div"),t.id=e,document.body.append(t)),t}("u-a-t"))})),setTimeout(()=>{Kg.visible=!0},10)}const ey=Fh("showToast",(e,{resolve:t,reject:r})=>{Zg(e),Qg="onShowToast",t()},0,Af);function ty(e){const{t:t}=lc();if(!Qg)return;let r="";if("onHideToast"===e&&"onShowToast"!==Qg?r=t("uni.showToast.unpaired"):"onHideLoading"===e&&"onShowLoading"!==Qg&&(r=t("uni.showLoading.unpaired")),r)return console.warn(r);Qg="",setTimeout(()=>{Kg.visible=!1},10)}function ry(e){function t(){var t;t=e.navigationBar.titleText,document.title=t,my.emit("onNavigationBarChange",{titleText:t})}Fn(t),fi(t)}const ny="0px",iy=Vu({name:"Layout",setup(e,{emit:t}){const r=$r(null);Yc({"--status-bar-height":ny,"--top-window-height":ny,"--window-left":ny,"--window-right":ny,"--window-margin":ny,"--tab-bar-height":ny});const n=function(){const e=Hl();return{routeKey:hs(()=>Jf("/"+e.meta.route,sh())),isTabBar:hs(()=>e.meta.isTabBar),routeCache:ed}}(),{layoutState:i,windowState:o}=function(){oh();{const e=Ar({marginWidth:0,leftWindowWidth:0,rightWindowWidth:0});return Nn(()=>e.marginWidth,e=>Yc({"--window-margin":e+"px"})),Nn(()=>e.leftWindowWidth+e.marginWidth,e=>{Yc({"--window-left":e+"px"})}),Nn(()=>e.rightWindowWidth+e.marginWidth,e=>{Yc({"--window-right":e+"px"})}),{layoutState:e,windowState:hs(()=>({}))}}}();!function(e,t){const r=oh();function n(){const n=document.body.clientWidth,i=Gf();let o={};if(i.length>0){o=Nf(i[i.length-1]).meta}else{const e=yu(r.path,!0);e&&(o=e.meta)}const s=parseInt(String((_(o,"maxWidth")?o.maxWidth:__uniConfig.globalStyle.maxWidth)||Number.MAX_SAFE_INTEGER));let a=!1;a=n>s,a&&s?(e.marginWidth=(n-s)/2,cn(()=>{const e=t.value;e&&e.setAttribute("style","max-width:"+s+"px;margin:0 auto;")})):(e.marginWidth=0,cn(()=>{const e=t.value;e&&e.removeAttribute("style")}))}Nn([()=>r.path],n),Si(()=>{n(),window.addEventListener("resize",n)})}(i,r);const s=function(e){const t=$r(!1);return hs(()=>({"uni-app--showtabbar":e,"uni-app--maxwidth":t.value}))}(!1);return()=>{const e=function(e){const t=function({routeKey:e,isTabBar:t,routeCache:r}){return $o(zl,null,{default:Tn(({Component:n})=>[(Oo(),Do(ui,{matchBy:"key",cache:r},[(Oo(),Do(In(n),{type:t.value?"tabBar":"",key:e.value}))],1032,["cache"]))]),_:1})}(e);return t}(n);return $o("uni-app",{ref:r,class:s.value},[e,!1],2)}}});function oy(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Bo(e)}function sy(e){if(e.mode===cy.TIME)return"00:00";if(e.mode===cy.DATE){const t=(new Date).getFullYear()-150;switch(e.fields){case uy.YEAR:return t.toString();case uy.MONTH:return t+"-01";default:return t+"-01-01"}}return""}function ay(e){if(e.mode===cy.TIME)return"23:59";if(e.mode===cy.DATE){const t=(new Date).getFullYear()+150;switch(e.fields){case uy.YEAR:return t.toString();case uy.MONTH:return t+"-12";default:return t+"-12-31"}}return""}function ly(e,t,r,n){const i=e.mode===cy.DATE?"-":":",o=e.mode===cy.DATE?t.dateArray:t.timeArray;let s;if(e.mode===cy.TIME)s=2;else switch(e.fields){case uy.YEAR:s=1;break;case uy.MONTH:s=2;break;default:s=3}const a=String(r).split(i);let l=[];for(let c=0;c<s;c++){const e=a[c];l.push(o[c].indexOf(e))}return l.indexOf(-1)>=0&&(l=n?ly(e,t,n):l.map(()=>0)),l}const cy={SELECTOR:"selector",MULTISELECTOR:"multiSelector",TIME:"time",DATE:"date"},uy={YEAR:"year",MONTH:"month",DAY:"day"},hy={PICKER:"picker",SELECT:"select"},fy=zu({name:"Picker",compatConfig:{MODE:3},props:{name:{type:String,default:""},range:{type:Array,default:()=>[]},rangeKey:{type:String,default:""},value:{type:[Number,String,Array],default:0},mode:{type:String,default:cy.SELECTOR,validator:e=>Object.values(cy).includes(e)},fields:{type:String,default:""},start:{type:String,default:e=>sy(e)},end:{type:String,default:e=>ay(e)},disabled:{type:[Boolean,String],default:!1},selectorType:{type:String,default:""}},emits:["change","cancel","columnchange"],setup(e,{emit:t,slots:r}){dc();const{t:n}=lc(),i=$r(null),o=$r(null),s=$r(null),a=$r(null),l=$r(!1),{state:c,rangeArray:u}=function(e){const t=Ar({valueSync:void 0,visible:!1,contentVisible:!1,popover:null,valueChangeSource:"",timeArray:[],dateArray:[],valueArray:[],oldValueArray:[],isDesktop:!1,popupStyle:{content:{},triangle:{}}}),r=hs(()=>{let r=e.range;switch(e.mode){case cy.SELECTOR:return[r];case cy.MULTISELECTOR:return r;case cy.TIME:return t.timeArray;case cy.DATE:{const r=t.dateArray;switch(e.fields){case uy.YEAR:return[r[0]];case uy.MONTH:return[r[0],r[1]];default:return[r[0],r[1],r[2]]}}}return[]});return{state:t,rangeArray:r}}(e),h=qu(i,t),{system:f,selectorTypeComputed:d,_show:p,_l10nColumn:g,_l10nItem:y,_input:v,_fixInputPosition:b,_pickerViewChange:_,_cancel:w,_change:S,_resetFormData:T,_getFormData:E,_createTime:A,_createDate:k,_setValueSync:C}=function(e,t,r,n,i,o,s){const a=function(){const e=$r(!1);return e.value=dy(),e}(),l=function(){const e=$r("");return e.value=py(),e}(),c=hs(()=>{const t=e.selectorType;return Object.values(hy).includes(t)?t:a.value?hy.PICKER:hy.SELECT}),u=hs(()=>e.mode===cy.DATE&&!Object.values(uy).includes(e.fields)&&t.isDesktop?l.value:""),h=hs(()=>ly(e,t,e.start,sy(e))),f=hs(()=>ly(e,t,e.end,ay(e)));function d(r){if(e.disabled)return;t.valueChangeSource="";let n=i.value,o=r.currentTarget;n.remove(),(document.querySelector("uni-app")||document.body).appendChild(n),n.style.display="block";const s=o.getBoundingClientRect();t.popover={top:s.top,left:s.left,width:s.width,height:s.height},setTimeout(()=>{t.visible=!0},20)}function p(){return{value:t.valueSync,key:e.name}}function g(){switch(e.mode){case cy.SELECTOR:t.valueSync=0;break;case cy.MULTISELECTOR:t.valueSync=e.value.map(e=>0);break;case cy.DATE:case cy.TIME:t.valueSync=""}}function y(){let e=[],r=[];for(let t=0;t<24;t++)e.push((t<10?"0":"")+t);for(let t=0;t<60;t++)r.push((t<10?"0":"")+t);t.timeArray.push(e,r)}function m(){let t=(new Date).getFullYear(),r=t-150,n=t+150;if(e.start){const t=new Date(e.start).getFullYear();!isNaN(t)&&t<r&&(r=t)}if(e.end){const t=new Date(e.end).getFullYear();!isNaN(t)&&t>n&&(n=t)}return{start:r,end:n}}function v(){let e=[];const r=m();for(let t=r.start,o=r.end;t<=o;t++)e.push(String(t));let n=[];for(let t=1;t<=12;t++)n.push((t<10?"0":"")+t);let i=[];for(let t=1;t<=31;t++)i.push((t<10?"0":"")+t);t.dateArray.push(e,n,i)}function b(e){return 60*e[0]+e[1]}function _(e){const t=31;return e[0]*t*12+(e[1]||0)*t+(e[2]||0)}function w(e,t){for(let r=0;r<e.length&&r<t.length;r++)e[r]=t[r]}function S(){let r=e.value;switch(e.mode){case cy.MULTISELECTOR:{x(r)||(r=t.valueArray),x(t.valueSync)||(t.valueSync=[]);const n=t.valueSync.length=Math.max(r.length,e.range.length);for(let i=0;i<n;i++){const n=Number(r[i]),o=Number(t.valueSync[i]),s=isNaN(n)?isNaN(o)?0:o:n,a=e.range[i]?e.range[i].length-1:0;t.valueSync.splice(i,1,s<0||s>a?0:s)}}break;case cy.TIME:case cy.DATE:t.valueSync=String(r);break;default:{const e=Number(r);t.valueSync=e<0?0:e;break}}}function T(){let r,n=t.valueSync;switch(e.mode){case cy.MULTISELECTOR:r=[...n];break;case cy.TIME:r=ly(e,t,n,$e({mode:cy.TIME}));break;case cy.DATE:r=ly(e,t,n,$e({mode:cy.DATE}));break;default:r=[n]}t.oldValueArray=[...r],t.valueArray=[...r]}function E(){let r=t.valueArray;switch(e.mode){case cy.SELECTOR:return r[0];case cy.MULTISELECTOR:return r.map(e=>e);case cy.TIME:return t.valueArray.map((e,r)=>t.timeArray[r][e]).join(":");case cy.DATE:return t.valueArray.map((e,r)=>t.dateArray[r][e]).join("-")}}function A(){C(),t.valueChangeSource="click";const e=E();t.valueSync=x(e)?e.map(e=>e):e,r("change",{},{value:e})}function k(e){if("firefox"===u.value&&e){const{top:r,left:n,width:i,height:o}=t.popover,{pageX:s,pageY:a}=e;if(s>n&&s<n+i&&a>r&&a<r+o)return}C(),r("cancel",{},{})}function C(){t.visible=!1,setTimeout(()=>{let e=i.value;e.remove(),n.value.prepend(e),e.style.display="none"},260)}function P(){e.mode===cy.SELECTOR&&c.value===hy.SELECT&&(o.value.scrollTop=34*t.valueArray[0])}function O(e){const r=e.target;t.valueSync=r.value,cn(()=>{A()})}function M(e){if("chrome"===u.value){const t=n.value.getBoundingClientRect(),r=32;s.value.style.left=e.clientX-t.left-1.5*r+"px",s.value.style.top=e.clientY-t.top-.5*r+"px"}}function I(e){t.valueArray=L(e.detail.value,!0)}function L(t,r){const{getLocale:n}=lc();if(e.mode===cy.DATE){const i=n();if(!i.startsWith("zh"))switch(e.fields){case uy.YEAR:return t;case uy.MONTH:return[t[1],t[0]];default:switch(i){case"es":case"fr":return[t[2],t[1],t[0]];default:return r?[t[2],t[0],t[1]]:[t[1],t[2],t[0]]}}}return t}function R(t,r){const{getLocale:n}=lc();if(e.mode===cy.DATE){const i=n();if(i.startsWith("zh")){return t+["","",""][r]}if(e.fields!==uy.YEAR&&r===(e.fields===uy.MONTH||"es"!==i&&"fr"!==i?0:1)){let e;switch(i){case"es":e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];break;case"fr":e=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"];break;default:e=["January","February","March","April","May","June","July","August","September","October","November","December"]}return e[Number(t)-1]}}return t}return Nn(()=>t.visible,e=>{e?(clearTimeout(gy),t.contentVisible=e,P()):gy=setTimeout(()=>{t.contentVisible=e},300)}),Nn([()=>e.mode,()=>e.value,()=>e.range],S,{deep:!0}),Nn(()=>t.valueSync,T,{deep:!0}),Nn(()=>t.valueArray,n=>{if(e.mode===cy.TIME||e.mode===cy.DATE){const r=e.mode===cy.TIME?b:_,n=t.valueArray,i=h.value,o=f.value;if(e.mode===cy.DATE){const e=t.dateArray,r=e[2].length,i=Number(e[2][n[2]])||1,o=new Date(`${e[0][n[0]]}/${e[1][n[1]]}/${i}`).getDate();o<i&&(n[2]-=o+r-i)}r(n)<r(i)?w(n,i):r(n)>r(o)&&w(n,o)}n.forEach((n,i)=>{n!==t.oldValueArray[i]&&(t.oldValueArray[i]=n,e.mode===cy.MULTISELECTOR&&r("columnchange",{},{column:i,value:n}))})}),{selectorTypeComputed:c,system:u,_show:d,_cancel:k,_change:A,_l10nColumn:L,_l10nItem:R,_input:O,_resetFormData:g,_getFormData:p,_createTime:y,_createDate:v,_setValueSync:S,_fixInputPosition:M,_pickerViewChange:I}}(e,c,h,i,o,s,a);!function(e,t,r){const{key:n,disable:i}=Dg();Fn(()=>{i.value=!e.visible}),Nn(n,e=>{"esc"===e?t():"enter"===e&&r()})}(c,w,S),function(e,t){const r=no(Xu,!1);if(r){const n={reset:e,submit:()=>{const e=["",null],{key:r,value:n}=t();return""!==r&&(e[0]=r,e[1]=n),e}};r.addField(n),Ai(()=>{r.removeField(n)})}}(T,E),A(),k(),C();const P=function(e){const t=$r(0),r=$r(0),n=hs(()=>t.value>=500&&r.value>=500),i=hs(()=>{const t={content:{transform:"",left:"",top:"",bottom:""},triangle:{left:"",top:"",bottom:"","border-width":"","border-color":""}},i=t.content,o=t.triangle,s=e.popover;function a(e){return Number(e)||0}if(n.value&&s){m(o,{position:"absolute",width:"0",height:"0","margin-left":"-6px","border-style":"solid"});const e=a(s.left),t=a(s.width?s.width:300),n=a(s.top),l=a(s.height),c=e+t/2;i.transform="none !important";const u=Math.max(0,c-t/2);i.left=`${u}px`,s.width&&(i.width=`${t}px`);let h=Math.max(12,c-u);h=Math.min(t-12,h),o.left=`${h}px`;const f=r.value/2;n+l-f>f-n?(i.top="auto",i.bottom=r.value-n+6+"px",o.bottom="-6px",o["border-width"]="6px 6px 0 6px",o["border-color"]="#fcfcfd transparent transparent transparent"):(i.top=`${n+l+6}px`,o.top="-6px",o["border-width"]="0 6px 6px 6px",o["border-color"]="transparent transparent #fcfcfd transparent")}return t});return Si(()=>{const e=()=>{const{windowWidth:e,windowHeight:n,windowTop:i}=Pg();t.value=e,r.value=n+(i||0)};window.addEventListener("resize",e),e(),ki(()=>{window.removeEventListener("resize",e)})}),{isDesktop:n,popupStyle:i}}(c);return Fn(()=>{c.isDesktop=P.isDesktop.value,c.popupStyle=P.popupStyle.value}),Ai(()=>{o.value&&o.value.remove()}),Si(()=>{l.value=!0}),()=>{let t;const{visible:h,contentVisible:m,valueArray:x,popupStyle:T,valueSync:E}=c,{rangeKey:A,mode:k,start:C,end:P}=e,O=Ku(e,"disabled");return $o("uni-picker",Ko({ref:i},O,{onClick:Hu(p)}),[l.value?$o("div",{ref:o,class:["uni-picker-container",`uni-${k}-${d.value}`],onWheel:zc,onTouchmove:zc},[$o(_s,{name:"uni-fade"},{default:()=>[Vn($o("div",{class:"uni-mask uni-picker-mask",onClick:Hu(w),onMousemove:b},null,40,["onClick","onMousemove"]),[[Rs,h]])]}),f.value?null:$o("div",{class:[{"uni-picker-toggle":h},"uni-picker-custom"],style:T.content},[$o("div",{class:"uni-picker-header",onClick:Vc},[$o("div",{class:"uni-picker-action uni-picker-action-cancel",onClick:Hu(w)},[n("uni.picker.cancel")],8,["onClick"]),$o("div",{class:"uni-picker-action uni-picker-action-confirm",onClick:S},[n("uni.picker.done")],8,["onClick"])],8,["onClick"]),m?$o(wp,{value:g(x),class:"uni-picker-content",onChange:_},oy(t=Ii(g(u.value),(e,t)=>{let r;return $o(Pp,{key:t},oy(r=Ii(e,(e,r)=>$o("div",{key:r,class:"uni-picker-item"},["object"==typeof e?e[A]||"":y(e,t)])))?r:{default:()=>[r],_:1})}))?t:{default:()=>[t],_:1},8,["value","onChange"]):null,$o("div",{ref:s,class:"uni-picker-select",onWheel:Vc,onTouchmove:Vc},[Ii(u.value[0],(e,t)=>$o("div",{key:t,class:["uni-picker-item",{selected:x[0]===t}],onClick:()=>{x[0]=t,S()}},["object"==typeof e?e[A]||"":e],10,["onClick"]))],40,["onWheel","onTouchmove"]),$o("div",{style:T.triangle},null,4)],6)],40,["onWheel","onTouchmove"]):null,$o("div",null,[r.default&&r.default()]),f.value?$o("div",{class:"uni-picker-system",onMousemove:Hu(b)},[$o("input",{class:["uni-picker-system_input",f.value],ref:a,value:E,type:k,tabindex:"-1",min:C,max:P,onChange:e=>{v(e),Vc(e)}},null,42,["value","type","min","max","onChange"])],40,["onMousemove"]):null],16,["onClick"])}}});const dy=()=>0===String(navigator.vendor).indexOf("Apple")&&navigator.maxTouchPoints>0;const py=()=>{if(/win|mac/i.test(navigator.platform)){if("Google Inc."===navigator.vendor)return"chrome";if(/Firefox/.test(navigator.userAgent))return"firefox"}return""};let gy;const yy=m(wc,{publishHandler(e,t,r){my.subscribeHandler(e,t,r)}}),my=m(Ou,{publishHandler(e,t,r){yy.subscribeHandler(e,t,r)}}),vy=Vu({name:"PageHead",setup(){const e=$r(null),t=nh(),r=function(e,t){const r=Or(e),n=r?Ar(zg(e)):zg(e);return __uniConfig.darkmode&&r&&Nn(e,e=>{const t=zg(e);for(const r in t)n[r]=t[r]}),t&&$g(t),n}(t.navigationBar,()=>{const e=zg(t.navigationBar);r.backgroundColor=e.backgroundColor,r.titleColor=e.titleColor}),{clazz:n,style:i}=function(e){const t=hs(()=>{const{type:t,titlePenetrate:r,shadowColorType:n}=e,i={"uni-page-head":!0,"uni-page-head-transparent":"transparent"===t,"uni-page-head-titlePenetrate":"YES"===r,"uni-page-head-shadow":!!n};return n&&(i[`uni-page-head-shadow-${n}`]=!0),i}),r=hs(()=>({backgroundColor:e.backgroundColor,color:e.titleColor,transitionDuration:e.duration,transitionTimingFunction:e.timingFunc}));return{clazz:t,style:r}}(r);return()=>{const o=function(e,t){if(!t)return $o("div",{class:"uni-page-head-btn",onClick:_y},[tu(eu,"transparent"===e.type?"#fff":e.titleColor,26)],8,["onClick"])}(r,t.isQuit),s=r.type||"default",a="transparent"!==s&&"float"!==s&&$o("div",{class:{"uni-placeholder":!0,"uni-placeholder-titlePenetrate":r.titlePenetrate}},null,2);return $o("uni-page-head",{"uni-page-head-type":s},[$o("div",{ref:e,class:n.value,style:i.value},[$o("div",{class:"uni-page-head-hd"},[o]),by(r),$o("div",{class:"uni-page-head-ft"},[])],6),a],8,["uni-page-head-type"])}}});function by(e,t){return function({type:e,loading:t,titleSize:r,titleText:n,titleImage:i}){return $o("div",{class:"uni-page-head-bd"},[$o("div",{style:{fontSize:r,opacity:"transparent"===e?0:1},class:"uni-page-head__title"},[t?$o("i",{class:"uni-loading"},null):i?$o("img",{src:i,class:"uni-page-head__title_image"},null,8,["src"]):n],4)])}(e)}function _y(){1===qf().length?Pf({url:"/"}):Wg({from:"backbutton",success(){}})}const xy=Vu({name:"PageBody",setup(e,t){const r=!1,n=$r(null),i=$r(null);return Nn(()=>r.enablePullDownRefresh,()=>{i.value=null},{immediate:!0}),()=>$o(To,null,[!1,$o("uni-page-wrapper",Ko({ref:n},i.value),[$o("uni-page-body",null,[Li(t.slots,"default")]),null],16)])}}),wy=Vu({name:"Page",setup(e,t){let r=ih(sh());const n=r.navigationBar,i={};return ry(r),()=>$o("uni-page",{"data-page":r.route,style:i},"custom"!==n.style?[$o(vy),Sy(t),null]:[Sy(t),null])}});function Sy(e){return Oo(),Do(xy,{key:0},{default:Tn(()=>[Li(e.slots,"page")]),_:3})}const Ty={loading:"AsyncLoading",error:"AsyncError",delay:200,timeout:6e4,suspensible:!0};window.uni={},window.wx={},window.rpx2px=qh;const Ey=Object.assign({}),Ay=Object.assign;window.__uniConfig=Ay({globalStyle:{backgroundColor:"#F8F8F8",navigationBar:{backgroundColor:"#F8F8F8",titleText:"",type:"default",titleColor:"#000000"},isNVue:!1},compilerVersion:"4.84"},{appId:"",appName:"",appVersion:"1.0.0",appVersionCode:"100",async:Ty,debug:!1,networkTimeout:{request:6e4,connectSocket:6e4,uploadFile:6e4,downloadFile:6e4},sdkConfigs:{},qqMapKey:void 0,bMapKey:void 0,googleMapKey:void 0,aMapKey:void 0,aMapSecurityJsCode:void 0,aMapServiceHost:void 0,nvue:{"flex-direction":"column"},locale:"",fallbackLocale:"",locales:Object.keys(Ey).reduce((e,t)=>{const r=t.replace(/\.\/locale\/(uni-app.)?(.*).json/,"$2");return Ay(e[r]||(e[r]={}),Ey[t].default),e},{}),router:{mode:"hash",base:"./",assets:"assets",routerBase:"/"},darkmode:!1,themeConfig:{}}),window.__uniLayout=window.__uniLayout||{};const ky={delay:Ty.delay,timeout:Ty.timeout,suspensible:Ty.suspensible};Ty.loading&&(ky.loadingComponent={name:"SystemAsyncLoading",render:()=>$o(On(Ty.loading))}),Ty.error&&(ky.errorComponent={name:"SystemAsyncError",props:["error"],render(){return $o(On(Ty.error),{error:this.error})}});const Cy=()=>c(()=>Promise.resolve().then(()=>Jy),void 0,import.meta.url).then(e=>fg(e.default||e)),Py=oi(Ay({loader:Cy},ky)),Oy=()=>c(()=>Promise.resolve().then(()=>em),void 0,import.meta.url).then(e=>fg(e.default||e)),My=oi(Ay({loader:Oy},ky)),Iy=()=>c(()=>Promise.resolve().then(()=>Cv),void 0,import.meta.url).then(e=>fg(e.default||e)),Ly=oi(Ay({loader:Iy},ky)),Ry=()=>c(()=>Promise.resolve().then(()=>Ov),void 0,import.meta.url).then(e=>fg(e.default||e)),Dy=oi(Ay({loader:Ry},ky)),By=()=>c(()=>Promise.resolve().then(()=>xA),void 0,import.meta.url).then(e=>fg(e.default||e)),Fy=oi(Ay({loader:By},ky)),jy=()=>c(()=>Promise.resolve().then(()=>SA),void 0,import.meta.url).then(e=>fg(e.default||e)),Ny=oi(Ay({loader:jy},ky)),Wy=()=>c(()=>Promise.resolve().then(()=>EA),void 0,import.meta.url).then(e=>fg(e.default||e)),Uy=oi(Ay({loader:Wy},ky)),$y=()=>c(()=>Promise.resolve().then(()=>kA),void 0,import.meta.url).then(e=>fg(e.default||e)),zy=oi(Ay({loader:$y},ky));function Vy(e,t){return Oo(),Do(wy,null,{page:Tn(()=>[$o(e,Ay({},t,{ref:"page"}),null,512)]),_:1})}window.__uniRoutes=[{path:"/",alias:"/pages/login/login",component:{setup(){const e=lg(),t=e&&e.$route&&e.$route.query||{};return()=>Vy(Py,t)}},loader:Cy,meta:{isQuit:!0,isEntry:!0,navigationBar:{titleText:"",type:"default"},isNVue:!1}},{path:"/pages/doctor/patient-list/patient-list",component:{setup(){const e=lg(),t=e&&e.$route&&e.$route.query||{};return()=>Vy(My,t)}},loader:Oy,meta:{navigationBar:{titleText:"",type:"default"},isNVue:!1}},{path:"/pages/doctor/monthly-report/monthly-report",component:{setup(){const e=lg(),t=e&&e.$route&&e.$route.query||{};return()=>Vy(Ly,t)}},loader:Iy,meta:{navigationBar:{titleText:"",type:"default"},isNVue:!1}},{path:"/pages/doctor/daily-detail/daily-detail",component:{setup(){const e=lg(),t=e&&e.$route&&e.$route.query||{};return()=>Vy(Dy,t)}},loader:Ry,meta:{navigationBar:{titleText:"",type:"default"},isNVue:!1}},{path:"/pages/parent/device-home/device-home",component:{setup(){const e=lg(),t=e&&e.$route&&e.$route.query||{};return()=>Vy(Fy,t)}},loader:By,meta:{navigationBar:{titleText:"",type:"default"},isNVue:!1}},{path:"/pages/parent/realtime-monitor/realtime-monitor",component:{setup(){const e=lg(),t=e&&e.$route&&e.$route.query||{};return()=>Vy(Ny,t)}},loader:jy,meta:{navigationBar:{titleText:"",type:"default"},isNVue:!1}},{path:"/pages/parent/daily-chart/daily-chart",component:{setup(){const e=lg(),t=e&&e.$route&&e.$route.query||{};return()=>Vy(Uy,t)}},loader:Wy,meta:{navigationBar:{titleText:"",type:"default"},isNVue:!1}},{path:"/pages/parent/report-setting/report-setting",component:{setup(){const e=lg(),t=e&&e.$route&&e.$route.query||{};return()=>Vy(zy,t)}},loader:$y,meta:{navigationBar:{titleText:"",type:"default"},isNVue:!1}}].map(e=>(e.meta.route=(e.alias||e.path).slice(1),e));const Hy=(e,t=0)=>(t,r=es())=>{!ss&&_i(e,t,r)},qy=Hy(ue,3),Gy=Hy(he,3),Yy=Hy(fe,1),Ky=ni({__name:"App",setup:e=>(Yy(()=>{console.log("App Launch"),Og("role",""),Og("mqttConnected",!1)}),qy(()=>{console.log("App Show"),Og("mqttConnected",!0),console.log("MQTT")}),Gy(()=>{console.log("App Hide"),Og("mqttConnected",!1),console.log("MQTT")}),()=>{})});hg(Ky,{init:cg,setup(e){const t=oh(),r=()=>{var r;r=e,Object.keys(uf).forEach(e=>{uf[e].forEach(t=>{_i(e,t,r)})});const{onLaunch:n,onShow:i,onPageNotFound:o}=e,s=function({path:e,query:t}){return m(kd,{path:e,query:t}),m(Cd,kd),m({},kd)}({path:t.path.slice(1)||__uniRoutes[0].meta.route,query:it(t.query)});if(n&&$(n,s),i&&$(i,s),!t.matched.length){const e={notFound:!0,openType:"appLaunch",path:t.path,query:{},scene:1001};Mf(),o&&$(o,e)}};return no(Il).isReady().then(r),Si(()=>{window.addEventListener("resize",at(dg,50,{setTimeout:setTimeout,clearTimeout:clearTimeout})),window.addEventListener("message",pg),document.addEventListener("visibilitychange",gg),function(){let e=null;try{e=window.matchMedia("(prefers-color-scheme: dark)")}catch(t){}if(e){let t=e=>{my.emit(pe,{theme:e.matches?"dark":"light"})};e.addEventListener?e.addEventListener("change",t):e.addListener(t)}}()}),t.query},before(e){e.mpType="app";const{setup:t}=e,r=()=>(Oo(),Do(iy));e.setup=(e,n)=>{const i=t&&t(e,n);return T(i)?r:i},e.render=r}}),ua(Ky).use(eg).mount("#app");const Xy=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},Qy=Xy(ni({__name:"login",setup(e){const t=()=>{Og("isLoggedIn",!0),Og("userRole","doctor"),Og("username","doctor"),Ug({url:"/pages/doctor/patient-list/patient-list"})},r=()=>{Og("isLoggedIn",!0),Og("userRole","parent"),Og("username","parent"),Ug({url:"/pages/parent/device-home/device-home"})};return(e,n)=>{const i=Bp,o=Fp,s=th;return Oo(),Do(o,{class:"login-container"},{default:Tn(()=>[$o(o,{class:"login-box"},{default:Tn(()=>[$o(o,{class:"logo"},{default:Tn(()=>[$o(i,{class:"logo-text"},{default:Tn(()=>[Vo("")]),_:1})]),_:1}),$o(o,{class:"login-buttons"},{default:Tn(()=>[$o(s,{class:"entry-btn doctor-btn",onClick:t},{default:Tn(()=>[Vo("  ")]),_:1}),$o(s,{class:"entry-btn parent-btn",onClick:r},{default:Tn(()=>[Vo("  ")]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-771daf83"]]),Jy=Object.freeze(Object.defineProperty({__proto__:null,default:Qy},Symbol.toStringTag,{value:"Module"})),Zy=Xy({__name:"patient-list",setup(e){const t=$r(""),r=$r([{name:"",deviceId:"SP-2025001",monthlyRate:"85%"},{name:"",deviceId:"SP-2025002",monthlyRate:"60%"},{name:"",deviceId:"SP-2025003",monthlyRate:"92%"}]),n=hs(()=>t.value?r.value.filter(e=>e.name.toLowerCase().includes(t.value.toLowerCase())):r.value);return(e,r)=>{const i=pp,o=th,s=Fp;return Oo(),Do(s,{class:"patient-list-page"},{default:Tn(()=>[$o(s,{class:"page-header"},{default:Tn(()=>[$o(s,{class:"search-bar"},{default:Tn(()=>[$o(i,{type:"text",placeholder:"",modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),class:"search-input"},null,8,["modelValue"]),$o(o,{class:"search-btn"},{default:Tn(()=>[Vo("")]),_:1})]),_:1})]),_:1}),$o(s,{class:"patient-list"},{default:Tn(()=>[(Oo(!0),Ro(To,null,Ii(n.value,(e,t)=>(Oo(),Do(s,{key:t,class:"patient-item",onClick:t=>(e=>{Og("currentPatient",e),Ug({url:"/pages/doctor/monthly-report/monthly-report"})})(e)},{default:Tn(()=>[$o(s,{class:"patient-info"},{default:Tn(()=>[$o(s,{class:"patient-name"},{default:Tn(()=>[Vo(te(e.name),1)]),_:2},1024),$o(s,{class:"patient-device"},{default:Tn(()=>[Vo("ID: "+te(e.deviceId),1)]),_:2},1024)]),_:2},1024),$o(s,{class:"patient-rate"},{default:Tn(()=>[$o(s,{class:"rate-label"},{default:Tn(()=>[Vo("")]),_:1}),$o(s,{class:"rate-value"},{default:Tn(()=>[Vo(te(e.monthlyRate),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),0===n.value.length?(Oo(),Do(s,{key:0,class:"empty-tip"},{default:Tn(()=>[Vo("  ")]),_:1})):Ho("",!0)]),_:1})}}},[["__scopeId","data-v-c7d7396e"]]),em=Object.freeze(Object.defineProperty({__proto__:null,default:Zy},Symbol.toStringTag,{value:"Module"}));var tm={version:"v2.5.0-20230101",yAxisWidth:15,xAxisHeight:22,padding:[10,10,10,10],rotate:!1,fontSize:13,fontColor:"#666666",dataPointShape:["circle","circle","circle","circle"],color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],linearColor:["#0EE2F8","#2BDCA8","#FA7D8D","#EB88E2","#2AE3A0","#0EE2F8","#EB88E2","#6773E3","#F78A85"],pieChartLinePadding:15,pieChartTextPadding:5,titleFontSize:20,subtitleFontSize:15,radarLabelTextMargin:13},rm=function(e,...t){if(null==e)throw new TypeError("[uCharts] Cannot convert undefined or null to object");if(!t||t.length<=0)return e;function r(e,t){for(let n in t)e[n]=e[n]&&"[object Object]"===e[n].toString()?r(e[n],t[n]):e[n]=t[n];return e}return t.forEach(t=>{e=r(e,t)}),e},nm={toFixed:function(e,t){return t=t||2,this.isFloat(e)&&(e=e.toFixed(t)),e},isFloat:function(e){return e%1!=0},approximatelyEqual:function(e,t){return Math.abs(e-t)<1e-10},isSameSign:function(e,t){return Math.abs(e)===e&&Math.abs(t)===t||Math.abs(e)!==e&&Math.abs(t)!==t},isSameXCoordinateArea:function(e,t){return this.isSameSign(e.x,t.x)},isCollision:function(e,t){return e.end={},e.end.x=e.start.x+e.width,e.end.y=e.start.y-e.height,t.end={},t.end.x=t.start.x+t.width,t.end.y=t.start.y-t.height,!(t.start.x>e.end.x||t.end.x<e.start.x||t.end.y>e.start.y||t.start.y<e.end.y)}};function im(e,t){var r=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,n){return t+t+r+r+n+n}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+","+t+")"}function om(e,t,r){if(isNaN(e))throw new Error("[uCharts] seriesNumber");r=r||10,t=t||"upper";for(var n=1;r<1;)r*=10,n*=10;for(e="upper"===t?Math.ceil(e*n):Math.floor(e*n);e%r!==0;)if("upper"===t){if(e==e+1)break;e++}else e--;return e/n}function sm(e,t,r,n,i){var o=i.width-i.area[1]-i.area[3],s=r.eachSpacing*(i.chartData.xAxisData.xAxisPoints.length-1);"mount"==i.type&&i.extra&&i.extra.mount&&i.extra.mount.widthRatio&&i.extra.mount.widthRatio>1&&(i.extra.mount.widthRatio>2&&(i.extra.mount.widthRatio=2),s+=(i.extra.mount.widthRatio-1)*r.eachSpacing);var a=t;return t>=0?(a=0,e.uevent.trigger("scrollLeft"),e.scrollOption.position="left",i.xAxis.scrollPosition="left"):Math.abs(t)>=s-o?(a=o-s,e.uevent.trigger("scrollRight"),e.scrollOption.position="right",i.xAxis.scrollPosition="right"):(e.scrollOption.position=t,i.xAxis.scrollPosition=t),a}function am(e,t,r){function n(e){for(;e<0;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;return e}return e=n(e),(t=n(t))>(r=n(r))&&(r+=2*Math.PI,e<t&&(e+=2*Math.PI)),e>=t&&e<=r}function lm(e,t){function r(e,t){return!(!e[t-1]||!e[t+1])&&(e[t].y>=Math.max(e[t-1].y,e[t+1].y)||e[t].y<=Math.min(e[t-1].y,e[t+1].y))}function n(e,t){return!(!e[t-1]||!e[t+1])&&(e[t].x>=Math.max(e[t-1].x,e[t+1].x)||e[t].x<=Math.min(e[t-1].x,e[t+1].x))}var i=.2,o=.2,s=null,a=null,l=null,c=null;if(t<1?(s=e[0].x+(e[1].x-e[0].x)*i,a=e[0].y+(e[1].y-e[0].y)*i):(s=e[t].x+(e[t+1].x-e[t-1].x)*i,a=e[t].y+(e[t+1].y-e[t-1].y)*i),t>e.length-3){var u=e.length-1;l=e[u].x-(e[u].x-e[u-1].x)*o,c=e[u].y-(e[u].y-e[u-1].y)*o}else l=e[t+1].x-(e[t+2].x-e[t].x)*o,c=e[t+1].y-(e[t+2].y-e[t].y)*o;return r(e,t+1)&&(c=e[t+1].y),r(e,t)&&(a=e[t].y),n(e,t+1)&&(l=e[t+1].x),n(e,t)&&(s=e[t].x),(a>=Math.max(e[t].y,e[t+1].y)||a<=Math.min(e[t].y,e[t+1].y))&&(a=e[t].y),(c>=Math.max(e[t].y,e[t+1].y)||c<=Math.min(e[t].y,e[t+1].y))&&(c=e[t+1].y),(s>=Math.max(e[t].x,e[t+1].x)||s<=Math.min(e[t].x,e[t+1].x))&&(s=e[t].x),(l>=Math.max(e[t].x,e[t+1].x)||l<=Math.min(e[t].x,e[t+1].x))&&(l=e[t+1].x),{ctrA:{x:s,y:a},ctrB:{x:l,y:c}}}function cm(e,t,r){return{x:r.x+e,y:r.y-t}}function um(e,t){if(t)for(;nm.isCollision(e,t);)e.start.x>0?e.start.y--:e.start.x<0||e.start.y>0?e.start.y++:e.start.y--;return e}function hm(e,t,r){for(var n=0,i=0;i<e.length;i++){let o=e[i];if(o.color||(o.color=r.color[n],n=(n+1)%r.color.length),o.linearIndex||(o.linearIndex=i),o.index||(o.index=0),o.type||(o.type=t.type),void 0===o.show&&(o.show=!0),o.type||(o.type=t.type),o.pointShape||(o.pointShape="circle"),!o.legendShape)switch(o.type){case"line":o.legendShape="line";break;case"column":case"bar":o.legendShape="rect";break;case"area":case"mount":o.legendShape="triangle";break;default:o.legendShape="circle"}}return e}function fm(e,t,r,n){var i=t||[];if("custom"==e&&0==i.length&&(i=n.linearColor),"custom"==e&&i.length<r.length){let e=r.length-i.length;for(var o=0;o<e;o++)i.push(n.linearColor[(o+1)%n.linearColor.length])}return i}function dm(e,t,r){var n=0;if(e=String(e),!1!==r&&void 0!==r&&r.setFontSize&&r.measureText)return r.setFontSize(t),r.measureText(e).width;e=e.split("");for(let i=0;i<e.length;i++){let t=e[i];/[a-zA-Z]/.test(t)?n+=7:/[0-9]/.test(t)?n+=5.5:/\./.test(t)?n+=2.7:/-/.test(t)?n+=3.25:/:/.test(t)?n+=2.5:/[\u4e00-\u9fa5]/.test(t)?n+=10:/\(|\)/.test(t)?n+=3.73:/\s/.test(t)?n+=2.5:/%/.test(t)?n+=8:n+=10}return n*t/10}function pm(e){return e.reduce(function(e,t){return(e.data?e.data:e).concat(t.data)},[])}function gm(e,t){for(var r=new Array(t),n=0;n<r.length;n++)r[n]=0;for(var i=0;i<e.length;i++)for(n=0;n<r.length;n++)r[n]+=e[i].data[n];return e.reduce(function(e,t){return(e.data?e.data:e).concat(t.data).concat(r)},[])}function ym(e,t,r){let n,i;return e.clientX?t.rotate?(i=t.height-e.clientX*t.pix,n=(e.pageY-r.currentTarget.offsetTop-t.height/t.pix/2*(t.pix-1))*t.pix):(n=e.clientX*t.pix,i=(e.pageY-r.currentTarget.offsetTop-t.height/t.pix/2*(t.pix-1))*t.pix):t.rotate?(i=t.height-e.x*t.pix,n=e.y*t.pix):(n=e.x*t.pix,i=e.y*t.pix),{x:n,y:i}}function mm(e,t,r){var n=[],i=[],o=t.constructor.toString().indexOf("Array")>-1;if(o){let t=bm(e);for(var s=0;s<r.length;s++)i.push(t[r[s]])}else i=e;for(let a=0;a<i.length;a++){let e=i[a],r=-1;if(r=o?t[a]:t,null!==e.data[r]&&void 0!==e.data[r]&&e.show){let t={};t.color=e.color,t.type=e.type,t.style=e.style,t.pointShape=e.pointShape,t.disableLegend=e.disableLegend,t.legendShape=e.legendShape,t.name=e.name,t.show=e.show,t.data=e.formatter?e.formatter(e.data[r]):e.data[r],n.push(t)}}return n}function vm(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=t.chartData.calPoints?t.chartData.calPoints:[];let a={};if(n.length>0){let e=[];for(let t=0;t<n.length;t++)e.push(s[n[t]]);a=e[0][r[0]]}else for(let l=0;l<s.length;l++)if(s[l][r]){a=s[l][r];break}return{textList:e.map(function(e){let n=null;return t.categories&&t.categories.length>0&&(n=i[r]),{text:o.formatter?o.formatter(e,n,r,t):e.name+": "+e.data,color:e.color,legendShape:"auto"==t.extra.tooltip.legendShape?e.legendShape:t.extra.tooltip.legendShape}}),offset:{x:Math.round(a.x),y:Math.round(a.y)}}}function bm(e){let t=[];for(let r=0;r<e.length;r++)1==e[r].show&&t.push(e[r]);return t}function _m(e,t,r){return e.x<=t.width-t.area[1]+10&&e.x>=t.area[3]-10&&e.y>=t.area[0]&&e.y<=t.height-t.area[2]}function xm(e,t,r){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(r,2)}function wm(e,t){var r=[],n=[];return e.forEach(function(e,i){t.connectNulls?null!==e&&n.push(e):null!==e?n.push(e):(n.length&&r.push(n),n=[])}),n.length&&r.push(n),r}function Sm(e,t,r,n,i){var o={angle:0,xAxisHeight:t.xAxis.lineHeight*t.pix+t.xAxis.marginTop*t.pix},s=t.xAxis.fontSize*t.pix,a=e.map(function(e,r){var n=t.xAxis.formatter?t.xAxis.formatter(e,r,t):e;return dm(String(n),s,i)}),l=Math.max.apply(this,a);if(1==t.xAxis.rotateLabel){o.angle=t.xAxis.rotateAngle*Math.PI/180;let e=t.xAxis.marginTop*t.pix*2+Math.abs(l*Math.sin(o.angle));e=e<s+t.xAxis.marginTop*t.pix*2?e+t.xAxis.marginTop*t.pix*2:e,o.xAxisHeight=e}return t.enableScroll&&t.xAxis.scrollShow&&(o.xAxisHeight+=6*t.pix),t.xAxis.disabled&&(o.xAxisHeight=0),o}function Tm(e,t,r,n){var i=rm({},{type:""},t.extra.bar),o={angle:0,xAxisHeight:t.xAxis.lineHeight*t.pix+t.xAxis.marginTop*t.pix};o.ranges=function(e,t,r,n){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;i="stack"==n?gm(e,t.categories.length):pm(e);var s=[];(i=i.filter(function(e){return"object"==typeof e&&null!==e?e.constructor.toString().indexOf("Array")>-1?null!==e:null!==e.value:null!==e})).map(function(e){"object"==typeof e?e.constructor.toString().indexOf("Array")>-1?"candle"==t.type?e.map(function(e){s.push(e)}):s.push(e[0]):s.push(e.value):s.push(e)});var a=0,l=0;s.length>0&&(a=Math.min.apply(this,s),l=Math.max.apply(this,s)),o>-1?("number"==typeof t.xAxis.data[o].min&&(a=Math.min(t.xAxis.data[o].min,a)),"number"==typeof t.xAxis.data[o].max&&(l=Math.max(t.xAxis.data[o].max,l))):("number"==typeof t.xAxis.min&&(a=Math.min(t.xAxis.min,a)),"number"==typeof t.xAxis.max&&(l=Math.max(t.xAxis.max,l))),a===l&&(l+=l||10);for(var c=a,u=[],h=(l-c)/t.xAxis.splitNumber,f=0;f<=t.xAxis.splitNumber;f++)u.push(c+h*f);return u}(e,t,r,i.type),o.rangesFormat=o.ranges.map(function(e){return e=nm.toFixed(e,2)});var s=o.ranges.map(function(e){return e=nm.toFixed(e,2)});return(o=Object.assign(o,Pm(s,t))).eachSpacing,s.map(function(e){return dm(e,t.xAxis.fontSize*t.pix,n)}),!0===t.xAxis.disabled&&(o.xAxisHeight=0),o}function Em(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=0,i=0;for(let o=0;o<e.length;o++){let t=e[o];t.data=null===t.data?0:t.data,n+=t.data}for(let o=0;o<e.length;o++){let i=e[o];i.data=null===i.data?0:i.data,i._proportion_=0===n?1/e.length*r:i.data/n*r,i._radius_=t}for(let o=0;o<e.length;o++){let t=e[o];t._start_=i,i+=2*t._proportion_*Math.PI}return e}function Am(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=0,s=0,a=[];for(let h=0;h<e.length;h++){let t=e[h];t.data=null===t.data?0:t.data,o+=t.data,a.push(t.data)}var l=Math.min.apply(null,a),c=Math.max.apply(null,a),u=n-r;for(let h=0;h<e.length;h++){let s=e[h];s.data=null===s.data?0:s.data,0===o?(s._proportion_=1/e.length*i,s._rose_proportion_=1/e.length*i):(s._proportion_=s.data/o*i,s._rose_proportion_="area"==t?1/e.length*i:s.data/o*i),s._radius_=r+u*((s.data-l)/(c-l))||n}for(let h=0;h<e.length;h++){let t=e[h];t._start_=s,s+=2*t._rose_proportion_*Math.PI}return e}function km(e,t,r,n,i,o){return e.map(function(e){if(null===e)return null;var i=0,s=0;return"mix"==o.type?(i=o.extra.mix.column.seriesGap*o.pix||0,s=o.extra.mix.column.categoryGap*o.pix||0):(i=o.extra.column.seriesGap*o.pix||0,s=o.extra.column.categoryGap*o.pix||0),i=Math.min(i,t/r),s=Math.min(s,t/r),e.width=Math.ceil((t-2*s-i*(r-1))/r),o.extra.mix&&o.extra.mix.column.width&&+o.extra.mix.column.width>0&&(e.width=Math.min(e.width,+o.extra.mix.column.width*o.pix)),o.extra.column&&o.extra.column.width&&+o.extra.column.width>0&&(e.width=Math.min(e.width,+o.extra.column.width*o.pix)),e.width<=0&&(e.width=1),e.x+=(n+.5-r/2)*(e.width+i),e})}function Cm(e,t,r,n,i,o){return e.map(function(e){if(null===e)return null;var i=0,s=0;return i=o.extra.bar.seriesGap*o.pix||0,s=o.extra.bar.categoryGap*o.pix||0,i=Math.min(i,t/r),s=Math.min(s,t/r),e.width=Math.ceil((t-2*s-i*(r-1))/r),o.extra.bar&&o.extra.bar.width&&+o.extra.bar.width>0&&(e.width=Math.min(e.width,+o.extra.bar.width*o.pix)),e.width<=0&&(e.width=1),e.y+=(n+.5-r/2)*(e.width+i),e})}function Pm(e,t,r){var n=t.width-t.area[1]-t.area[3],i=t.enableScroll?Math.min(t.xAxis.itemCount,e.length):e.length;("line"==t.type||"area"==t.type||"scatter"==t.type||"bubble"==t.type||"bar"==t.type)&&i>1&&"justify"==t.xAxis.boundaryGap&&(i-=1);var o=0;"mount"==t.type&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),i+=o=t.extra.mount.widthRatio-1);var s=n/i,a=[],l=t.area[3],c=t.width-t.area[1];return e.forEach(function(e,t){a.push(l+o/2*s+t*s)}),"justify"!==t.xAxis.boundaryGap&&(!0===t.enableScroll?a.push(l+o*s+e.length*s):a.push(c)),{xAxisPoints:a,startX:l,endX:c,eachSpacing:s}}function Om(e,t,r,n,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l="center";"line"!=o.type&&"area"!=o.type&&"scatter"!=o.type&&"bubble"!=o.type||(l=o.xAxis.boundaryGap);var c=[],u=o.height-o.area[0]-o.area[2],h=o.width-o.area[1]-o.area[3];return e.forEach(function(e,s){if(null===e)c.push(null);else{var f={};f.color=e.color,f.x=n[s];var d=e;if("object"==typeof e&&null!==e)if(e.constructor.toString().indexOf("Array")>-1){let t,r,n;t=[].concat(o.chartData.xAxisData.ranges),r=t.shift(),n=t.pop(),d=e[1],f.x=o.area[3]+h*(e[0]-r)/(n-r),"bubble"==o.type&&(f.r=e[2],f.t=e[3])}else d=e.value;"center"==l&&(f.x+=i/2);var p=u*(d-t)/(r-t);p*=a,f.y=o.height-p-o.area[2],c.push(f)}}),c}function Mm(e,t,r,n,i,o,s,a,l){l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;var c=[],u=o.height-o.area[0]-o.area[2],h=o.width-o.area[1]-o.area[3];return e.forEach(function(e,s){if(null===e)c.push(null);else{var a={};a.color=e.color,a.x=n[s];var f=e;if("object"==typeof e&&null!==e)if(e.constructor.toString().indexOf("Array")>-1){let t,r,n;t=[].concat(o.chartData.xAxisData.ranges),r=t.shift(),n=t.pop(),f=e[1],a.x=o.area[3]+h*(e[0]-r)/(n-r)}else f=e.value;a.x+=i/2;var d=u*(f*l-t)/(r-t);a.y=o.height-d-o.area[2],c.push(a)}}),c}function Im(e,t,r,n,i,o,s,a){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=[],u=o.height-o.area[0]-o.area[2];o.width,o.area[1],o.area[3];var h=i*s.widthRatio;return e.forEach(function(e,s){if(null===e)c.push(null);else{var a={};a.color=e.color,a.x=n[s],a.x+=i/2;var f=e.data,d=u*(f*l-t)/(r-t);a.y=o.height-d-o.area[2],a.value=f,a.width=h,c.push(a)}}),c}function Lm(e,t,r,n,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=[];o.height,o.area[0],o.area[2];var c=o.width-o.area[1]-o.area[3];return e.forEach(function(e,i){if(null===e)l.push(null);else{var s={};s.color=e.color,s.y=n[i];var u=e;"object"==typeof e&&null!==e&&(u=e.value);var h=c*(u-t)/(r-t);h*=a,s.height=h,s.value=u,s.x=h+o.area[3],l.push(s)}}),l}function Rm(e,t,r,n,i,o,s,a,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,u=[],h=o.height-o.area[0]-o.area[2];return e.forEach(function(e,s){if(null===e)u.push(null);else{var f={};if(f.color=e.color,f.x=n[s]+Math.round(i/2),a>0){var d=0;for(let e=0;e<=a;e++)d+=l[e].data[s];var p=h*(d-t)/(r-t),g=h*(d-e-t)/(r-t)}else{d=e;"object"==typeof e&&null!==e&&(d=e.value);p=h*(d-t)/(r-t),g=0}var y=g;p*=c,y*=c,f.y=o.height-Math.round(p)-o.area[2],f.y0=o.height-Math.round(y)-o.area[2],u.push(f)}}),u}function Dm(e,t,r,n,i,o,s,a,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,u=[],h=o.width-o.area[1]-o.area[3];return e.forEach(function(e,i){if(null===e)u.push(null);else{var s={};if(s.color=e.color,s.y=n[i],a>0){var f=0;for(let e=0;e<=a;e++)f+=l[e].data[i];var d=h*(f-t)/(r-t),p=h*(f-e-t)/(r-t)}else{f=e;"object"==typeof e&&null!==e&&(f=e.value);d=h*(f-t)/(r-t),p=0}var g=p;d*=c,g*=c,s.height=d-g,s.x=o.area[3]+d,s.x0=o.area[3]+g,u.push(s)}}),u}function Bm(e,t,r,n,i){var o;o="stack"==n?gm(e,t.categories.length):pm(e);var s=[];(o=o.filter(function(e){return"object"==typeof e&&null!==e?e.constructor.toString().indexOf("Array")>-1?null!==e:null!==e.value:null!==e})).map(function(e){"object"==typeof e?e.constructor.toString().indexOf("Array")>-1?"candle"==t.type?e.map(function(e){s.push(e)}):s.push(e[1]):s.push(e.value):s.push(e)});var a=i.min||0,l=i.max||0;s.length>0&&(a=Math.min.apply(this,s),l=Math.max.apply(this,s)),a===l&&(0==l?l=10:a=0);for(var c=function(e,t){var r=0,n=t-e;return{minRange:om(e,"lower",r=n>=1e4?1e3:n>=1e3?100:n>=100?10:n>=10?5:n>=1?1:n>=.1?.1:n>=.01?.01:n>=.001?.001:n>=1e-4?1e-4:n>=1e-5?1e-5:1e-6),maxRange:om(t,"upper",r)}}(a,l),u=void 0===i.min||null===i.min?c.minRange:i.min,h=((void 0===i.max||null===i.max?c.maxRange:i.max)-u)/t.yAxis.splitNumber,f=[],d=0;d<=t.yAxis.splitNumber;d++)f.push(u+h*d);return f.reverse()}function Fm(e,t,r,n){var i=rm({},{type:""},t.extra.column),o=t.yAxis.data.length,s=new Array(o);if(o>0){for(let t=0;t<o;t++){s[t]=[];for(let r=0;r<e.length;r++)e[r].index==t&&s[t].push(e[r])}var a=new Array(o),l=new Array(o),c=new Array(o);for(let e=0;e<o;e++){let o=t.yAxis.data[e];1==t.yAxis.disabled&&(o.disabled=!0),"categories"===o.type?(o.formatter||(o.formatter=(e,t,r)=>e+(o.unit||"")),o.categories=o.categories||t.categories,a[e]=o.categories):(o.formatter||(o.formatter=(e,t,r)=>nm.toFixed(e,o.tofix||0)+(o.unit||"")),a[e]=Bm(s[e],t,0,i.type,o));let u=o.fontSize*t.pix||r.fontSize;c[e]={position:o.position?o.position:"left",width:0},l[e]=a[e].map(function(r,i){return r=o.formatter(r,i,t),c[e].width=Math.max(c[e].width,dm(r,u,n)+5),r});let h=o.calibration?4*t.pix:0;c[e].width+=h+3*t.pix,!0===o.disabled&&(c[e].width=0)}}else{a=new Array(1),l=new Array(1),c=new Array(1);"bar"===t.type?(a[0]=t.categories,t.yAxis.formatter||(t.yAxis.formatter=(e,t,r)=>e+(r.yAxis.unit||""))):(t.yAxis.formatter||(t.yAxis.formatter=(e,t,r)=>e.toFixed(r.yAxis.tofix)+(r.yAxis.unit||"")),a[0]=Bm(e,t,0,i.type,{})),c[0]={position:"left",width:0};var u=t.yAxis.fontSize*t.pix||r.fontSize;l[0]=a[0].map(function(e,r){return e=t.yAxis.formatter(e,r,t),c[0].width=Math.max(c[0].width,dm(e,u,n)+5),e}),c[0].width+=3*t.pix,!0===t.yAxis.disabled?(c[0]={position:"left",width:0},t.yAxis.data[0]={disabled:!0}):(t.yAxis.data[0]={disabled:!1,position:"left",max:t.yAxis.max,min:t.yAxis.min,formatter:t.yAxis.formatter},"bar"===t.type&&(t.yAxis.data[0].categories=t.categories,t.yAxis.data[0].type="categories"))}return{rangesFormat:l,ranges:a,yAxisWidth:c}}function jm(e,t){!0!==t.rotateLock?(e.translate(t.height,0),e.rotate(90*Math.PI/180)):!0!==t._rotate_&&(e.translate(t.height,0),e.rotate(90*Math.PI/180),t._rotate_=!0)}function Nm(e,t,r,n,i){if(n.beginPath(),"hollow"==i.dataPointShapeType?(n.setStrokeStyle(t),n.setFillStyle(i.background),n.setLineWidth(2*i.pix)):(n.setStrokeStyle("#ffffff"),n.setFillStyle(t),n.setLineWidth(1*i.pix)),"diamond"===r)e.forEach(function(e,t){null!==e&&(n.moveTo(e.x,e.y-4.5),n.lineTo(e.x-4.5,e.y),n.lineTo(e.x,e.y+4.5),n.lineTo(e.x+4.5,e.y),n.lineTo(e.x,e.y-4.5))});else if("circle"===r)e.forEach(function(e,t){null!==e&&(n.moveTo(e.x+2.5*i.pix,e.y),n.arc(e.x,e.y,3*i.pix,0,2*Math.PI,!1))});else if("square"===r)e.forEach(function(e,t){null!==e&&(n.moveTo(e.x-3.5,e.y-3.5),n.rect(e.x-3.5,e.y-3.5,7,7))});else if("triangle"===r)e.forEach(function(e,t){null!==e&&(n.moveTo(e.x,e.y-4.5),n.lineTo(e.x-4.5,e.y+4.5),n.lineTo(e.x+4.5,e.y+4.5),n.lineTo(e.x,e.y-4.5))});else if("none"===r)return;n.closePath(),n.fill(),n.stroke()}function Wm(e,t,r,n,i,o,s){if(i.tooltip&&!(i.tooltip.group.length>0&&0==i.tooltip.group.includes(s))){var a="number"==typeof i.tooltip.index?i.tooltip.index:i.tooltip.index[i.tooltip.group.indexOf(s)];if(n.beginPath(),"hollow"==o.activeType?(n.setStrokeStyle(t),n.setFillStyle(i.background),n.setLineWidth(2*i.pix)):(n.setStrokeStyle("#ffffff"),n.setFillStyle(t),n.setLineWidth(1*i.pix)),"diamond"===r)e.forEach(function(e,t){null!==e&&a==t&&(n.moveTo(e.x,e.y-4.5),n.lineTo(e.x-4.5,e.y),n.lineTo(e.x,e.y+4.5),n.lineTo(e.x+4.5,e.y),n.lineTo(e.x,e.y-4.5))});else if("circle"===r)e.forEach(function(e,t){null!==e&&a==t&&(n.moveTo(e.x+2.5*i.pix,e.y),n.arc(e.x,e.y,3*i.pix,0,2*Math.PI,!1))});else if("square"===r)e.forEach(function(e,t){null!==e&&a==t&&(n.moveTo(e.x-3.5,e.y-3.5),n.rect(e.x-3.5,e.y-3.5,7,7))});else if("triangle"===r)e.forEach(function(e,t){null!==e&&a==t&&(n.moveTo(e.x,e.y-4.5),n.lineTo(e.x-4.5,e.y+4.5),n.lineTo(e.x+4.5,e.y+4.5),n.lineTo(e.x,e.y-4.5))});else if("none"===r)return;n.closePath(),n.fill(),n.stroke()}}function Um(e,t,r,n){var i=e.title.fontSize||t.titleFontSize,o=e.subtitle.fontSize||t.subtitleFontSize,s=e.title.name||"",a=e.subtitle.name||"",l=e.title.color||e.fontColor,c=e.subtitle.color||e.fontColor,u=s?i:0,h=a?o:0;if(a){var f=dm(a,o*e.pix,r),d=n.x-f/2+(e.subtitle.offsetX||0)*e.pix,p=n.y+o*e.pix/2+(e.subtitle.offsetY||0)*e.pix;s&&(p+=(u*e.pix+5)/2),r.beginPath(),r.setFontSize(o*e.pix),r.setFillStyle(c),r.fillText(a,d,p),r.closePath(),r.stroke()}if(s){var g=dm(s,i*e.pix,r),y=n.x-g/2+(e.title.offsetX||0),m=n.y+i*e.pix/2+(e.title.offsetY||0)*e.pix;a&&(m-=(h*e.pix+5)/2),r.beginPath(),r.setFontSize(i*e.pix),r.setFillStyle(l),r.fillText(s,y,m),r.closePath(),r.stroke()}}function $m(e,t,r,n,i){var o=t.data,s=t.textOffset?t.textOffset:0;e.forEach(function(e,a){if(null!==e){n.beginPath();var l=t.textSize?t.textSize*i.pix:r.fontSize;n.setFontSize(l),n.setFillStyle(t.textColor||i.fontColor);var c=o[a];"object"==typeof o[a]&&null!==o[a]&&(c=o[a].constructor.toString().indexOf("Array")>-1?o[a][1]:o[a].value);var u=t.formatter?t.formatter(c,a,t,i):c;n.setTextAlign("center"),n.fillText(String(u),e.x,e.y-4+s*i.pix),n.closePath(),n.stroke(),n.setTextAlign("left")}})}function zm(e,t,r,n,i){var o=t.data,s=t.textOffset?t.textOffset:0,a=i.extra.column.labelPosition;e.forEach(function(e,l){if(null!==e){n.beginPath();var c=t.textSize?t.textSize*i.pix:r.fontSize;n.setFontSize(c),n.setFillStyle(t.textColor||i.fontColor);var u=o[l];"object"==typeof o[l]&&null!==o[l]&&(u=o[l].constructor.toString().indexOf("Array")>-1?o[l][1]:o[l].value);var h=t.formatter?t.formatter(u,l,t,i):u;n.setTextAlign("center");var f=e.y-4*i.pix+s*i.pix;e.y>t.zeroPoints&&(f=e.y+s*i.pix+c),"insideTop"==a&&(f=e.y+c+s*i.pix,e.y>t.zeroPoints&&(f=e.y-s*i.pix-4*i.pix)),"center"==a&&(f=e.y+s*i.pix+(i.height-i.area[2]-e.y+c)/2,t.zeroPoints<i.height-i.area[2]&&(f=e.y+s*i.pix+(t.zeroPoints-e.y+c)/2),e.y>t.zeroPoints&&(f=e.y-s*i.pix-(e.y-t.zeroPoints-c)/2),"stack"==i.extra.column.type&&(f=e.y+s*i.pix+(e.y0-e.y+c)/2)),"bottom"==a&&(f=i.height-i.area[2]+s*i.pix-4*i.pix,t.zeroPoints<i.height-i.area[2]&&(f=t.zeroPoints+s*i.pix-4*i.pix),e.y>t.zeroPoints&&(f=t.zeroPoints-s*i.pix+c+2*i.pix),"stack"==i.extra.column.type&&(f=e.y0+s*i.pix-4*i.pix)),n.fillText(String(h),e.x,f),n.closePath(),n.stroke(),n.setTextAlign("left")}})}function Vm(e,t,r,n,i){var o=t.data;t.textOffset&&t.textOffset,e.forEach(function(e,s){if(null!==e){n.beginPath();var a=t.textSize?t.textSize*i.pix:r.fontSize;n.setFontSize(a),n.setFillStyle(t.textColor||i.fontColor);var l=o[s];"object"==typeof o[s]&&null!==o[s]&&(l=o[s].value);var c=t.formatter?t.formatter(l,s,t,i):l;n.setTextAlign("left"),n.fillText(String(c),e.x+4*i.pix,e.y+a/2-3),n.closePath(),n.stroke()}})}function Hm(e,t,r,n,i,o){var s=r.pieChartLinePadding,a=[],l=null,c=e.map(function(r,n){var i=r.formatter?r.formatter(r,n,e,t):nm.toFixed(100*r._proportion_.toFixed(4))+"%";i=r.labelText?r.labelText:i;var o=2*Math.PI-(r._start_+2*Math.PI*r._proportion_/2);return r._rose_proportion_&&(o=2*Math.PI-(r._start_+2*Math.PI*r._rose_proportion_/2)),{arc:o,text:i,color:r.color,radius:r._radius_,textColor:r.textColor,textSize:r.textSize,labelShow:r.labelShow}});for(let u=0;u<c.length;u++){let e=c[u],i=Math.cos(e.arc)*(e.radius+s),o=Math.sin(e.arc)*(e.radius+s),h=Math.cos(e.arc)*e.radius,f=Math.sin(e.arc)*e.radius,d=i>=0?i+r.pieChartTextPadding:i-r.pieChartTextPadding,p=o,g=dm(e.text,e.textSize*t.pix||r.fontSize,n),y=p;l&&nm.isSameXCoordinateArea(l.start,{x:d})&&(y=d>0?Math.min(p,l.start.y):i<0||p>0?Math.max(p,l.start.y):Math.min(p,l.start.y)),d<0&&(d-=g),l=um({lineStart:{x:h,y:f},lineEnd:{x:i,y:o},start:{x:d,y:y},width:g,height:r.fontSize,text:e.text,color:e.color,textColor:e.textColor,textSize:e.textSize},l),a.push(l)}for(let u=0;u<a.length;u++){if(!1===c[u].labelShow)continue;let e=a[u],i=cm(e.lineStart.x,e.lineStart.y,o),s=cm(e.lineEnd.x,e.lineEnd.y,o),l=cm(e.start.x,e.start.y,o);n.setLineWidth(1*t.pix),n.setFontSize(e.textSize*t.pix||r.fontSize),n.beginPath(),n.setStrokeStyle(e.color),n.setFillStyle(e.color),n.moveTo(i.x,i.y);let h=e.start.x<0?l.x+e.width:l.x,f=e.start.x<0?l.x-5:l.x+5;n.quadraticCurveTo(s.x,s.y,h,l.y),n.moveTo(i.x,i.y),n.stroke(),n.closePath(),n.beginPath(),n.moveTo(l.x+e.width,l.y),n.arc(h,l.y,2*t.pix,0,2*Math.PI),n.closePath(),n.fill(),n.beginPath(),n.setFontSize(e.textSize*t.pix||r.fontSize),n.setFillStyle(e.textColor||t.fontColor),n.fillText(e.text,f,l.y+3),n.closePath(),n.stroke(),n.closePath()}}function qm(e,t,r){let n=rm({},{type:"solid",dashLength:4,data:[]},e.extra.markLine),i=e.area[3],o=e.width-e.area[1],s=function(e,t){let r,n,i=t.height-t.area[0]-t.area[2];for(let o=0;o<e.length;o++){e[o].yAxisIndex=e[o].yAxisIndex?e[o].yAxisIndex:0;let s=[].concat(t.chartData.yAxisData.ranges[e[o].yAxisIndex]);r=s.pop(),n=s.shift();let a=i*(e[o].value-r)/(n-r);e[o].y=t.height-Math.round(a)-t.area[2]}return e}(n.data,e);for(let a=0;a<s.length;a++){let t=rm({},{lineColor:"#DE4A42",showLabel:!1,labelFontSize:13,labelPadding:6,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,labelAlign:"left",labelOffsetX:0,labelOffsetY:0},s[a]);if("dash"==n.type&&r.setLineDash([n.dashLength,n.dashLength]),r.setStrokeStyle(t.lineColor),r.setLineWidth(1*e.pix),r.beginPath(),r.moveTo(i,t.y),r.lineTo(o,t.y),r.stroke(),r.setLineDash([]),t.showLabel){let n=t.labelFontSize*e.pix,i=t.labelText?t.labelText:t.value;r.setFontSize(n);let o=dm(i,n,r)+t.labelPadding*e.pix*2,s="left"==t.labelAlign?e.area[3]-o:e.width-e.area[1];s+=t.labelOffsetX;let a=t.y-.5*n-t.labelPadding*e.pix;a+=t.labelOffsetY;let l=s+t.labelPadding*e.pix;t.y,r.setFillStyle(im(t.labelBgColor,t.labelBgOpacity)),r.setStrokeStyle(t.labelBgColor),r.setLineWidth(1*e.pix),r.beginPath(),r.rect(s,a,o,n+2*t.labelPadding*e.pix),r.closePath(),r.stroke(),r.fill(),r.setFontSize(n),r.setTextAlign("left"),r.setFillStyle(t.labelFontColor),r.fillText(String(i),l,a+n+t.labelPadding*e.pix/2),r.stroke(),r.setTextAlign("left")}}}function Gm(e,t,r,n,i){var o=rm({},{gridType:"solid",dashLength:4},e.extra.tooltip),s=e.area[3],a=e.width-e.area[1];if("dash"==o.gridType&&r.setLineDash([o.dashLength,o.dashLength]),r.setStrokeStyle(o.gridColor||"#cccccc"),r.setLineWidth(1*e.pix),r.beginPath(),r.moveTo(s,e.tooltip.offset.y),r.lineTo(a,e.tooltip.offset.y),r.stroke(),r.setLineDash([]),o.yAxisLabel){let n=o.boxPadding*e.pix,i=function(e,t,r){let n=[].concat(r.chartData.yAxisData.ranges),i=r.height-r.area[0]-r.area[2],o=r.area[0],s=[];for(let a=0;a<n.length;a++){let t=Math.max.apply(this,n[a]),l=t-(t-Math.min.apply(this,n[a]))*(e-o)/i;l=r.yAxis.data&&r.yAxis.data[a].formatter?r.yAxis.data[a].formatter(l,a,r):l.toFixed(0),s.push(String(l))}return s}(e.tooltip.offset.y,e.series,e),s=e.chartData.yAxisData.yAxisWidth,a=e.area[3],l=e.width-e.area[1];for(let c=0;c<i.length;c++){r.setFontSize(o.fontSize*e.pix);let u,h,f,d=dm(i[c],o.fontSize*e.pix,r);"left"==s[c].position?(u=a-(d+2*n)-2*e.pix,h=Math.max(u,u+d+2*n)):(u=l+2*e.pix,h=Math.max(u+s[c].width,u+d+2*n)),f=h-u;let p=u+(f-d)/2,g=e.tooltip.offset.y;r.beginPath(),r.setFillStyle(im(o.labelBgColor||t.toolTipBackground,o.labelBgOpacity||t.toolTipOpacity)),r.setStrokeStyle(o.labelBgColor||t.toolTipBackground),r.setLineWidth(1*e.pix),r.rect(u,g-.5*t.fontSize-n,f,t.fontSize+2*n),r.closePath(),r.stroke(),r.fill(),r.beginPath(),r.setFontSize(t.fontSize),r.setFillStyle(o.labelFontColor||e.fontColor),r.fillText(i[c],p,g+.5*t.fontSize),r.closePath(),r.stroke(),"left"==s[c].position?a-=s[c].width+e.yAxis.padding*e.pix:l+=s[c].width+e.yAxis.padding*e.pix}}}function Ym(e,t,r,n,i,o,s){var a=rm({},{showBox:!0,showArrow:!0,showCategory:!1,bgColor:"#000000",bgOpacity:.7,borderColor:"#000000",borderWidth:0,borderRadius:0,borderOpacity:.7,boxPadding:3,fontColor:"#FFFFFF",fontSize:13,lineHeight:20,legendShow:!0,legendShape:"auto",splitLine:!0},r.extra.tooltip);1==a.showCategory&&r.categories&&e.unshift({text:r.categories[r.tooltip.index],color:null});var l=a.fontSize*r.pix,c=a.lineHeight*r.pix,u=a.boxPadding*r.pix,h=l,f=5*r.pix;0==a.legendShow&&(h=0,f=0);var d=a.showArrow?8*r.pix:0,p=!1;"line"!=r.type&&"mount"!=r.type&&"area"!=r.type&&"candle"!=r.type&&"mix"!=r.type||1==a.splitLine&&function(e,t,r,n){var i=t.extra.tooltip||{};i.gridType=null==i.gridType?"solid":i.gridType,i.dashLength=null==i.dashLength?4:i.dashLength;var o=t.area[0],s=t.height-t.area[2];if("dash"==i.gridType&&n.setLineDash([i.dashLength,i.dashLength]),n.setStrokeStyle(i.gridColor||"#cccccc"),n.setLineWidth(1*t.pix),n.beginPath(),n.moveTo(e,o),n.lineTo(e,s),n.stroke(),n.setLineDash([]),i.xAxisLabel){let o=t.categories[t.tooltip.index];n.setFontSize(r.fontSize);let a=dm(o,r.fontSize,n),l=e-.5*a,c=s+2*t.pix;n.beginPath(),n.setFillStyle(im(i.labelBgColor||r.toolTipBackground,i.labelBgOpacity||r.toolTipOpacity)),n.setStrokeStyle(i.labelBgColor||r.toolTipBackground),n.setLineWidth(1*t.pix),n.rect(l-i.boxPadding*t.pix,c,a+2*i.boxPadding*t.pix,r.fontSize+2*i.boxPadding*t.pix),n.closePath(),n.stroke(),n.fill(),n.beginPath(),n.setFontSize(r.fontSize),n.setFillStyle(i.labelFontColor||t.fontColor),n.fillText(String(o),l,c+i.boxPadding*t.pix+r.fontSize),n.closePath(),n.stroke()}}(r.tooltip.offset.x,r,n,i),(t=rm({x:0,y:0},t)).y-=8*r.pix;var g=e.map(function(e){return dm(e.text,l,i)}),y=h+f+4*u+Math.max.apply(null,g),m=2*u+e.length*c;if(0!=a.showBox){t.x-Math.abs(r._scrollDistance_||0)+d+y>r.width&&(p=!0),m+t.y>r.height&&(t.y=r.height-m),i.beginPath(),i.setFillStyle(im(a.bgColor,a.bgOpacity)),i.setLineWidth(a.borderWidth*r.pix),i.setStrokeStyle(im(a.borderColor,a.borderOpacity));var v=a.borderRadius;p?(y+d>r.width&&(t.x=r.width+Math.abs(r._scrollDistance_||0)+d+(y-r.width)),y>t.x&&(t.x=r.width+Math.abs(r._scrollDistance_||0)+d+(y-r.width)),a.showArrow&&(i.moveTo(t.x,t.y+10*r.pix),i.lineTo(t.x-d,t.y+10*r.pix+5*r.pix)),i.arc(t.x-d-v,t.y+m-v,v,0,Math.PI/2,!1),i.arc(t.x-d-Math.round(y)+v,t.y+m-v,v,Math.PI/2,Math.PI,!1),i.arc(t.x-d-Math.round(y)+v,t.y+v,v,-Math.PI,-Math.PI/2,!1),i.arc(t.x-d-v,t.y+v,v,-Math.PI/2,0,!1),a.showArrow&&(i.lineTo(t.x-d,t.y+10*r.pix-5*r.pix),i.lineTo(t.x,t.y+10*r.pix))):(a.showArrow&&(i.moveTo(t.x,t.y+10*r.pix),i.lineTo(t.x+d,t.y+10*r.pix-5*r.pix)),i.arc(t.x+d+v,t.y+v,v,-Math.PI,-Math.PI/2,!1),i.arc(t.x+d+Math.round(y)-v,t.y+v,v,-Math.PI/2,0,!1),i.arc(t.x+d+Math.round(y)-v,t.y+m-v,v,0,Math.PI/2,!1),i.arc(t.x+d+v,t.y+m-v,v,Math.PI/2,Math.PI,!1),a.showArrow&&(i.lineTo(t.x+d,t.y+10*r.pix+5*r.pix),i.lineTo(t.x,t.y+10*r.pix))),i.closePath(),i.fill(),a.borderWidth>0&&i.stroke(),a.legendShow&&e.forEach(function(e,n){if(null!==e.color){i.beginPath(),i.setFillStyle(e.color);var o=t.x+d+2*u,s=t.y+(c-l)/2+c*n+u+1;switch(p&&(o=t.x-y-d+2*u),e.legendShape){case"line":i.moveTo(o,s+.5*h-2*r.pix),i.fillRect(o,s+.5*h-2*r.pix,h,4*r.pix);break;case"triangle":i.moveTo(o+7.5*r.pix,s+.5*h-5*r.pix),i.lineTo(o+2.5*r.pix,s+.5*h+5*r.pix),i.lineTo(o+12.5*r.pix,s+.5*h+5*r.pix),i.lineTo(o+7.5*r.pix,s+.5*h-5*r.pix);break;case"diamond":i.moveTo(o+7.5*r.pix,s+.5*h-5*r.pix),i.lineTo(o+2.5*r.pix,s+.5*h),i.lineTo(o+7.5*r.pix,s+.5*h+5*r.pix),i.lineTo(o+12.5*r.pix,s+.5*h),i.lineTo(o+7.5*r.pix,s+.5*h-5*r.pix);break;case"circle":i.moveTo(o+7.5*r.pix,s+.5*h),i.arc(o+7.5*r.pix,s+.5*h,5*r.pix,0,2*Math.PI);break;case"rect":default:i.moveTo(o,s+.5*h-5*r.pix),i.fillRect(o,s+.5*h-5*r.pix,15*r.pix,10*r.pix);break;case"square":i.moveTo(o+2*r.pix,s+.5*h-5*r.pix),i.fillRect(o+2*r.pix,s+.5*h-5*r.pix,10*r.pix,10*r.pix)}i.closePath(),i.fill()}}),e.forEach(function(e,r){var n=t.x+d+2*u+h+f;p&&(n=t.x-y-d+2*u+h+f);var o=t.y+c*r+(c-l)/2-1+u+l;i.beginPath(),i.setFontSize(l),i.setTextBaseline("normal"),i.setFillStyle(a.fontColor),i.fillText(e.text,n,o),i.closePath(),i.stroke()})}}function Km(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=t.chartData.xAxisData,s=o.xAxisPoints,a=o.eachSpacing,l=rm({},{type:"group",width:a/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0,labelPosition:"outside"},t.extra.column),c=[];n.save();let u=-2,h=s.length+2;return t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(n.translate(t._scrollDistance_,0),u=Math.floor(-t._scrollDistance_/a)-2,h=u+t.xAxis.itemCount+4),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&1===i&&function(e,t,r,n,i){var o=rm({},{activeBgColor:"#000000",activeBgOpacity:.08,activeWidth:i},t.extra.column);o.activeWidth=o.activeWidth>i?i:o.activeWidth;var s=t.area[0],a=t.height-t.area[2];n.beginPath(),n.setFillStyle(im(o.activeBgColor,o.activeBgOpacity)),n.rect(e-o.activeWidth/2,s,o.activeWidth,a-s),n.closePath(),n.fill(),n.setFillStyle("#FFFFFF")}(t.tooltip.offset.x,t,0,n,a),l.customColor=fm(l.linearType,l.customColor,e,r),e.forEach(function(o,f){let d,p,g;d=[].concat(t.chartData.yAxisData.ranges[o.index]),p=d.pop(),g=d.shift();let y=(t.height-t.area[0]-t.area[2])*(0-p)/(g-p),m=t.height-Math.round(y)-t.area[2];o.zeroPoints=m;var v=o.data;switch(l.type){case"group":var b=Mm(v,p,g,s,a,t,r,m,i),_=Rm(v,p,g,s,a,t,r,f,e,i);c.push(_),b=km(b,a,e.length,f,0,t);for(let e=0;e<b.length;e++){let r=b[e];if(null!==r&&e>u&&e<h){var x=r.x-r.width/2,w=t.height-r.y-t.area[2];n.beginPath();var S=r.color||o.color,T=r.color||o.color;if("none"!==l.linearType){var E=n.createLinearGradient(x,r.y,x,m);"opacity"==l.linearType?(E.addColorStop(0,im(S,l.linearOpacity)),E.addColorStop(1,im(S,1))):(E.addColorStop(0,im(l.customColor[o.linearIndex],l.linearOpacity)),E.addColorStop(l.colorStop,im(l.customColor[o.linearIndex],l.linearOpacity)),E.addColorStop(1,im(S,1))),S=E}if(l.barBorderRadius&&4===l.barBorderRadius.length||!0===l.barBorderCircle){const e=x,t=r.y>m?m:r.y,i=r.width,o=Math.abs(m-r.y);l.barBorderCircle&&(l.barBorderRadius=[i/2,i/2,0,0]),r.y>m&&(l.barBorderRadius=[0,0,i/2,i/2]);let[s,a,c,u]=l.barBorderRadius,h=Math.min(i/2,o/2);s=s>h?h:s,a=a>h?h:a,c=c>h?h:c,u=u>h?h:u,s=s<0?0:s,a=a<0?0:a,c=c<0?0:c,u=u<0?0:u,n.arc(e+s,t+s,s,-Math.PI,-Math.PI/2),n.arc(e+i-a,t+a,a,-Math.PI/2,0),n.arc(e+i-c,t+o-c,c,0,Math.PI/2),n.arc(e+u,t+o-u,u,Math.PI/2,Math.PI)}else n.moveTo(x,r.y),n.lineTo(x+r.width,r.y),n.lineTo(x+r.width,m),n.lineTo(x,m),n.lineTo(x,r.y),n.setLineWidth(1),n.setStrokeStyle(T);n.setFillStyle(S),n.closePath(),n.fill()}}break;case"stack":b=Rm(v,p,g,s,a,t,r,f,e,i);c.push(b),b=function(e,t,r,n,i,o){var s=o.extra.column.categoryGap*o.pix||0;return e.map(function(e,r){return null===e?null:(e.width=Math.ceil(t-2*s),o.extra.column&&o.extra.column.width&&+o.extra.column.width>0&&(e.width=Math.min(e.width,+o.extra.column.width*o.pix)),e.width<=0&&(e.width=1),e)})}(b,a,e.length,0,0,t);for(let e=0;e<b.length;e++){let r=b[e];if(null!==r&&e>u&&e<h){n.beginPath();S=r.color||o.color,x=r.x-r.width/2+1,w=t.height-r.y-t.area[2];var A=t.height-r.y0-t.area[2];f>0&&(w-=A),n.setFillStyle(S),n.moveTo(x,r.y),n.fillRect(x,r.y,r.width,w),n.closePath(),n.fill()}}break;case"meter":b=Om(v,p,g,s,a,t,r,i);c.push(b),b=function(e,t,r,n,i,o,s){var a=o.extra.column.categoryGap*o.pix||0;return e.map(function(e){return null===e?null:(e.width=t-2*a,o.extra.column&&o.extra.column.width&&+o.extra.column.width>0&&(e.width=Math.min(e.width,+o.extra.column.width*o.pix)),n>0&&(e.width-=s),e)})}(b,a,e.length,f,0,t,l.meterBorder);for(let e=0;e<b.length;e++){let r=b[e];if(null!==r&&e>u&&e<h){n.beginPath(),0==f&&l.meterBorder>0&&(n.setStrokeStyle(o.color),n.setLineWidth(l.meterBorder*t.pix)),0==f?n.setFillStyle(l.meterFillColor):n.setFillStyle(r.color||o.color);x=r.x-r.width/2,w=t.height-r.y-t.area[2];if(l.barBorderRadius&&4===l.barBorderRadius.length||!0===l.barBorderCircle){const e=x,t=r.y,i=r.width,o=m-r.y;l.barBorderCircle&&(l.barBorderRadius=[i/2,i/2,0,0]);let[s,a,c,u]=l.barBorderRadius,h=Math.min(i/2,o/2);s=s>h?h:s,a=a>h?h:a,c=c>h?h:c,u=u>h?h:u,s=s<0?0:s,a=a<0?0:a,c=c<0?0:c,u=u<0?0:u,n.arc(e+s,t+s,s,-Math.PI,-Math.PI/2),n.arc(e+i-a,t+a,a,-Math.PI/2,0),n.arc(e+i-c,t+o-c,c,0,Math.PI/2),n.arc(e+u,t+o-u,u,Math.PI/2,Math.PI),n.fill()}else n.moveTo(x,r.y),n.lineTo(x+r.width,r.y),n.lineTo(x+r.width,m),n.lineTo(x,m),n.lineTo(x,r.y),n.fill();0==f&&l.meterBorder>0&&(n.closePath(),n.stroke())}}}}),!1!==t.dataLabel&&1===i&&e.forEach(function(o,c){let u,h,f;u=[].concat(t.chartData.yAxisData.ranges[o.index]),h=u.pop(),f=u.shift();var d=o.data;switch(l.type){case"group":zm(km(Mm(d,h,f,s,a,t,r,i),a,e.length,c,0,t),o,r,n,t);break;case"stack":zm(Rm(d,h,f,s,a,t,r,c,e,i),o,r,n,t);break;case"meter":zm(Om(d,h,f,s,a,t,r,i),o,r,n,t)}}),n.restore(),{xAxisPoints:s,calPoints:c,eachSpacing:a}}function Xm(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=t.chartData.xAxisData,s=o.xAxisPoints,a=o.eachSpacing,l=rm({},{type:"mount",widthRatio:1,borderWidth:1,barBorderCircle:!1,barBorderRadius:[],linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.mount);l.widthRatio=l.widthRatio<=0?0:l.widthRatio,l.widthRatio=l.widthRatio>=2?2:l.widthRatio,n.save();let c,u,h,f=-2,d=s.length+2;t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(n.translate(t._scrollDistance_,0),f=Math.floor(-t._scrollDistance_/a)-2,d=f+t.xAxis.itemCount+4),l.customColor=fm(l.linearType,l.customColor,e,r),c=[].concat(t.chartData.yAxisData.ranges[0]),u=c.pop(),h=c.shift();let p=(t.height-t.area[0]-t.area[2])*(0-u)/(h-u),g=t.height-Math.round(p)-t.area[2];var y=Im(e,u,h,s,a,t,l,g,i);switch(l.type){case"bar":for(let r=0;r<y.length;r++){let i=y[r];if(null!==i&&r>f&&r<d){var m=i.x-a*l.widthRatio/2,v=t.height-i.y-t.area[2];n.beginPath();var b=i.color||e[r].color,_=i.color||e[r].color;if("none"!==l.linearType){var x=n.createLinearGradient(m,i.y,m,g);"opacity"==l.linearType?(x.addColorStop(0,im(b,l.linearOpacity)),x.addColorStop(1,im(b,1))):(x.addColorStop(0,im(l.customColor[e[r].linearIndex],l.linearOpacity)),x.addColorStop(l.colorStop,im(l.customColor[e[r].linearIndex],l.linearOpacity)),x.addColorStop(1,im(b,1))),b=x}if(l.barBorderRadius&&4===l.barBorderRadius.length||!0===l.barBorderCircle){const e=m,t=i.y>g?g:i.y,r=i.width,o=Math.abs(g-i.y);l.barBorderCircle&&(l.barBorderRadius=[r/2,r/2,0,0]),i.y>g&&(l.barBorderRadius=[0,0,r/2,r/2]);let[s,a,c,u]=l.barBorderRadius,h=Math.min(r/2,o/2);s=s>h?h:s,a=a>h?h:a,c=c>h?h:c,u=u>h?h:u,s=s<0?0:s,a=a<0?0:a,c=c<0?0:c,u=u<0?0:u,n.arc(e+s,t+s,s,-Math.PI,-Math.PI/2),n.arc(e+r-a,t+a,a,-Math.PI/2,0),n.arc(e+r-c,t+o-c,c,0,Math.PI/2),n.arc(e+u,t+o-u,u,Math.PI/2,Math.PI)}else n.moveTo(m,i.y),n.lineTo(m+i.width,i.y),n.lineTo(m+i.width,g),n.lineTo(m,g),n.lineTo(m,i.y);n.setStrokeStyle(_),n.setFillStyle(b),l.borderWidth>0&&(n.setLineWidth(l.borderWidth*t.pix),n.closePath(),n.stroke()),n.fill()}}break;case"triangle":for(let r=0;r<y.length;r++){let i=y[r];if(null!==i&&r>f&&r<d){m=i.x-a*l.widthRatio/2,v=t.height-i.y-t.area[2];n.beginPath();b=i.color||e[r].color,_=i.color||e[r].color;if("none"!==l.linearType){x=n.createLinearGradient(m,i.y,m,g);"opacity"==l.linearType?(x.addColorStop(0,im(b,l.linearOpacity)),x.addColorStop(1,im(b,1))):(x.addColorStop(0,im(l.customColor[e[r].linearIndex],l.linearOpacity)),x.addColorStop(l.colorStop,im(l.customColor[e[r].linearIndex],l.linearOpacity)),x.addColorStop(1,im(b,1))),b=x}n.moveTo(m,g),n.lineTo(i.x,i.y),n.lineTo(m+i.width,g),n.setStrokeStyle(_),n.setFillStyle(b),l.borderWidth>0&&(n.setLineWidth(l.borderWidth*t.pix),n.stroke()),n.fill()}}break;case"mount":for(let r=0;r<y.length;r++){let i=y[r];if(null!==i&&r>f&&r<d){m=i.x-a*l.widthRatio/2,v=t.height-i.y-t.area[2];n.beginPath();b=i.color||e[r].color,_=i.color||e[r].color;if("none"!==l.linearType){x=n.createLinearGradient(m,i.y,m,g);"opacity"==l.linearType?(x.addColorStop(0,im(b,l.linearOpacity)),x.addColorStop(1,im(b,1))):(x.addColorStop(0,im(l.customColor[e[r].linearIndex],l.linearOpacity)),x.addColorStop(l.colorStop,im(l.customColor[e[r].linearIndex],l.linearOpacity)),x.addColorStop(1,im(b,1))),b=x}n.moveTo(m,g),n.bezierCurveTo(i.x-i.width/4,g,i.x-i.width/4,i.y,i.x,i.y),n.bezierCurveTo(i.x+i.width/4,i.y,i.x+i.width/4,g,m+i.width,g),n.setStrokeStyle(_),n.setFillStyle(b),l.borderWidth>0&&(n.setLineWidth(l.borderWidth*t.pix),n.stroke()),n.fill()}}break;case"sharp":for(let r=0;r<y.length;r++){let i=y[r];if(null!==i&&r>f&&r<d){m=i.x-a*l.widthRatio/2,v=t.height-i.y-t.area[2];n.beginPath();b=i.color||e[r].color,_=i.color||e[r].color;if("none"!==l.linearType){x=n.createLinearGradient(m,i.y,m,g);"opacity"==l.linearType?(x.addColorStop(0,im(b,l.linearOpacity)),x.addColorStop(1,im(b,1))):(x.addColorStop(0,im(l.customColor[e[r].linearIndex],l.linearOpacity)),x.addColorStop(l.colorStop,im(l.customColor[e[r].linearIndex],l.linearOpacity)),x.addColorStop(1,im(b,1))),b=x}n.moveTo(m,g),n.quadraticCurveTo(i.x-0,g-v/4,i.x,i.y),n.quadraticCurveTo(i.x+0,g-v/4,m+i.width,g),n.setStrokeStyle(_),n.setFillStyle(b),l.borderWidth>0&&(n.setLineWidth(l.borderWidth*t.pix),n.stroke()),n.fill()}}}if(!1!==t.dataLabel&&1===i){let o,c,u;o=[].concat(t.chartData.yAxisData.ranges[0]),c=o.pop(),u=o.shift(),function(e,t,r,n,i,o){t.data;var s=t.textOffset?t.textOffset:0;i.extra.mount.labelPosition,e.forEach(function(e,a){if(null!==e){n.beginPath();var l=t[a].textSize?t[a].textSize*i.pix:r.fontSize;n.setFontSize(l),n.setFillStyle(t[a].textColor||i.fontColor);var c=e.value,u=t[a].formatter?t[a].formatter(c,a,t,i):c;n.setTextAlign("center");var h=e.y-4*i.pix+s*i.pix;e.y>o&&(h=e.y+s*i.pix+l),n.fillText(String(u),e.x,h),n.closePath(),n.stroke(),n.setTextAlign("left")}})}(y=Im(e,c,u,s,a,t,l,g,i),e,r,n,t,g)}return n.restore(),{xAxisPoints:s,calPoints:y,eachSpacing:a}}function Qm(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=[],s=(t.height-t.area[0]-t.area[2])/t.categories.length;for(let u=0;u<t.categories.length;u++)o.push(t.area[0]+s/2+s*u);let a=rm({},{type:"group",width:s/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.bar),l=[];n.save();let c=o.length+2;return t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&1===i&&function(e,t,r,n,i){var o=rm({},{activeBgColor:"#000000",activeBgOpacity:.08},t.extra.bar),s=t.area[3],a=t.width-t.area[1];n.beginPath(),n.setFillStyle(im(o.activeBgColor,o.activeBgOpacity)),n.rect(s,e-i/2,a-s,i),n.closePath(),n.fill(),n.setFillStyle("#FFFFFF")}(t.tooltip.offset.y,t,0,n,s),a.customColor=fm(a.linearType,a.customColor,e,r),e.forEach(function(u,h){let f,d,p;f=[].concat(t.chartData.xAxisData.ranges),p=f.pop(),d=f.shift();var g=u.data;switch(a.type){case"group":var y=Lm(g,d,p,o,s,t,r,i),m=Dm(g,d,p,o,s,t,r,h,e,i);l.push(m),y=Cm(y,s,e.length,h,0,t);for(let e=0;e<y.length;e++){let r=y[e];if(null!==r&&e>-2&&e<c){var v=t.area[3],b=r.y-r.width/2;r.height,n.beginPath();var _=r.color||u.color,x=r.color||u.color;if("none"!==a.linearType){var w=n.createLinearGradient(v,r.y,r.x,r.y);"opacity"==a.linearType?(w.addColorStop(0,im(_,a.linearOpacity)),w.addColorStop(1,im(_,1))):(w.addColorStop(0,im(a.customColor[u.linearIndex],a.linearOpacity)),w.addColorStop(a.colorStop,im(a.customColor[u.linearIndex],a.linearOpacity)),w.addColorStop(1,im(_,1))),_=w}if(a.barBorderRadius&&4===a.barBorderRadius.length||!0===a.barBorderCircle){const e=v,t=r.width,i=r.y-r.width/2,o=r.height;a.barBorderCircle&&(a.barBorderRadius=[t/2,t/2,0,0]);let[s,l,c,u]=a.barBorderRadius,h=Math.min(t/2,o/2);s=s>h?h:s,l=l>h?h:l,c=c>h?h:c,u=u>h?h:u,s=s<0?0:s,l=l<0?0:l,c=c<0?0:c,u=u<0?0:u,n.arc(e+u,i+u,u,-Math.PI,-Math.PI/2),n.arc(r.x-s,i+s,s,-Math.PI/2,0),n.arc(r.x-l,i+t-l,l,0,Math.PI/2),n.arc(e+c,i+t-c,c,Math.PI/2,Math.PI)}else n.moveTo(v,b),n.lineTo(r.x,b),n.lineTo(r.x,b+r.width),n.lineTo(v,b+r.width),n.lineTo(v,b),n.setLineWidth(1),n.setStrokeStyle(x);n.setFillStyle(_),n.closePath(),n.fill()}}break;case"stack":y=Dm(g,d,p,o,s,t,r,h,e,i);l.push(y),y=function(e,t,r,n,i,o){var s=o.extra.bar.categoryGap*o.pix||0;return e.map(function(e,r){return null===e?null:(e.width=Math.ceil(t-2*s),o.extra.bar&&o.extra.bar.width&&+o.extra.bar.width>0&&(e.width=Math.min(e.width,+o.extra.bar.width*o.pix)),e.width<=0&&(e.width=1),e)})}(y,s,e.length,0,0,t);for(let e=0;e<y.length;e++){let t=y[e];if(null!==t&&e>-2&&e<c){n.beginPath();_=t.color||u.color,v=t.x0;n.setFillStyle(_),n.moveTo(v,t.y-t.width/2),n.fillRect(v,t.y-t.width/2,t.height,t.width),n.closePath(),n.fill()}}}}),!1!==t.dataLabel&&1===i&&e.forEach(function(l,c){let u,h,f;u=[].concat(t.chartData.xAxisData.ranges),f=u.pop(),h=u.shift();var d=l.data;switch(a.type){case"group":Vm(Cm(Lm(d,h,f,o,s,t,r,i),s,e.length,c,0,t),l,r,n,t);break;case"stack":Vm(Dm(d,h,f,o,s,t,r,c,e,i),l,r,n,t)}}),{yAxisPoints:o,calPoints:l,eachSpacing:s}}function Jm(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=rm({},{color:{},average:{}},r.extra.candle);s.color=rm({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},s.color),s.average=rm({},{show:!1,name:[],day:[],color:n.color},s.average),r.extra.candle=s;let a=r.chartData.xAxisData,l=a.xAxisPoints,c=a.eachSpacing,u=[];i.save();let h=-2,f=l.length+2,d=0,p=r.width+c;return r._scrollDistance_&&0!==r._scrollDistance_&&!0===r.enableScroll&&(i.translate(r._scrollDistance_,0),h=Math.floor(-r._scrollDistance_/c)-2,f=h+r.xAxis.itemCount+4,d=-r._scrollDistance_-2*c+r.area[3],p=d+(r.xAxis.itemCount+4)*c),(s.average.show||t)&&t.forEach(function(e,t){let s,a,u;s=[].concat(r.chartData.yAxisData.ranges[e.index]),a=s.pop(),u=s.shift();var h=wm(Om(e.data,a,u,l,c,r,n,o),e);for(let r=0;r<h.length;r++){let t=h[r];if(i.beginPath(),i.setStrokeStyle(e.color),i.setLineWidth(1),1===t.length)i.moveTo(t[0].x,t[0].y),i.arc(t[0].x,t[0].y,1,0,2*Math.PI);else{i.moveTo(t[0].x,t[0].y);let e=0;for(let r=0;r<t.length;r++){let n=t[r];if(0==e&&n.x>d&&(i.moveTo(n.x,n.y),e=1),r>0&&n.x>d&&n.x<p){var f=lm(t,r-1);i.bezierCurveTo(f.ctrA.x,f.ctrA.y,f.ctrB.x,f.ctrB.y,n.x,n.y)}}i.moveTo(t[0].x,t[0].y)}i.closePath(),i.stroke()}}),e.forEach(function(e,t){let a,d,p;a=[].concat(r.chartData.yAxisData.ranges[e.index]),d=a.pop(),p=a.shift();var g=e.data,y=function(e,t,r,n,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=[],c=o.height-o.area[0]-o.area[2];return e.forEach(function(e,s){if(null===e)l.push(null);else{var u=[];e.forEach(function(e,l){var h={};h.x=n[s]+Math.round(i/2);var f=e.value||e,d=c*(f-t)/(r-t);d*=a,h.y=o.height-Math.round(d)-o.area[2],u.push(h)}),l.push(u)}}),l}(g,d,p,l,c,r,n,o);u.push(y);var m=wm(y,e);for(let n=0;n<m[0].length;n++)if(n>h&&n<f){let e=m[0][n];i.beginPath(),g[n][1]-g[n][0]>0?(i.setStrokeStyle(s.color.upLine),i.setFillStyle(s.color.upFill),i.setLineWidth(1*r.pix),i.moveTo(e[3].x,e[3].y),i.lineTo(e[1].x,e[1].y),i.lineTo(e[1].x-c/4,e[1].y),i.lineTo(e[0].x-c/4,e[0].y),i.lineTo(e[0].x,e[0].y),i.lineTo(e[2].x,e[2].y),i.lineTo(e[0].x,e[0].y),i.lineTo(e[0].x+c/4,e[0].y),i.lineTo(e[1].x+c/4,e[1].y),i.lineTo(e[1].x,e[1].y),i.moveTo(e[3].x,e[3].y)):(i.setStrokeStyle(s.color.downLine),i.setFillStyle(s.color.downFill),i.setLineWidth(1*r.pix),i.moveTo(e[3].x,e[3].y),i.lineTo(e[0].x,e[0].y),i.lineTo(e[0].x-c/4,e[0].y),i.lineTo(e[1].x-c/4,e[1].y),i.lineTo(e[1].x,e[1].y),i.lineTo(e[2].x,e[2].y),i.lineTo(e[1].x,e[1].y),i.lineTo(e[1].x+c/4,e[1].y),i.lineTo(e[0].x+c/4,e[0].y),i.lineTo(e[0].x,e[0].y),i.moveTo(e[3].x,e[3].y)),i.closePath(),i.fill(),i.stroke()}}),i.restore(),{xAxisPoints:l,calPoints:u,eachSpacing:c}}function Zm(e,t,r,n,i,o){(e.extra.tooltip||{}).horizentalLine&&e.tooltip&&1===n&&("line"==e.type||"area"==e.type||"column"==e.type||"mount"==e.type||"candle"==e.type||"mix"==e.type)&&Gm(e,t,r),r.save(),e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&r.translate(e._scrollDistance_,0),e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===n&&Ym(e.tooltip.textList,e.tooltip.offset,e,t,r),r.restore()}function ev(e,t,r,n){let i=t.chartData.xAxisData,o=i.xAxisPoints,s=i.startX,a=i.endX,l=i.eachSpacing;var c="center";"bar"!=t.type&&"line"!=t.type&&"area"!=t.type&&"scatter"!=t.type&&"bubble"!=t.type||(c=t.xAxis.boundaryGap);var u=t.height-t.area[2],h=t.area[0];if(t.enableScroll&&t.xAxis.scrollShow){var f=t.height-t.area[2]+r.xAxisHeight,d=a-s,p=l*(o.length-1);"mount"==t.type&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),p+=(t.extra.mount.widthRatio-1)*l);var g=d*d/p,y=0;t._scrollDistance_&&(y=-t._scrollDistance_*d/p),n.beginPath(),n.setLineCap("round"),n.setLineWidth(6*t.pix),n.setStrokeStyle(t.xAxis.scrollBackgroundColor||"#EFEBEF"),n.moveTo(s,f),n.lineTo(a,f),n.stroke(),n.closePath(),n.beginPath(),n.setLineCap("round"),n.setLineWidth(6*t.pix),n.setStrokeStyle(t.xAxis.scrollColor||"#A6A6A6"),n.moveTo(s+y,f),n.lineTo(s+y+g,f),n.stroke(),n.closePath(),n.setLineCap("butt")}if(n.save(),t._scrollDistance_&&0!==t._scrollDistance_&&n.translate(t._scrollDistance_,0),!0===t.xAxis.calibration&&(n.setStrokeStyle(t.xAxis.gridColor||"#cccccc"),n.setLineCap("butt"),n.setLineWidth(1*t.pix),o.forEach(function(e,r){r>0&&(n.beginPath(),n.moveTo(e-l/2,u),n.lineTo(e-l/2,u+3*t.pix),n.closePath(),n.stroke())})),!0!==t.xAxis.disableGrid&&(n.setStrokeStyle(t.xAxis.gridColor||"#cccccc"),n.setLineCap("butt"),n.setLineWidth(1*t.pix),"dash"==t.xAxis.gridType&&n.setLineDash([t.xAxis.dashLength*t.pix,t.xAxis.dashLength*t.pix]),t.xAxis.gridEval=t.xAxis.gridEval||1,o.forEach(function(e,r){r%t.xAxis.gridEval==0&&(n.beginPath(),n.moveTo(e,u),n.lineTo(e,h),n.stroke())}),n.setLineDash([])),!0!==t.xAxis.disabled){let i=e.length;t.xAxis.labelCount&&(i=t.xAxis.itemCount?Math.ceil(e.length/t.xAxis.itemCount*t.xAxis.labelCount):t.xAxis.labelCount,i-=1);let s=Math.ceil(e.length/i),a=[],h=e.length;for(let t=0;t<h;t++)t%s!==0?a.push(""):a.push(e[t]);a[h-1]=e[h-1];var m=t.xAxis.fontSize*t.pix||r.fontSize;0===r._xAxisTextAngle_?a.forEach(function(e,r){var i=t.xAxis.formatter?t.xAxis.formatter(e,r,t):e,s=-dm(String(i),m,n)/2;"center"==c&&(s+=l/2),t.xAxis.scrollShow&&t.pix;var a=t._scrollDistance_||0,h="center"==c?o[r]+l/2:o[r];h-Math.abs(a)>=t.area[3]-1&&h-Math.abs(a)<=t.width-t.area[1]+1&&(n.beginPath(),n.setFontSize(m),n.setFillStyle(t.xAxis.fontColor||t.fontColor),n.fillText(String(i),o[r]+s,u+t.xAxis.marginTop*t.pix+(t.xAxis.lineHeight-t.xAxis.fontSize)*t.pix/2+t.xAxis.fontSize*t.pix),n.closePath(),n.stroke())}):a.forEach(function(e,i){var s=t.xAxis.formatter?t.xAxis.formatter(e):e,a=t._scrollDistance_||0,h="center"==c?o[i]+l/2:o[i];if(h-Math.abs(a)>=t.area[3]-1&&h-Math.abs(a)<=t.width-t.area[1]+1){n.save(),n.beginPath(),n.setFontSize(m),n.setFillStyle(t.xAxis.fontColor||t.fontColor);var f=dm(String(s),m,n),d=o[i];"center"==c&&(d=o[i]+l/2),t.xAxis.scrollShow&&t.pix;var p=u+t.xAxis.marginTop*t.pix+m-m*Math.abs(Math.sin(r._xAxisTextAngle_));t.xAxis.rotateAngle<0?(d-=m/2,f=0):(d+=m/2,f=-f),n.translate(d,p),n.rotate(-1*r._xAxisTextAngle_),n.fillText(String(s),f,0),n.closePath(),n.stroke(),n.restore()}})}n.restore(),t.xAxis.title&&(n.beginPath(),n.setFontSize(t.xAxis.titleFontSize*t.pix),n.setFillStyle(t.xAxis.titleFontColor),n.fillText(String(t.xAxis.title),t.width-t.area[1]+t.xAxis.titleOffsetX*t.pix,t.height-t.area[2]+t.xAxis.marginTop*t.pix+(t.xAxis.lineHeight-t.xAxis.titleFontSize)*t.pix/2+(t.xAxis.titleFontSize+t.xAxis.titleOffsetY)*t.pix),n.closePath(),n.stroke()),t.xAxis.axisLine&&(n.beginPath(),n.setStrokeStyle(t.xAxis.axisLineColor),n.setLineWidth(1*t.pix),n.moveTo(s,t.height-t.area[2]),n.lineTo(a,t.height-t.area[2]),n.stroke())}function tv(e,t,r,n){if(!0===t.yAxis.disableGrid)return;let i=(t.height-t.area[0]-t.area[2])/t.yAxis.splitNumber,o=t.area[3],s=t.chartData.xAxisData.xAxisPoints,a=t.chartData.xAxisData.eachSpacing,l=a*(s.length-1);"mount"==t.type&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),l+=(t.extra.mount.widthRatio-1)*a);let c=o+l,u=[],h=1;!1===t.xAxis.axisLine&&(h=0);for(let f=h;f<t.yAxis.splitNumber+1;f++)u.push(t.height-t.area[2]-i*f);n.save(),t._scrollDistance_&&0!==t._scrollDistance_&&n.translate(t._scrollDistance_,0),"dash"==t.yAxis.gridType&&n.setLineDash([t.yAxis.dashLength*t.pix,t.yAxis.dashLength*t.pix]),n.setStrokeStyle(t.yAxis.gridColor),n.setLineWidth(1*t.pix),u.forEach(function(e,t){n.beginPath(),n.moveTo(o,e),n.lineTo(c,e),n.stroke()}),n.setLineDash([]),n.restore()}function rv(e,t,r,n){if(!0===t.yAxis.disabled)return;var i=t.height-t.area[0]-t.area[2],o=i/t.yAxis.splitNumber,s=t.area[3],a=t.width-t.area[1],l=t.height-t.area[2];n.beginPath(),n.setFillStyle(t.background),1==t.enableScroll&&t.xAxis.scrollPosition&&"left"!==t.xAxis.scrollPosition&&n.fillRect(0,0,s,l+2*t.pix),1==t.enableScroll&&t.xAxis.scrollPosition&&"right"!==t.xAxis.scrollPosition&&n.fillRect(a,0,t.width,l+2*t.pix),n.closePath(),n.stroke();let c=t.area[3],u=t.width-t.area[1],h=t.area[3]+(t.width-t.area[1]-t.area[3])/2;if(t.yAxis.data)for(let d=0;d<t.yAxis.data.length;d++){let e=t.yAxis.data[d];var f=[];if("categories"===e.type)for(let r=0;r<=e.categories.length;r++)f.push(t.area[0]+i/e.categories.length/2+i/e.categories.length*r);else for(let r=0;r<=t.yAxis.splitNumber;r++)f.push(t.area[0]+o*r);if(!0!==e.disabled){let i=t.chartData.yAxisData.rangesFormat[d],o=e.fontSize?e.fontSize*t.pix:r.fontSize,s=t.chartData.yAxisData.yAxisWidth[d],a=e.textAlign||"right";if(i.forEach(function(r,i){var l=f[i];n.beginPath(),n.setFontSize(o),n.setLineWidth(1*t.pix),n.setStrokeStyle(e.axisLineColor||"#cccccc"),n.setFillStyle(e.fontColor||t.fontColor);let d=0,p=4*t.pix;if("left"==s.position){switch(1==e.calibration&&(n.moveTo(c,l),n.lineTo(c-3*t.pix,l),p+=3*t.pix),a){case"left":n.setTextAlign("left"),d=c-s.width;break;case"right":n.setTextAlign("right"),d=c-p;break;default:n.setTextAlign("center"),d=c-s.width/2}n.fillText(String(r),d,l+o/2-3*t.pix)}else if("right"==s.position){switch(1==e.calibration&&(n.moveTo(u,l),n.lineTo(u+3*t.pix,l),p+=3*t.pix),a){case"left":n.setTextAlign("left"),d=u+p;break;case"right":n.setTextAlign("right"),d=u+s.width;break;default:n.setTextAlign("center"),d=u+s.width/2}n.fillText(String(r),d,l+o/2-3*t.pix)}else if("center"==s.position){switch(1==e.calibration&&(n.moveTo(h,l),n.lineTo(h-3*t.pix,l),p+=3*t.pix),a){case"left":n.setTextAlign("left"),d=h-s.width;break;case"right":n.setTextAlign("right"),d=h-p;break;default:n.setTextAlign("center"),d=h-s.width/2}n.fillText(String(r),d,l+o/2-3*t.pix)}n.closePath(),n.stroke(),n.setTextAlign("left")}),!1!==e.axisLine&&(n.beginPath(),n.setStrokeStyle(e.axisLineColor||"#cccccc"),n.setLineWidth(1*t.pix),"left"==s.position?(n.moveTo(c,t.height-t.area[2]),n.lineTo(c,t.area[0])):"right"==s.position?(n.moveTo(u,t.height-t.area[2]),n.lineTo(u,t.area[0])):"center"==s.position&&(n.moveTo(h,t.height-t.area[2]),n.lineTo(h,t.area[0])),n.stroke()),t.yAxis.showTitle){let i=e.titleFontSize*t.pix||r.fontSize,o=e.title;n.beginPath(),n.setFontSize(i),n.setFillStyle(e.titleFontColor||t.fontColor),"left"==s.position?n.fillText(o,c-dm(o,i,n)/2+(e.titleOffsetX||0),t.area[0]-(10-(e.titleOffsetY||0))*t.pix):"right"==s.position?n.fillText(o,u-dm(o,i,n)/2+(e.titleOffsetX||0),t.area[0]-(10-(e.titleOffsetY||0))*t.pix):"center"==s.position&&n.fillText(o,h-dm(o,i,n)/2+(e.titleOffsetX||0),t.area[0]-(10-(e.titleOffsetY||0))*t.pix),n.closePath(),n.stroke()}"left"==s.position?c-=s.width+t.yAxis.padding*t.pix:u+=s.width+t.yAxis.padding*t.pix}}}function nv(e,t,r,n,i){if(!1===t.legend.show)return;let o=i.legendData,s=o.points,a=o.area,l=t.legend.padding*t.pix,c=t.legend.fontSize*t.pix,u=15*t.pix,h=5*t.pix,f=t.legend.itemGap*t.pix,d=Math.max(t.legend.lineHeight*t.pix,c);n.beginPath(),n.setLineWidth(t.legend.borderWidth*t.pix),n.setStrokeStyle(t.legend.borderColor),n.setFillStyle(t.legend.backgroundColor),n.moveTo(a.start.x,a.start.y),n.rect(a.start.x,a.start.y,a.width,a.height),n.closePath(),n.fill(),n.stroke(),s.forEach(function(e,i){let s=0,p=0;s=o.widthArr[i],p=o.heightArr[i];let g=0,y=0;if("top"==t.legend.position||"bottom"==t.legend.position){switch(t.legend.float){case"left":g=a.start.x+l;break;case"right":g=a.start.x+a.width-s;break;default:g=a.start.x+(a.width-s)/2}y=a.start.y+l+i*d}else s=0==i?0:o.widthArr[i-1],g=a.start.x+l+s,y=a.start.y+l+(a.height-p)/2;n.setFontSize(r.fontSize);for(let r=0;r<e.length;r++){let i=e[r];switch(i.area=[0,0,0,0],i.area[0]=g,i.area[1]=y,i.area[3]=y+d,n.beginPath(),n.setLineWidth(1*t.pix),n.setStrokeStyle(i.show?i.color:t.legend.hiddenColor),n.setFillStyle(i.show?i.color:t.legend.hiddenColor),i.legendShape){case"line":n.moveTo(g,y+.5*d-2*t.pix),n.fillRect(g,y+.5*d-2*t.pix,15*t.pix,4*t.pix);break;case"triangle":n.moveTo(g+7.5*t.pix,y+.5*d-5*t.pix),n.lineTo(g+2.5*t.pix,y+.5*d+5*t.pix),n.lineTo(g+12.5*t.pix,y+.5*d+5*t.pix),n.lineTo(g+7.5*t.pix,y+.5*d-5*t.pix);break;case"diamond":n.moveTo(g+7.5*t.pix,y+.5*d-5*t.pix),n.lineTo(g+2.5*t.pix,y+.5*d),n.lineTo(g+7.5*t.pix,y+.5*d+5*t.pix),n.lineTo(g+12.5*t.pix,y+.5*d),n.lineTo(g+7.5*t.pix,y+.5*d-5*t.pix);break;case"circle":n.moveTo(g+7.5*t.pix,y+.5*d),n.arc(g+7.5*t.pix,y+.5*d,5*t.pix,0,2*Math.PI);break;case"rect":default:n.moveTo(g,y+.5*d-5*t.pix),n.fillRect(g,y+.5*d-5*t.pix,15*t.pix,10*t.pix);break;case"square":n.moveTo(g+5*t.pix,y+.5*d-5*t.pix),n.fillRect(g+5*t.pix,y+.5*d-5*t.pix,10*t.pix,10*t.pix);case"none":}n.closePath(),n.fill(),n.stroke(),g+=u+h;let o=.5*d+.5*c-2;const s=i.legendText?i.legendText:i.name;n.beginPath(),n.setFontSize(c),n.setFillStyle(i.show?t.legend.fontColor:t.legend.hiddenColor),n.fillText(s,g,y+o),n.closePath(),n.stroke(),"top"==t.legend.position||"bottom"==t.legend.position?(g+=dm(s,c,n)+f,i.area[2]=g):(i.area[2]=g+dm(s,c,n)+f,g-=u+h,y+=d)}})}function iv(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=rm({},{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,ringWidth:30,customRadius:0,border:!1,borderWidth:2,borderColor:"#FFFFFF",centerColor:"#FFFFFF",linearType:"none",customColor:[]},"pie"==t.type?t.extra.pie:t.extra.ring),s={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2};0==r.pieChartLinePadding&&(r.pieChartLinePadding=o.activeRadius*t.pix);var a=Math.min((t.width-t.area[1]-t.area[3])/2-r.pieChartLinePadding-r.pieChartTextPadding-r._pieTextMaxLength_,(t.height-t.area[0]-t.area[2])/2-r.pieChartLinePadding-r.pieChartTextPadding);a=a<10?10:a,o.customRadius>0&&(a=o.customRadius*t.pix),e=Em(e,a,i);var l=o.activeRadius*t.pix;if(o.customColor=fm(o.linearType,o.customColor,e,r),(e=e.map(function(e){return e._start_+=o.offsetAngle*Math.PI/180,e})).forEach(function(e,r){t.tooltip&&t.tooltip.index==r&&(n.beginPath(),n.setFillStyle(im(e.color,o.activeOpacity||.5)),n.moveTo(s.x,s.y),n.arc(s.x,s.y,e._radius_+l,e._start_,e._start_+2*e._proportion_*Math.PI),n.closePath(),n.fill()),n.beginPath(),n.setLineWidth(o.borderWidth*t.pix),n.lineJoin="round",n.setStrokeStyle(o.borderColor);var i,a=e.color;"custom"==o.linearType&&((i=n.createCircularGradient?n.createCircularGradient(s.x,s.y,e._radius_):n.createRadialGradient(s.x,s.y,0,s.x,s.y,e._radius_)).addColorStop(0,im(o.customColor[e.linearIndex],1)),i.addColorStop(1,im(e.color,1)),a=i);n.setFillStyle(a),n.moveTo(s.x,s.y),n.arc(s.x,s.y,e._radius_,e._start_,e._start_+2*e._proportion_*Math.PI),n.closePath(),n.fill(),1==o.border&&n.stroke()}),"ring"===t.type){var c=.6*a;"number"==typeof o.ringWidth&&o.ringWidth>0&&(c=Math.max(0,a-o.ringWidth*t.pix)),n.beginPath(),n.setFillStyle(o.centerColor),n.moveTo(s.x,s.y),n.arc(s.x,s.y,c,0,2*Math.PI),n.closePath(),n.fill()}return!1!==t.dataLabel&&1===i&&Hm(e,t,r,n,0,s),1===i&&"ring"===t.type&&Um(t,r,n,s),{center:s,radius:a,series:e}}function ov(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=rm({},{type:"default",startAngle:.75,endAngle:.25,width:15,labelOffset:13,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},r.extra.gauge);null==s.oldAngle&&(s.oldAngle=s.startAngle),null==s.oldData&&(s.oldData=0),e=function(e,t,r){let n;n=r<t?2+r-t:t-r;let i=t;for(let o=0;o<e.length;o++)e[o].value=null===e[o].value?0:e[o].value,e[o]._startAngle_=i,e[o]._endAngle_=n*e[o].value+t,e[o]._endAngle_>=2&&(e[o]._endAngle_=e[o]._endAngle_%2),i=e[o]._endAngle_;return e}(e,s.startAngle,s.endAngle);var a={x:r.width/2,y:r.height/2},l=Math.min(a.x,a.y);l-=5*r.pix;var c=(l=(l-=s.width/2)<10?10:l)-s.width,u=0;if("progress"==s.type){var h=l-3*s.width;i.beginPath();let e=i.createLinearGradient(a.x,a.y-h,a.x,a.y+h);e.addColorStop("0",im(t[0].color,.3)),e.addColorStop("1.0",im("#FFFFFF",.1)),i.setFillStyle(e),i.arc(a.x,a.y,h,0,2*Math.PI,!1),i.fill(),i.setLineWidth(s.width),i.setStrokeStyle(im(t[0].color,.3)),i.setLineCap("round"),i.beginPath(),i.arc(a.x,a.y,c,s.startAngle*Math.PI,s.endAngle*Math.PI,!1),i.stroke(),u=s.endAngle<s.startAngle?2+s.endAngle-s.startAngle:s.startAngle-s.endAngle,s.splitLine.splitNumber;let n=u/s.splitLine.splitNumber/s.splitLine.childNumber,f=-l-.5*s.width-s.splitLine.fixRadius,d=-l-s.width-s.splitLine.fixRadius+s.splitLine.width;i.save(),i.translate(a.x,a.y),i.rotate((s.startAngle-1)*Math.PI);let p=s.splitLine.splitNumber*s.splitLine.childNumber+1,g=t[0].data*o;for(let o=0;o<p;o++)i.beginPath(),g>o/p?i.setStrokeStyle(im(t[0].color,1)):i.setStrokeStyle(im(t[0].color,.3)),i.setLineWidth(3*r.pix),i.moveTo(f,0),i.lineTo(d,0),i.stroke(),i.rotate(n*Math.PI);i.restore(),t=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==r&&(r=.999999);for(let n=0;n<e.length;n++){let i,o=e[n];o.data=null===o.data?0:o.data,i="circle"==t.type?2:t.endAngle<t.startAngle?2+t.endAngle-t.startAngle:t.startAngle-t.endAngle,o._proportion_=i*o.data*r+t.startAngle,o._proportion_>=2&&(o._proportion_=o._proportion_%2)}return e}(t,s,o),i.setLineWidth(s.width),i.setStrokeStyle(t[0].color),i.setLineCap("round"),i.beginPath(),i.arc(a.x,a.y,c,s.startAngle*Math.PI,t[0]._proportion_*Math.PI,!1),i.stroke();let y=l-2.5*s.width;i.save(),i.translate(a.x,a.y),i.rotate((t[0]._proportion_-1)*Math.PI),i.beginPath(),i.setLineWidth(s.width/3);let m=i.createLinearGradient(0,.6*-y,0,.6*y);m.addColorStop("0",im("#FFFFFF",0)),m.addColorStop("0.5",im(t[0].color,1)),m.addColorStop("1.0",im("#FFFFFF",0)),i.setStrokeStyle(m),i.arc(0,0,y,.85*Math.PI,1.15*Math.PI,!1),i.stroke(),i.beginPath(),i.setLineWidth(1),i.setStrokeStyle(t[0].color),i.setFillStyle(t[0].color),i.moveTo(-y-s.width/3/2,-4),i.lineTo(-y-s.width/3/2-4,0),i.lineTo(-y-s.width/3/2,4),i.lineTo(-y-s.width/3/2,-4),i.stroke(),i.fill(),i.restore()}else{i.setLineWidth(s.width),i.setLineCap("butt");for(let t=0;t<e.length;t++){let r=e[t];i.beginPath(),i.setStrokeStyle(r.color),i.arc(a.x,a.y,l,r._startAngle_*Math.PI,r._endAngle_*Math.PI,!1),i.stroke()}i.save();let h=(u=s.endAngle<s.startAngle?2+s.endAngle-s.startAngle:s.startAngle-s.endAngle)/s.splitLine.splitNumber,f=u/s.splitLine.splitNumber/s.splitLine.childNumber,d=-l-.5*s.width-s.splitLine.fixRadius,p=-l-.5*s.width-s.splitLine.fixRadius+s.splitLine.width,g=-l-.5*s.width-s.splitLine.fixRadius+s.splitLine.childWidth;i.translate(a.x,a.y),i.rotate((s.startAngle-1)*Math.PI);for(let e=0;e<s.splitLine.splitNumber+1;e++)i.beginPath(),i.setStrokeStyle(s.splitLine.color),i.setLineWidth(2*r.pix),i.moveTo(d,0),i.lineTo(p,0),i.stroke(),i.rotate(h*Math.PI);i.restore(),i.save(),i.translate(a.x,a.y),i.rotate((s.startAngle-1)*Math.PI);for(let e=0;e<s.splitLine.splitNumber*s.splitLine.childNumber+1;e++)i.beginPath(),i.setStrokeStyle(s.splitLine.color),i.setLineWidth(1*r.pix),i.moveTo(d,0),i.lineTo(g,0),i.stroke(),i.rotate(f*Math.PI);i.restore(),t=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;for(let i=0;i<e.length;i++){let o,s=e[i];if(s.data=null===s.data?0:s.data,"auto"==r.pointer.color){for(let e=0;e<t.length;e++)if(s.data<=t[e].value){s.color=t[e].color;break}}else s.color=r.pointer.color;o=r.endAngle<r.startAngle?2+r.endAngle-r.startAngle:r.startAngle-r.endAngle,s._endAngle_=o*s.data+r.startAngle,s._oldAngle_=r.oldAngle,r.oldAngle<r.endAngle&&(s._oldAngle_+=2),s.data>=r.oldData?s._proportion_=(s._endAngle_-s._oldAngle_)*n+r.oldAngle:s._proportion_=s._oldAngle_-(s._oldAngle_-s._endAngle_)*n,s._proportion_>=2&&(s._proportion_=s._proportion_%2)}return e}(t,e,s,o);for(let e=0;e<t.length;e++){let r=t[e];i.save(),i.translate(a.x,a.y),i.rotate((r._proportion_-1)*Math.PI),i.beginPath(),i.setFillStyle(r.color),i.moveTo(s.pointer.width,0),i.lineTo(0,-s.pointer.width/2),i.lineTo(-c,0),i.lineTo(0,s.pointer.width/2),i.lineTo(s.pointer.width,0),i.closePath(),i.fill(),i.beginPath(),i.setFillStyle("#FFFFFF"),i.arc(0,0,s.pointer.width/6,0,2*Math.PI,!1),i.fill(),i.restore()}!1!==r.dataLabel&&function(e,t,r,n,i,o){let s;t=(t-=e.width/2+e.labelOffset*n.pix)<10?10:t,s=e.endAngle<e.startAngle?2+e.endAngle-e.startAngle:e.startAngle-e.endAngle;let a=s/e.splitLine.splitNumber,l=(e.endNumber-e.startNumber)/e.splitLine.splitNumber,c=e.startAngle,u=e.startNumber;for(let g=0;g<e.splitLine.splitNumber+1;g++){var h={x:t*Math.cos(c*Math.PI),y:t*Math.sin(c*Math.PI)},f=e.formatter?e.formatter(u,g,n):u;h.x+=r.x-dm(f,i.fontSize,o)/2,h.y+=r.y;var d=h.x,p=h.y;o.beginPath(),o.setFontSize(i.fontSize),o.setFillStyle(e.labelColor||n.fontColor),o.fillText(f,d,p+i.fontSize/2),o.closePath(),o.stroke(),c+=a,c>=2&&(c%=2),u+=l}}(s,l,a,r,n,i)}return Um(r,n,i,a),1===o&&"gauge"===r.type&&(r.extra.gauge.oldAngle=t[0]._proportion_,r.extra.gauge.oldData=t[0].data),{center:a,radius:l,innerRadius:c,categories:e,totalAngle:u}}function sv(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=rm({},{gridColor:"#cccccc",gridType:"radar",gridEval:1,axisLabel:!1,axisLabelTofix:0,labelShow:!0,labelColor:"#666666",labelPointShow:!1,labelPointRadius:3,labelPointColor:"#cccccc",opacity:.2,gridCount:3,border:!1,borderWidth:2,linearType:"none",customColor:[]},t.extra.radar),s=function(e){for(var t=2*Math.PI/e,r=[],n=0;n<e;n++)r.push(t*n);return r.map(function(e){return-1*e+Math.PI/2})}(t.categories.length),a={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2},l=(t.width-t.area[1]-t.area[3])/2,c=(t.height-t.area[0]-t.area[2])/2,u=Math.min(l-(function(e,t,r){var n=e.map(function(e){return dm(e,t,r)});return Math.max.apply(null,n)}(t.categories,r.fontSize,n)+r.radarLabelTextMargin),c-r.radarLabelTextMargin);u=(u-=r.radarLabelTextMargin*t.pix)<10?10:u,u=o.radius?o.radius:u,n.beginPath(),n.setLineWidth(1*t.pix),n.setStrokeStyle(o.gridColor),s.forEach(function(e,t){var r=cm(u*Math.cos(e),u*Math.sin(e),a);n.moveTo(a.x,a.y),t%o.gridEval==0&&n.lineTo(r.x,r.y)}),n.stroke(),n.closePath();for(var h=function(e){var r={};if(n.beginPath(),n.setLineWidth(1*t.pix),n.setStrokeStyle(o.gridColor),"radar"==o.gridType)s.forEach(function(t,i){var s=cm(u/o.gridCount*e*Math.cos(t),u/o.gridCount*e*Math.sin(t),a);0===i?(r=s,n.moveTo(s.x,s.y)):n.lineTo(s.x,s.y)}),n.lineTo(r.x,r.y);else{var i=cm(u/o.gridCount*e*Math.cos(1.5),u/o.gridCount*e*Math.sin(1.5),a);n.arc(a.x,a.y,a.y-i.y,0,2*Math.PI,!1)}n.stroke(),n.closePath()},f=1;f<=o.gridCount;f++)h(f);o.customColor=fm(o.linearType,o.customColor,e,r);var d=function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=i.extra.radar||{};s.max=s.max||0;var a=Math.max(s.max,Math.max.apply(null,pm(n))),l=[];for(let c=0;c<n.length;c++){let i=n[c],s={};s.color=i.color,s.legendShape=i.legendShape,s.pointShape=i.pointShape,s.data=[],i.data.forEach(function(n,i){let l={};l.angle=e[i],l.proportion=n/a,l.value=n,l.position=cm(r*l.proportion*o*Math.cos(l.angle),r*l.proportion*o*Math.sin(l.angle),t),s.data.push(l)}),l.push(s)}return l}(s,a,u,e,t,i);if(d.forEach(function(r,i){n.beginPath(),n.setLineWidth(o.borderWidth*t.pix),n.setStrokeStyle(r.color);var s,l=im(r.color,o.opacity);"custom"==o.linearType&&((s=n.createCircularGradient?n.createCircularGradient(a.x,a.y,u):n.createRadialGradient(a.x,a.y,0,a.x,a.y,u)).addColorStop(0,im(o.customColor[e[i].linearIndex],o.opacity)),s.addColorStop(1,im(r.color,o.opacity)),l=s);(n.setFillStyle(l),r.data.forEach(function(e,t){0===t?n.moveTo(e.position.x,e.position.y):n.lineTo(e.position.x,e.position.y)}),n.closePath(),n.fill(),!0===o.border&&n.stroke(),n.closePath(),!1!==t.dataPointShape)&&Nm(r.data.map(function(e){return e.position}),r.color,r.pointShape,n,t)}),!0===o.axisLabel){const r=Math.max(o.max,Math.max.apply(null,pm(e))),i=u/o.gridCount,s=t.fontSize*t.pix;n.setFontSize(s),n.setFillStyle(t.fontColor),n.setTextAlign("left");for(f=0;f<o.gridCount+1;f++){let e=f*r/o.gridCount;e=e.toFixed(o.axisLabelTofix),n.fillText(String(e),a.x+3*t.pix,a.y-f*i+s/2)}}return function(e,t,r,n,i,o){var s=n.extra.radar||{};e.forEach(function(e,a){if(!0===s.labelPointShow&&""!==n.categories[a]){var l={x:t*Math.cos(e),y:t*Math.sin(e)},c=cm(l.x,l.y,r);o.setFillStyle(s.labelPointColor),o.beginPath(),o.arc(c.x,c.y,s.labelPointRadius*n.pix,0,2*Math.PI,!1),o.closePath(),o.fill()}if(!0===s.labelShow){var u={x:(t+i.radarLabelTextMargin*n.pix)*Math.cos(e),y:(t+i.radarLabelTextMargin*n.pix)*Math.sin(e)},h=cm(u.x,u.y,r),f=h.x,d=h.y;nm.approximatelyEqual(u.x,0)?f-=dm(n.categories[a]||"",i.fontSize,o)/2:u.x<0&&(f-=dm(n.categories[a]||"",i.fontSize,o)),o.beginPath(),o.setFontSize(i.fontSize),o.setFillStyle(s.labelColor||n.fontColor),o.fillText(n.categories[a]||"",f,d+i.fontSize/2),o.closePath(),o.stroke()}})}(s,u,a,t,r,n),!1!==t.dataLabel&&1===i&&(d.forEach(function(e,i){n.beginPath();var o=e.textSize*t.pix||r.fontSize;n.setFontSize(o),n.setFillStyle(e.textColor||t.fontColor),e.data.forEach(function(e,t){Math.abs(e.position.x-a.x)<2?e.position.y<a.y?(n.setTextAlign("center"),n.fillText(e.value,e.position.x,e.position.y-4)):(n.setTextAlign("center"),n.fillText(e.value,e.position.x,e.position.y+o+2)):e.position.x<a.x?(n.setTextAlign("right"),n.fillText(e.value,e.position.x-4,e.position.y+o/2-2)):(n.setTextAlign("left"),n.fillText(e.value,e.position.x+4,e.position.y+o/2-2))}),n.closePath(),n.stroke()}),n.setTextAlign("left")),{center:a,radius:u,angleList:s}}function av(e,t){var r=Array(2),n=20037508.34*e/180,i=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180);return i=20037508.34*i/180,r[0]=n,r[1]=i,r}function lv(e,t,r,n,i,o){return{x:(t-r.xMin)*n+i,y:(r.yMax-e)*n+o}}function cv(e,t,r){if(t[1]==r[1])return!1;if(t[1]>e[1]&&r[1]>e[1])return!1;if(t[1]<e[1]&&r[1]<e[1])return!1;if(t[1]==e[1]&&r[1]>e[1])return!1;if(r[1]==e[1]&&t[1]>e[1])return!1;if(t[0]<e[0]&&r[1]<e[1])return!1;return!(r[0]-(r[0]-t[0])*(r[1]-e[1])/(r[1]-t[1])<e[0])}function uv(e,t,r){let n=0;for(let i=0;i<t.length;i++){let o=t[i][0];1==t.length&&(o=t[i][0]);for(let t=0;t<o.length-1;t++){let i=o[t],s=o[t+1];r&&(i=av(o[t][0],o[t][1]),s=av(o[t+1][0],o[t+1][1])),cv(e,i,s)&&(n+=1)}}return n%2==1}function hv(e,t,r){r=0==r?1:r;for(var n=[],i=0;i<r;i++)n[i]=Math.random();return Math.floor(n.reduce(function(e,t){return e+t})/r*(t-e))+e}function fv(e,t,r,n){var i=!1;for(let o=0;o<t.length;o++)if(t[o].area){if(!(e[3]<t[o].area[1]||e[0]>t[o].area[2]||e[1]>t[o].area[3]||e[2]<t[o].area[0])){i=!0;break}if(e[0]<0||e[1]<0||e[2]>r||e[3]>n){i=!0;break}i=!1}return i}function dv(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=rm({},{type:"normal",autoColors:!0},t.extra.word);t.chartData.wordCloudData||(t.chartData.wordCloudData=function(e,t,r){let n=e.series;switch(t){case"normal":for(let i=0;i<n.length;i++){let t,o,s,a=n[i].name,l=n[i].textSize*e.pix,c=dm(a,l,r),u=0;for(;u++,t=hv(-e.width/2,e.width/2,5)-c/2,o=hv(-e.height/2,e.height/2,5)+l/2,s=[t-5+e.width/2,o-5-l+e.height/2,t+c+5+e.width/2,o+5+e.height/2],fv(s,n,e.width,e.height);)if(1e3==u){s=[-100,-100,-100,-100];break}n[i].area=s}break;case"vertical":let t=function(){return Math.random()>.7};for(let i=0;i<n.length;i++){let o,s,a,l,c=n[i].name,u=n[i].textSize*e.pix,h=dm(c,u,r),f=t(),d=0;for(;;){let t;if(d++,f?(o=hv(-e.width/2,e.width/2,5)-h/2,s=hv(-e.height/2,e.height/2,5)+u/2,a=[s-5-h+e.width/2,-o-5+e.height/2,s+5+e.width/2,-o+u+5+e.height/2],l=[e.width-(e.width/2-e.height/2)-(-o+u+5+e.height/2)-5,e.height/2-e.width/2+(s-5-h+e.width/2)-5,e.width-(e.width/2-e.height/2)-(-o+u+5+e.height/2)+u,e.height/2-e.width/2+(s-5-h+e.width/2)+h+5],t=fv(l,n,e.height,e.width)):(o=hv(-e.width/2,e.width/2,5)-h/2,s=hv(-e.height/2,e.height/2,5)+u/2,a=[o-5+e.width/2,s-5-u+e.height/2,o+h+5+e.width/2,s+5+e.height/2],t=fv(a,n,e.width,e.height)),!t)break;if(1e3==d){a=[-1e3,-1e3,-1e3,-1e3];break}}f?(n[i].area=l,n[i].areav=a):n[i].area=a,n[i].rotate=f}}return n}(t,o.type,n)),n.beginPath(),n.setFillStyle(t.background),n.rect(0,0,t.width,t.height),n.fill(),n.save();let s=t.chartData.wordCloudData;n.translate(t.width/2,t.height/2);for(let a=0;a<s.length;a++){n.save(),s[a].rotate&&n.rotate(90*Math.PI/180);let e=s[a].name,r=s[a].textSize*t.pix,o=dm(e,r,n);n.beginPath(),n.setStrokeStyle(s[a].color),n.setFillStyle(s[a].color),n.setFontSize(r),s[a].rotate?s[a].areav[0]>0&&(t.tooltip&&t.tooltip.index==a?n.strokeText(e,(s[a].areav[0]+5-t.width/2)*i-o*(1-i)/2,(s[a].areav[1]+5+r-t.height/2)*i):n.fillText(e,(s[a].areav[0]+5-t.width/2)*i-o*(1-i)/2,(s[a].areav[1]+5+r-t.height/2)*i)):s[a].area[0]>0&&(t.tooltip&&t.tooltip.index==a?n.strokeText(e,(s[a].area[0]+5-t.width/2)*i-o*(1-i)/2,(s[a].area[1]+5+r-t.height/2)*i):n.fillText(e,(s[a].area[0]+5-t.width/2)*i-o*(1-i)/2,(s[a].area[1]+5+r-t.height/2)*i)),n.stroke(),n.restore()}n.restore()}function pv(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=rm({},{type:"funnel",activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,minSize:0,labelAlign:"right",linearType:"none",customColor:[]},t.extra.funnel),s=(t.height-t.area[0]-t.area[2])/e.length,a={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.height-t.area[2]},l=o.activeWidth*t.pix,c=Math.min((t.width-t.area[1]-t.area[3])/2-l,(t.height-t.area[0]-t.area[2])/2-l),u=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;for(let o=0;o<e.length;o++)"funnel"==r.type?e[o].radius=e[o].data/e[0].data*t*i:e[o].radius=n*(e.length-o)/(n*e.length)*t*i,e[o]._proportion_=e[o].data/e[0].data;return e}(e,c,o,s,i);if(n.save(),n.translate(a.x,a.y),o.customColor=fm(o.linearType,o.customColor,e,r),"pyramid"==o.type)for(let d=0;d<u.length;d++){if(d==u.length-1){t.tooltip&&t.tooltip.index==d&&(n.beginPath(),n.setFillStyle(im(u[d].color,o.activeOpacity)),n.moveTo(-l,-s),n.lineTo(-u[d].radius-l,0),n.lineTo(u[d].radius+l,0),n.lineTo(l,-s),n.lineTo(-l,-s),n.closePath(),n.fill()),u[d].funnelArea=[a.x-u[d].radius,a.y-s*(d+1),a.x+u[d].radius,a.y-s*d],n.beginPath(),n.setLineWidth(o.borderWidth*t.pix),n.setStrokeStyle(o.borderColor);var h=im(u[d].color,o.fillOpacity);if("custom"==o.linearType)(f=n.createLinearGradient(u[d].radius,-s,-u[d].radius,-s)).addColorStop(0,im(u[d].color,o.fillOpacity)),f.addColorStop(.5,im(o.customColor[u[d].linearIndex],o.fillOpacity)),f.addColorStop(1,im(u[d].color,o.fillOpacity)),h=f;n.setFillStyle(h),n.moveTo(0,-s),n.lineTo(-u[d].radius,0),n.lineTo(u[d].radius,0),n.lineTo(0,-s),n.closePath(),n.fill(),1==o.border&&n.stroke()}else{t.tooltip&&t.tooltip.index==d&&(n.beginPath(),n.setFillStyle(im(u[d].color,o.activeOpacity)),n.moveTo(0,0),n.lineTo(-u[d].radius-l,0),n.lineTo(-u[d+1].radius-l,-s),n.lineTo(u[d+1].radius+l,-s),n.lineTo(u[d].radius+l,0),n.lineTo(0,0),n.closePath(),n.fill()),u[d].funnelArea=[a.x-u[d].radius,a.y-s*(d+1),a.x+u[d].radius,a.y-s*d],n.beginPath(),n.setLineWidth(o.borderWidth*t.pix),n.setStrokeStyle(o.borderColor);h=im(u[d].color,o.fillOpacity);if("custom"==o.linearType)(f=n.createLinearGradient(u[d].radius,-s,-u[d].radius,-s)).addColorStop(0,im(u[d].color,o.fillOpacity)),f.addColorStop(.5,im(o.customColor[u[d].linearIndex],o.fillOpacity)),f.addColorStop(1,im(u[d].color,o.fillOpacity)),h=f;n.setFillStyle(h),n.moveTo(0,0),n.lineTo(-u[d].radius,0),n.lineTo(-u[d+1].radius,-s),n.lineTo(u[d+1].radius,-s),n.lineTo(u[d].radius,0),n.lineTo(0,0),n.closePath(),n.fill(),1==o.border&&n.stroke()}n.translate(0,-s)}else{n.translate(0,-(u.length-1)*s);for(let e=0;e<u.length;e++){if(e==u.length-1){t.tooltip&&t.tooltip.index==e&&(n.beginPath(),n.setFillStyle(im(u[e].color,o.activeOpacity)),n.moveTo(-l-o.minSize/2,0),n.lineTo(-u[e].radius-l,-s),n.lineTo(u[e].radius+l,-s),n.lineTo(l+o.minSize/2,0),n.lineTo(-l-o.minSize/2,0),n.closePath(),n.fill()),u[e].funnelArea=[a.x-u[e].radius,a.y-s,a.x+u[e].radius,a.y],n.beginPath(),n.setLineWidth(o.borderWidth*t.pix),n.setStrokeStyle(o.borderColor);h=im(u[e].color,o.fillOpacity);if("custom"==o.linearType)(f=n.createLinearGradient(u[e].radius,-s,-u[e].radius,-s)).addColorStop(0,im(u[e].color,o.fillOpacity)),f.addColorStop(.5,im(o.customColor[u[e].linearIndex],o.fillOpacity)),f.addColorStop(1,im(u[e].color,o.fillOpacity)),h=f;n.setFillStyle(h),n.moveTo(0,0),n.lineTo(-o.minSize/2,0),n.lineTo(-u[e].radius,-s),n.lineTo(u[e].radius,-s),n.lineTo(o.minSize/2,0),n.lineTo(0,0),n.closePath(),n.fill(),1==o.border&&n.stroke()}else{t.tooltip&&t.tooltip.index==e&&(n.beginPath(),n.setFillStyle(im(u[e].color,o.activeOpacity)),n.moveTo(0,0),n.lineTo(-u[e+1].radius-l,0),n.lineTo(-u[e].radius-l,-s),n.lineTo(u[e].radius+l,-s),n.lineTo(u[e+1].radius+l,0),n.lineTo(0,0),n.closePath(),n.fill()),u[e].funnelArea=[a.x-u[e].radius,a.y-s*(u.length-e),a.x+u[e].radius,a.y-s*(u.length-e-1)],n.beginPath(),n.setLineWidth(o.borderWidth*t.pix),n.setStrokeStyle(o.borderColor);var f;h=im(u[e].color,o.fillOpacity);if("custom"==o.linearType)(f=n.createLinearGradient(u[e].radius,-s,-u[e].radius,-s)).addColorStop(0,im(u[e].color,o.fillOpacity)),f.addColorStop(.5,im(o.customColor[u[e].linearIndex],o.fillOpacity)),f.addColorStop(1,im(u[e].color,o.fillOpacity)),h=f;n.setFillStyle(h),n.moveTo(0,0),n.lineTo(-u[e+1].radius,0),n.lineTo(-u[e].radius,-s),n.lineTo(u[e].radius,-s),n.lineTo(u[e+1].radius,0),n.lineTo(0,0),n.closePath(),n.fill(),1==o.border&&n.stroke()}n.translate(0,s)}}return n.restore(),!1!==t.dataLabel&&1===i&&function(e,t,r,n,i,o,s){for(let a=0;a<e.length;a++){let l,c,u,h,f=e[a];if(!1===f.labelShow)continue;let d=f.formatter?f.formatter(f,a,e,t):nm.toFixed(100*f._proportion_)+"%";d=f.labelText?f.labelText:d,"right"==i&&(l=a==e.length-1?(f.funnelArea[2]+s.x)/2:(f.funnelArea[2]+e[a+1].funnelArea[2])/2,c=l+2*o,u=f.funnelArea[1]+n/2,h=f.textSize*t.pix||t.fontSize*t.pix,r.setLineWidth(1*t.pix),r.setStrokeStyle(f.color),r.setFillStyle(f.color),r.beginPath(),r.moveTo(l,u),r.lineTo(c,u),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(c,u),r.arc(c,u,2*t.pix,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(h),r.setFillStyle(f.textColor||t.fontColor),r.fillText(d,c+5,u+h/2-2),r.closePath(),r.stroke(),r.closePath()),"left"==i&&(l=a==e.length-1?(f.funnelArea[0]+s.x)/2:(f.funnelArea[0]+e[a+1].funnelArea[0])/2,c=l-2*o,u=f.funnelArea[1]+n/2,h=f.textSize*t.pix||t.fontSize*t.pix,r.setLineWidth(1*t.pix),r.setStrokeStyle(f.color),r.setFillStyle(f.color),r.beginPath(),r.moveTo(l,u),r.lineTo(c,u),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(c,u),r.arc(c,u,2,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(h),r.setFillStyle(f.textColor||t.fontColor),r.fillText(d,c-5-dm(d,h,r),u+h/2-2),r.closePath(),r.stroke(),r.closePath())}}(u,t,n,s,o.labelAlign,l,a),1===i&&function(e,t,r,n,i,o,s){for(let a=0;a<e.length;a++){let i,o,l=e[a];l.centerText&&(i=l.funnelArea[1]+n/2,o=l.centerTextSize*t.pix||t.fontSize*t.pix,r.beginPath(),r.setFontSize(o),r.setFillStyle(l.centerTextColor||"#FFFFFF"),r.fillText(l.centerText,s.x-dm(l.centerText,o,r)/2,i+o/2-2),r.closePath(),r.stroke(),r.closePath())}}(u,t,n,s,o.labelAlign,0,a),{center:a,radius:c,series:u}}function gv(e,t){t.save(),t.translate(0,.5),t.restore(),t.draw()}var yv={easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},linear:function(e){return e}};function mv(e){this.isStop=!1,e.duration=void 0===e.duration?1e3:e.duration,e.timing=e.timing||"easeInOut";var t="undefined"!=typeof setTimeout?function(e,t){setTimeout(function(){e(+new Date)},t)}:"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(e){e(null)},r=null,n=function(i){if(null===i||!0===this.isStop)return e.onProcess&&e.onProcess(1),void(e.onAnimationFinish&&e.onAnimationFinish());if(null===r&&(r=i),i-r<e.duration){var o=(i-r)/e.duration;o=(0,yv[e.timing])(o),e.onProcess&&e.onProcess(o),t(n,17)}else e.onProcess&&e.onProcess(1),e.onAnimationFinish&&e.onAnimationFinish()};n=n.bind(this),t(n,17)}function vv(e,t,r,n){var i=this,o=t.series;"pie"!==e&&"ring"!==e&&"mount"!==e&&"rose"!==e&&"funnel"!==e||(o=function(e,t){let r=[];if(e.length>0&&e[0].data.constructor.toString().indexOf("Array")>-1){t._pieSeries_=e;let i=e[0].data;for(var n=0;n<i.length;n++)i[n].formatter=e[0].formatter,i[n].data=i[n].value,r.push(i[n]);t.series=r}else r=e;return r}(o,t));var s=t.categories;if("mount"===e){s=[];for(let e=0;e<o.length;e++)!1!==o[e].show&&s.push(o[e].name);t.categories=s}o=hm(o,t,r);var a=t.animation?t.duration:0;i.animationInstance&&i.animationInstance.stop();var l=null;if("candle"==e){let e=rm({},t.extra.candle.average);e.show?(l=hm(l=function(e,t,r,n){let i=[];for(let o=0;o<e.length;o++){let s={data:[],name:t[o],color:r[o]};for(let t=0,r=n.length;t<r;t++){if(t<e[o]){s.data.push(null);continue}let r=0;for(let i=0;i<e[o];i++)r+=n[t-i][1];s.data.push(+(r/e[o]).toFixed(3))}i.push(s)}return i}(e.day,e.name,e.color,o[0].data),t,r),t.seriesMA=l):l=t.seriesMA?t.seriesMA=hm(t.seriesMA,t,r):o}else l=o;t._series_=o=bm(o),t.area=new Array(4);for(let p=0;p<4;p++)t.area[p]=t.padding[p]*t.pix;var c=function(e,t,r,n,i){let o={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(!1===t.legend.show)return n.legendData=o,o;let s=t.legend.padding*t.pix,a=t.legend.margin*t.pix,l=t.legend.fontSize?t.legend.fontSize*t.pix:r.fontSize,c=15*t.pix,u=5*t.pix,h=Math.max(t.legend.lineHeight*t.pix,l);if("top"==t.legend.position||"bottom"==t.legend.position){let r=[],n=0,f=[],d=[];for(let o=0;o<e.length;o++){let s=e[o],a=c+u+dm((s.legendText?s.legendText:s.name)||"undefined",l,i)+t.legend.itemGap*t.pix;n+a>t.width-t.area[1]-t.area[3]?(r.push(d),f.push(n-t.legend.itemGap*t.pix),n=a,d=[s]):(n+=a,d.push(s))}if(d.length){r.push(d),f.push(n-t.legend.itemGap*t.pix),o.widthArr=f;let e=Math.max.apply(null,f);switch(t.legend.float){case"left":o.area.start.x=t.area[3],o.area.end.x=t.area[3]+e+2*s;break;case"right":o.area.start.x=t.width-t.area[1]-e-2*s,o.area.end.x=t.width-t.area[1];break;default:o.area.start.x=(t.width-e)/2-s,o.area.end.x=(t.width+e)/2+s}o.area.width=e+2*s,o.area.wholeWidth=e+2*s,o.area.height=r.length*h+2*s,o.area.wholeHeight=r.length*h+2*s+2*a,o.points=r}}else{let r=e.length,n=t.height-t.area[0]-t.area[2]-2*a-2*s,f=Math.min(Math.floor(n/h),r);switch(o.area.height=f*h+2*s,o.area.wholeHeight=f*h+2*s,t.legend.float){case"top":o.area.start.y=t.area[0]+a,o.area.end.y=t.area[0]+a+o.area.height;break;case"bottom":o.area.start.y=t.height-t.area[2]-a-o.area.height,o.area.end.y=t.height-t.area[2]-a;break;default:o.area.start.y=(t.height-o.area.height)/2,o.area.end.y=(t.height+o.area.height)/2}let d=r%f===0?r/f:Math.floor(r/f+1),p=[];for(let t=0;t<d;t++){let r=e.slice(t*f,t*f+f);p.push(r)}if(o.points=p,p.length){for(let r=0;r<p.length;r++){let e=p[r],n=0;for(let r=0;r<e.length;r++){let o=c+u+dm(e[r].name||"undefined",l,i)+t.legend.itemGap*t.pix;o>n&&(n=o)}o.widthArr.push(n),o.heightArr.push(e.length*h+2*s)}let e=0;for(let t=0;t<o.widthArr.length;t++)e+=o.widthArr[t];o.area.width=e-t.legend.itemGap*t.pix+2*s,o.area.wholeWidth=o.area.width+s}}switch(t.legend.position){case"top":o.area.start.y=t.area[0]+a,o.area.end.y=t.area[0]+a+o.area.height;break;case"bottom":o.area.start.y=t.height-t.area[2]-o.area.height-a,o.area.end.y=t.height-t.area[2]-a;break;case"left":o.area.start.x=t.area[3],o.area.end.x=t.area[3]+o.area.width;break;case"right":o.area.start.x=t.width-t.area[1]-o.area.width,o.area.end.x=t.width-t.area[1]}return n.legendData=o,o}(l,t,r,t.chartData,n),u=c.area.wholeHeight,h=c.area.wholeWidth;switch(t.legend.position){case"top":t.area[0]+=u;break;case"bottom":t.area[2]+=u;break;case"left":t.area[3]+=h;break;case"right":t.area[1]+=h}let f={},d=0;if("line"===t.type||"column"===t.type||"mount"===t.type||"area"===t.type||"mix"===t.type||"candle"===t.type||"scatter"===t.type||"bubble"===t.type||"bar"===t.type){if(f=Fm(o,t,r,n),d=f.yAxisWidth,t.yAxis.showTitle){let e=0;for(let n=0;n<t.yAxis.data.length;n++)e=Math.max(e,t.yAxis.data[n].titleFontSize?t.yAxis.data[n].titleFontSize*t.pix:r.fontSize);t.area[0]+=e}let e=0,i=0;for(let r=0;r<d.length;r++)"left"==d[r].position?(t.area[3]+=i>0?d[r].width+t.yAxis.padding*t.pix:d[r].width,i+=1):"right"==d[r].position&&(t.area[1]+=e>0?d[r].width+t.yAxis.padding*t.pix:d[r].width,e+=1)}else r.yAxisWidth=d;if(t.chartData.yAxisData=f,t.categories&&t.categories.length&&"radar"!==t.type&&"gauge"!==t.type&&"bar"!==t.type){t.chartData.xAxisData=Pm(t.categories,t);let e=Sm(t.categories,t,0,t.chartData.xAxisData.eachSpacing,n),i=e.xAxisHeight,o=e.angle;r.xAxisHeight=i,r._xAxisTextAngle_=o,t.area[2]+=i,t.chartData.categoriesData=e}else if("line"===t.type||"area"===t.type||"scatter"===t.type||"bubble"===t.type||"bar"===t.type){t.chartData.xAxisData=Tm(o,t,r,n);let e=Sm(s=t.chartData.xAxisData.rangesFormat,t,0,t.chartData.xAxisData.eachSpacing,n),i=e.xAxisHeight,a=e.angle;r.xAxisHeight=i,r._xAxisTextAngle_=a,t.area[2]+=i,t.chartData.categoriesData=e}else t.chartData.xAxisData={xAxisPoints:[]};if(t.enableScroll&&"right"==t.xAxis.scrollAlign&&void 0===t._scrollDistance_){let e=0,r=t.chartData.xAxisData.xAxisPoints,n=t.chartData.xAxisData.startX;e=t.chartData.xAxisData.endX-n-t.chartData.xAxisData.eachSpacing*(r.length-1),i.scrollOption.currentOffset=e,i.scrollOption.startTouchX=e,i.scrollOption.distance=0,i.scrollOption.lastMoveTime=0,t._scrollDistance_=e}switch("pie"!==e&&"ring"!==e&&"rose"!==e||(r._pieTextMaxLength_=!1===t.dataLabel?0:function(e,t,r,n){e=Em(e);let i=0;for(let o=0;o<e.length;o++){let s=e[o],a=s.formatter?s.formatter(+s._proportion_.toFixed(2)):nm.toFixed(100*s._proportion_)+"%";i=Math.max(i,dm(a,s.textSize*n.pix||t.fontSize,r))}return i}(l,r,n,t)),e){case"word":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),dv(o,t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"map":n.clearRect(0,0,t.width,t.height),function(e,t,r,n){var i,o,s=rm({},{border:!0,mercator:!1,borderWidth:1,active:!0,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},t.extra.map),a=e,l=function(e){for(var t,r={xMin:180,xMax:0,yMin:90,yMax:0},n=0;n<e.length;n++)for(var i=e[n].geometry.coordinates,o=0;o<i.length;o++){1==(t=i[o]).length&&(t=t[0]);for(var s=0;s<t.length;s++){var a={x:t[s][0],y:t[s][1]};r.xMin=r.xMin<a.x?r.xMin:a.x,r.xMax=r.xMax>a.x?r.xMax:a.x,r.yMin=r.yMin<a.y?r.yMin:a.y,r.yMax=r.yMax>a.y?r.yMax:a.y}}return r}(a);if(s.mercator){var c=av(l.xMax,l.yMax),u=av(l.xMin,l.yMin);l.xMax=c[0],l.yMax=c[1],l.xMin=u[0],l.yMin=u[1]}for(var h=t.width/Math.abs(l.xMax-l.xMin),f=t.height/Math.abs(l.yMax-l.yMin),d=h<f?h:f,p=t.width/2-Math.abs(l.xMax-l.xMin)/2*d,g=t.height/2-Math.abs(l.yMax-l.yMin)/2*d,y=0;y<a.length;y++){n.beginPath(),n.setLineWidth(s.borderWidth*t.pix),n.setStrokeStyle(s.borderColor),n.setFillStyle(im(e[y].color,e[y].fillOpacity||s.fillOpacity)),1==s.active&&t.tooltip&&t.tooltip.index==y&&(n.setStrokeStyle(s.activeBorderColor),n.setFillStyle(im(s.activeFillColor,s.activeFillOpacity)));for(var m=a[y].geometry.coordinates,v=0;v<m.length;v++){1==(i=m[v]).length&&(i=i[0]);for(var b=0;b<i.length;b++){var _=Array(2);o=lv((_=s.mercator?av(i[b][0],i[b][1]):i[b])[1],_[0],l,d,p,g),0===b?(n.beginPath(),n.moveTo(o.x,o.y)):n.lineTo(o.x,o.y)}n.fill(),1==s.border&&n.stroke()}}if(1==t.dataLabel)for(y=0;y<a.length;y++){var x=a[y].properties.centroid;if(x){s.mercator&&(x=av(a[y].properties.centroid[0],a[y].properties.centroid[1])),o=lv(x[1],x[0],l,d,p,g);let e=a[y].textSize*t.pix||r.fontSize,i=a[y].textColor||t.fontColor;s.active&&s.activeTextColor&&t.tooltip&&t.tooltip.index==y&&(i=s.activeTextColor);let c=a[y].properties.name;n.beginPath(),n.setFontSize(e),n.setFillStyle(i),n.fillText(c,o.x-dm(c,e,n)/2,o.y+e/2),n.closePath(),n.stroke()}}t.chartData.mapData={bounds:l,scale:d,xoffset:p,yoffset:g,mercator:s.mercator},Zm(t,r,n,1),n.draw()}(o,t,r,n),setTimeout(()=>{this.uevent.trigger("renderComplete")},50);break;case"funnel":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),t.chartData.funnelData=pv(o,t,r,n,e),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"line":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),tv(0,t,0,n),ev(s,t,r,n);var i=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=rm({},{type:"straight",width:2,activeType:"none",linearType:"none",onShadow:!1,animation:"vertical"},t.extra.line);o.width*=t.pix;let s=t.chartData.xAxisData,a=s.xAxisPoints,l=s.eachSpacing;var c=[];n.save();let u=0,h=t.width+l;return t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(n.translate(t._scrollDistance_,0),u=-t._scrollDistance_-2*l+t.area[3],h=u+(t.xAxis.itemCount+4)*l),e.forEach(function(e,s){let f,d,p;n.beginPath(),n.setStrokeStyle(e.color),n.moveTo(-1e4,-1e4),n.lineTo(-10001,-10001),n.stroke(),f=[].concat(t.chartData.yAxisData.ranges[e.index]),d=f.pop(),p=f.shift();var g=function(e,t,r,n,i,o,s,a,l){l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;var c=o.xAxis.boundaryGap,u=[],h=o.height-o.area[0]-o.area[2],f=o.width-o.area[1]-o.area[3];return e.forEach(function(e,s){if(null===e)u.push(null);else{var d={};if(d.color=e.color,"vertical"==a.animation){d.x=n[s];var p=e;if("object"==typeof e&&null!==e)if(e.constructor.toString().indexOf("Array")>-1){let t,r,n;t=[].concat(o.chartData.xAxisData.ranges),r=t.shift(),n=t.pop(),p=e[1],d.x=o.area[3]+f*(e[0]-r)/(n-r)}else p=e.value;"center"==c&&(d.x+=i/2);var g=h*(p-t)/(r-t);g*=l,d.y=o.height-g-o.area[2],u.push(d)}else d.x=n[0]+i*s*l,p=e,"center"==c&&(d.x+=i/2),g=h*(p-t)/(r-t),d.y=o.height-g-o.area[2],u.push(d)}}),u}(e.data,d,p,a,l,t,r,o,i);c.push(g);var y=wm(g,e);if("dash"==e.lineType){let r=e.dashLength?e.dashLength:8;r*=t.pix,n.setLineDash([r,r])}n.beginPath();var m=e.color;if("none"!==o.linearType&&e.linearColor&&e.linearColor.length>0){for(var v=n.createLinearGradient(t.chartData.xAxisData.startX,t.height/2,t.chartData.xAxisData.endX,t.height/2),b=0;b<e.linearColor.length;b++)v.addColorStop(e.linearColor[b][0],im(e.linearColor[b][1],1));m=v}n.setStrokeStyle(m),1==o.onShadow&&e.setShadow&&e.setShadow.length>0?n.setShadow(e.setShadow[0],e.setShadow[1],e.setShadow[2],e.setShadow[3]):n.setShadow(0,0,0,"rgba(0,0,0,0)"),n.setLineWidth(o.width),y.forEach(function(e,t){if(1===e.length)n.moveTo(e[0].x,e[0].y);else{n.moveTo(e[0].x,e[0].y);let t=0;if("curve"===o.type)for(let i=0;i<e.length;i++){let o=e[i];if(0==t&&o.x>u&&(n.moveTo(o.x,o.y),t=1),i>0&&o.x>u&&o.x<h){var r=lm(e,i-1);n.bezierCurveTo(r.ctrA.x,r.ctrA.y,r.ctrB.x,r.ctrB.y,o.x,o.y)}}if("straight"===o.type)for(let r=0;r<e.length;r++){let i=e[r];0==t&&i.x>u&&(n.moveTo(i.x,i.y),t=1),r>0&&i.x>u&&i.x<h&&n.lineTo(i.x,i.y)}if("step"===o.type)for(let r=0;r<e.length;r++){let i=e[r];0==t&&i.x>u&&(n.moveTo(i.x,i.y),t=1),r>0&&i.x>u&&i.x<h&&(n.lineTo(i.x,e[r-1].y),n.lineTo(i.x,i.y))}n.moveTo(e[0].x,e[0].y)}}),n.stroke(),n.setLineDash([]),!1!==t.dataPointShape&&Nm(g,e.color,e.pointShape,n,t),Wm(g,e.color,e.pointShape,n,t,o)}),!1!==t.dataLabel&&1===i&&e.forEach(function(e,o){let s,c,u;s=[].concat(t.chartData.yAxisData.ranges[e.index]),c=s.pop(),u=s.shift(),$m(Om(e.data,c,u,a,l,t,r,i),e,r,n,t)}),n.restore(),{xAxisPoints:a,calPoints:c,eachSpacing:l}}(o,t,r,n,e),a=i.xAxisPoints,l=i.calPoints,c=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=l,t.chartData.eachSpacing=c,rv(0,t,r,n),!1!==t.enableMarkLine&&1===e&&qm(t,0,n),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"scatter":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),tv(0,t,0,n),ev(s,t,r,n);var i=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;rm({},{type:"circle"},t.extra.scatter);let o=t.chartData.xAxisData,s=o.xAxisPoints,a=o.eachSpacing;n.save();let l=0;return t.width,t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(n.translate(t._scrollDistance_,0),l=-t._scrollDistance_-2*a+t.area[3],t.xAxis.itemCount),e.forEach(function(e,o){let l,c,u;l=[].concat(t.chartData.yAxisData.ranges[e.index]),c=l.pop(),u=l.shift();var h=Om(e.data,c,u,s,a,t,r,i);n.beginPath(),n.setStrokeStyle(e.color),n.setFillStyle(e.color),n.setLineWidth(1*t.pix);var f=e.pointShape;if("diamond"===f)h.forEach(function(e,t){null!==e&&(n.moveTo(e.x,e.y-4.5),n.lineTo(e.x-4.5,e.y),n.lineTo(e.x,e.y+4.5),n.lineTo(e.x+4.5,e.y),n.lineTo(e.x,e.y-4.5))});else if("circle"===f)h.forEach(function(e,r){null!==e&&(n.moveTo(e.x+2.5*t.pix,e.y),n.arc(e.x,e.y,3*t.pix,0,2*Math.PI,!1))});else if("square"===f)h.forEach(function(e,t){null!==e&&(n.moveTo(e.x-3.5,e.y-3.5),n.rect(e.x-3.5,e.y-3.5,7,7))});else if("triangle"===f)h.forEach(function(e,t){null!==e&&(n.moveTo(e.x,e.y-4.5),n.lineTo(e.x-4.5,e.y+4.5),n.lineTo(e.x+4.5,e.y+4.5),n.lineTo(e.x,e.y-4.5))});else if("triangle"===f)return;n.closePath(),n.fill(),n.stroke()}),!1!==t.dataLabel&&1===i&&e.forEach(function(e,o){let l,c,u;l=[].concat(t.chartData.yAxisData.ranges[e.index]),c=l.pop(),u=l.shift(),$m(Om(e.data,c,u,s,a,t,r,i),e,r,n,t)}),n.restore(),{xAxisPoints:s,calPoints:[],eachSpacing:a}}(o,t,r,n,e),a=i.xAxisPoints,l=i.calPoints,c=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=l,t.chartData.eachSpacing=c,rv(0,t,r,n),!1!==t.enableMarkLine&&1===e&&qm(t,0,n),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"bubble":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),tv(0,t,0,n),ev(s,t,r,n);var i=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=rm({},{opacity:1,border:2},t.extra.bubble);let s=t.chartData.xAxisData,a=s.xAxisPoints,l=s.eachSpacing;n.save();let c=0;return t.width,t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(n.translate(t._scrollDistance_,0),c=-t._scrollDistance_-2*l+t.area[3],t.xAxis.itemCount),e.forEach(function(e,s){let c,u,h;c=[].concat(t.chartData.yAxisData.ranges[e.index]),u=c.pop(),h=c.shift();var f=Om(e.data,u,h,a,l,t,r,i);n.beginPath(),n.setStrokeStyle(e.color),n.setLineWidth(o.border*t.pix),n.setFillStyle(im(e.color,o.opacity)),f.forEach(function(e,r){n.moveTo(e.x+e.r,e.y),n.arc(e.x,e.y,e.r*t.pix,0,2*Math.PI,!1)}),n.closePath(),n.fill(),n.stroke(),!1!==t.dataLabel&&1===i&&f.forEach(function(i,o){n.beginPath();var s=e.textSize*t.pix||r.fontSize;n.setFontSize(s),n.setFillStyle(e.textColor||"#FFFFFF"),n.setTextAlign("center"),n.fillText(String(i.t),i.x,i.y+s/2),n.closePath(),n.stroke(),n.setTextAlign("left")})}),n.restore(),{xAxisPoints:a,calPoints:[],eachSpacing:l}}(o,t,r,n,e),a=i.xAxisPoints,l=i.calPoints,c=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=l,t.chartData.eachSpacing=c,rv(0,t,r,n),!1!==t.enableMarkLine&&1===e&&qm(t,0,n),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"mix":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),tv(0,t,0,n),ev(s,t,r,n);var i=function(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=t.chartData.xAxisData,s=o.xAxisPoints,a=o.eachSpacing,l=rm({},{width:a/2,barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.mix.column),c=rm({},{opacity:.2,gradient:!1},t.extra.mix.area),u=rm({},{width:2},t.extra.mix.line),h=t.height-t.area[2],f=[];var d=0,p=0;e.forEach(function(e,t){"column"==e.type&&(p+=1)}),n.save();let g=-2,y=s.length+2,m=0,v=t.width+a;t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(n.translate(t._scrollDistance_,0),g=Math.floor(-t._scrollDistance_/a)-2,y=g+t.xAxis.itemCount+4,m=-t._scrollDistance_-2*a+t.area[3],v=m+(t.xAxis.itemCount+4)*a),l.customColor=fm(l.linearType,l.customColor,e,r),e.forEach(function(e,o){let b,_,x;b=[].concat(t.chartData.yAxisData.ranges[e.index]),_=b.pop(),x=b.shift();var w=Om(e.data,_,x,s,a,t,r,i);if(f.push(w),"column"==e.type){w=km(w,a,p,d,0,t);for(let r=0;r<w.length;r++){let i=w[r];if(null!==i&&r>g&&r<y){var S=i.x-i.width/2;t.height,i.y,t.area[2],n.beginPath();var T=i.color||e.color,E=i.color||e.color;if("none"!==l.linearType){var A=n.createLinearGradient(S,i.y,S,t.height-t.area[2]);"opacity"==l.linearType?(A.addColorStop(0,im(T,l.linearOpacity)),A.addColorStop(1,im(T,1))):(A.addColorStop(0,im(l.customColor[e.linearIndex],l.linearOpacity)),A.addColorStop(l.colorStop,im(l.customColor[e.linearIndex],l.linearOpacity)),A.addColorStop(1,im(T,1))),T=A}if(l.barBorderRadius&&4===l.barBorderRadius.length||l.barBorderCircle){const e=S,r=i.y,o=i.width,s=t.height-t.area[2]-i.y;l.barBorderCircle&&(l.barBorderRadius=[o/2,o/2,0,0]);let[a,c,u,h]=l.barBorderRadius,f=Math.min(o/2,s/2);a=a>f?f:a,c=c>f?f:c,u=u>f?f:u,h=h>f?f:h,a=a<0?0:a,c=c<0?0:c,u=u<0?0:u,h=h<0?0:h,n.arc(e+a,r+a,a,-Math.PI,-Math.PI/2),n.arc(e+o-c,r+c,c,-Math.PI/2,0),n.arc(e+o-u,r+s-u,u,0,Math.PI/2),n.arc(e+h,r+s-h,h,Math.PI/2,Math.PI)}else n.moveTo(S,i.y),n.lineTo(S+i.width,i.y),n.lineTo(S+i.width,t.height-t.area[2]),n.lineTo(S,t.height-t.area[2]),n.lineTo(S,i.y),n.setLineWidth(1),n.setStrokeStyle(E);n.setFillStyle(T),n.closePath(),n.fill()}}d+=1}if("area"==e.type){let r=wm(w,e);for(let i=0;i<r.length;i++){let o=r[i];if(n.beginPath(),n.setStrokeStyle(e.color),n.setStrokeStyle(im(e.color,c.opacity)),c.gradient){let r=n.createLinearGradient(0,t.area[0],0,t.height-t.area[2]);r.addColorStop("0",im(e.color,c.opacity)),r.addColorStop("1.0",im("#FFFFFF",.1)),n.setFillStyle(r)}else n.setFillStyle(im(e.color,c.opacity));if(n.setLineWidth(2*t.pix),o.length>1){var k=o[0];let t=o[o.length-1];n.moveTo(k.x,k.y);let r=0;if("curve"===e.style)for(let e=0;e<o.length;e++){let t=o[e];if(0==r&&t.x>m&&(n.moveTo(t.x,t.y),r=1),e>0&&t.x>m&&t.x<v){var C=lm(o,e-1);n.bezierCurveTo(C.ctrA.x,C.ctrA.y,C.ctrB.x,C.ctrB.y,t.x,t.y)}}else for(let e=0;e<o.length;e++){let t=o[e];0==r&&t.x>m&&(n.moveTo(t.x,t.y),r=1),e>0&&t.x>m&&t.x<v&&n.lineTo(t.x,t.y)}n.lineTo(t.x,h),n.lineTo(k.x,h),n.lineTo(k.x,k.y)}else{let e=o[0];n.moveTo(e.x-a/2,e.y)}n.closePath(),n.fill()}}"line"==e.type&&wm(w,e).forEach(function(r,i){if("dash"==e.lineType){let r=e.dashLength?e.dashLength:8;r*=t.pix,n.setLineDash([r,r])}if(n.beginPath(),n.setStrokeStyle(e.color),n.setLineWidth(u.width*t.pix),1===r.length)n.moveTo(r[0].x,r[0].y);else{n.moveTo(r[0].x,r[0].y);let t=0;if("curve"==e.style)for(let e=0;e<r.length;e++){let i=r[e];if(0==t&&i.x>m&&(n.moveTo(i.x,i.y),t=1),e>0&&i.x>m&&i.x<v){var o=lm(r,e-1);n.bezierCurveTo(o.ctrA.x,o.ctrA.y,o.ctrB.x,o.ctrB.y,i.x,i.y)}}else for(let e=0;e<r.length;e++){let i=r[e];0==t&&i.x>m&&(n.moveTo(i.x,i.y),t=1),e>0&&i.x>m&&i.x<v&&n.lineTo(i.x,i.y)}n.moveTo(r[0].x,r[0].y)}n.stroke(),n.setLineDash([])}),"point"==e.type&&(e.addPoint=!0),1==e.addPoint&&"column"!==e.type&&Nm(w,e.color,e.pointShape,n,t)}),!1!==t.dataLabel&&1===i&&(d=0,e.forEach(function(e,o){let l,c,u;l=[].concat(t.chartData.yAxisData.ranges[e.index]),c=l.pop(),u=l.shift();var h=Om(e.data,c,u,s,a,t,r,i);"column"!==e.type?$m(h,e,r,n,t):($m(h=km(h,a,p,d,0,t),e,r,n,t),d+=1)}));return n.restore(),{xAxisPoints:s,calPoints:f,eachSpacing:a}}(o,t,r,n,e),a=i.xAxisPoints,l=i.calPoints,c=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=l,t.chartData.eachSpacing=c,rv(0,t,r,n),!1!==t.enableMarkLine&&1===e&&qm(t,0,n),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"column":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),tv(0,t,0,n),ev(s,t,r,n);var i=Km(o,t,r,n,e),a=i.xAxisPoints,l=i.calPoints,c=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=l,t.chartData.eachSpacing=c,rv(0,t,r,n),!1!==t.enableMarkLine&&1===e&&qm(t,0,n),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"mount":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),tv(0,t,0,n),ev(s,t,r,n);var i=Xm(o,t,r,n,e),a=i.xAxisPoints,l=i.calPoints,c=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=l,t.chartData.eachSpacing=c,rv(0,t,r,n),!1!==t.enableMarkLine&&1===e&&qm(t,0,n),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"bar":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),ev(s,t,r,n);var i=Qm(o,t,r,n,e),a=i.yAxisPoints,l=i.calPoints,c=i.eachSpacing;t.chartData.yAxisPoints=a,t.chartData.xAxisPoints=t.chartData.xAxisData.xAxisPoints,t.chartData.calPoints=l,t.chartData.eachSpacing=c,rv(0,t,r,n),!1!==t.enableMarkLine&&1===e&&qm(t,0,n),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"area":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),tv(0,t,0,n),ev(s,t,r,n);var i=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=rm({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1,activeType:"none"},t.extra.area);let s=t.chartData.xAxisData,a=s.xAxisPoints,l=s.eachSpacing,c=t.height-t.area[2],u=[];n.save();let h=0,f=t.width+l;return t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(n.translate(t._scrollDistance_,0),h=-t._scrollDistance_-2*l+t.area[3],f=h+(t.xAxis.itemCount+4)*l),e.forEach(function(e,s){let d,p,g;d=[].concat(t.chartData.yAxisData.ranges[e.index]),p=d.pop(),g=d.shift();let y=Om(e.data,p,g,a,l,t,r,i);u.push(y);let m=wm(y,e);for(let r=0;r<m.length;r++){let i=m[r];if(n.beginPath(),n.setStrokeStyle(im(e.color,o.opacity)),o.gradient){let r=n.createLinearGradient(0,t.area[0],0,t.height-t.area[2]);r.addColorStop("0",im(e.color,o.opacity)),r.addColorStop("1.0",im("#FFFFFF",.1)),n.setFillStyle(r)}else n.setFillStyle(im(e.color,o.opacity));if(n.setLineWidth(o.width*t.pix),i.length>1){let e=i[0],t=i[i.length-1];n.moveTo(e.x,e.y);let r=0;if("curve"===o.type)for(let o=0;o<i.length;o++){let e=i[o];if(0==r&&e.x>h&&(n.moveTo(e.x,e.y),r=1),o>0&&e.x>h&&e.x<f){let t=lm(i,o-1);n.bezierCurveTo(t.ctrA.x,t.ctrA.y,t.ctrB.x,t.ctrB.y,e.x,e.y)}}if("straight"===o.type)for(let o=0;o<i.length;o++){let e=i[o];0==r&&e.x>h&&(n.moveTo(e.x,e.y),r=1),o>0&&e.x>h&&e.x<f&&n.lineTo(e.x,e.y)}if("step"===o.type)for(let o=0;o<i.length;o++){let e=i[o];0==r&&e.x>h&&(n.moveTo(e.x,e.y),r=1),o>0&&e.x>h&&e.x<f&&(n.lineTo(e.x,i[o-1].y),n.lineTo(e.x,e.y))}n.lineTo(t.x,c),n.lineTo(e.x,c),n.lineTo(e.x,e.y)}else{let e=i[0];n.moveTo(e.x-l/2,e.y)}if(n.closePath(),n.fill(),o.addLine){if("dash"==e.lineType){let r=e.dashLength?e.dashLength:8;r*=t.pix,n.setLineDash([r,r])}if(n.beginPath(),n.setStrokeStyle(e.color),n.setLineWidth(o.width*t.pix),1===i.length)n.moveTo(i[0].x,i[0].y);else{n.moveTo(i[0].x,i[0].y);let e=0;if("curve"===o.type)for(let t=0;t<i.length;t++){let r=i[t];if(0==e&&r.x>h&&(n.moveTo(r.x,r.y),e=1),t>0&&r.x>h&&r.x<f){let e=lm(i,t-1);n.bezierCurveTo(e.ctrA.x,e.ctrA.y,e.ctrB.x,e.ctrB.y,r.x,r.y)}}if("straight"===o.type)for(let t=0;t<i.length;t++){let r=i[t];0==e&&r.x>h&&(n.moveTo(r.x,r.y),e=1),t>0&&r.x>h&&r.x<f&&n.lineTo(r.x,r.y)}if("step"===o.type)for(let t=0;t<i.length;t++){let r=i[t];0==e&&r.x>h&&(n.moveTo(r.x,r.y),e=1),t>0&&r.x>h&&r.x<f&&(n.lineTo(r.x,i[t-1].y),n.lineTo(r.x,r.y))}n.moveTo(i[0].x,i[0].y)}n.stroke(),n.setLineDash([])}}!1!==t.dataPointShape&&Nm(y,e.color,e.pointShape,n,t),Wm(y,e.color,e.pointShape,n,t,o,s)}),!1!==t.dataLabel&&1===i&&e.forEach(function(e,o){let s,c,u;s=[].concat(t.chartData.yAxisData.ranges[e.index]),c=s.pop(),u=s.shift(),$m(Om(e.data,c,u,a,l,t,r,i),e,r,n,t)}),n.restore(),{xAxisPoints:a,calPoints:u,eachSpacing:l}}(o,t,r,n,e),a=i.xAxisPoints,l=i.calPoints,c=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=l,t.chartData.eachSpacing=c,rv(0,t,r,n),!1!==t.enableMarkLine&&1===e&&qm(t,0,n),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"ring":case"pie":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),t.chartData.pieData=iv(o,t,r,n,e),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"rose":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),t.chartData.pieData=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=rm({},{type:"area",activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF",linearType:"none",customColor:[]},t.extra.rose);0==r.pieChartLinePadding&&(r.pieChartLinePadding=o.activeRadius*t.pix);var s={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2},a=Math.min((t.width-t.area[1]-t.area[3])/2-r.pieChartLinePadding-r.pieChartTextPadding-r._pieTextMaxLength_,(t.height-t.area[0]-t.area[2])/2-r.pieChartLinePadding-r.pieChartTextPadding);a=a<10?10:a;var l=o.minRadius||.5*a;a<l&&(a=l+10),e=Am(e,o.type,l,a,i);var c=o.activeRadius*t.pix;return o.customColor=fm(o.linearType,o.customColor,e,r),(e=e.map(function(e){return e._start_+=(o.offsetAngle||0)*Math.PI/180,e})).forEach(function(e,r){t.tooltip&&t.tooltip.index==r&&(n.beginPath(),n.setFillStyle(im(e.color,o.activeOpacity||.5)),n.moveTo(s.x,s.y),n.arc(s.x,s.y,c+e._radius_,e._start_,e._start_+2*e._rose_proportion_*Math.PI),n.closePath(),n.fill()),n.beginPath(),n.setLineWidth(o.borderWidth*t.pix),n.lineJoin="round",n.setStrokeStyle(o.borderColor);var i,a=e.color;"custom"==o.linearType&&((i=n.createCircularGradient?n.createCircularGradient(s.x,s.y,e._radius_):n.createRadialGradient(s.x,s.y,0,s.x,s.y,e._radius_)).addColorStop(0,im(o.customColor[e.linearIndex],1)),i.addColorStop(1,im(e.color,1)),a=i),n.setFillStyle(a),n.moveTo(s.x,s.y),n.arc(s.x,s.y,e._radius_,e._start_,e._start_+2*e._rose_proportion_*Math.PI),n.closePath(),n.fill(),1==o.border&&n.stroke()}),!1!==t.dataLabel&&1===i&&Hm(e,t,r,n,0,s),{center:s,radius:a,series:e}}(o,t,r,n,e),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"radar":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),t.chartData.radarData=sv(o,t,r,n,e),nv(t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),t.chartData.arcbarData=function(e,t,r,n){var i,o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=rm({},{startAngle:.75,endAngle:.25,type:"default",direction:"cw",lineCap:"round",width:12,gap:2,linearType:"none",customColor:[]},t.extra.arcbar);e=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==r&&(r=.999999);for(let n=0;n<e.length;n++){let i,o=e[n];o.data=null===o.data?0:o.data,i="circle"==t.type?2:"ccw"==t.direction?t.startAngle<t.endAngle?2+t.startAngle-t.endAngle:t.startAngle-t.endAngle:t.endAngle<t.startAngle?2+t.endAngle-t.startAngle:t.startAngle-t.endAngle,o._proportion_=i*o.data*r+t.startAngle,"ccw"==t.direction&&(o._proportion_=t.startAngle-i*o.data*r),o._proportion_>=2&&(o._proportion_=o._proportion_%2)}return e}(e,a,s),i=a.centerX||a.centerY?{x:a.centerX?a.centerX:t.width/2,y:a.centerY?a.centerY:t.height/2}:{x:t.width/2,y:t.height/2},a.radius?o=a.radius:(o=Math.min(i.x,i.y),o-=5*t.pix,o-=a.width/2),o=o<10?10:o,a.customColor=fm(a.linearType,a.customColor,e,r);for(let u=0;u<e.length;u++){let r=e[u];n.setLineWidth(a.width*t.pix),n.setStrokeStyle(a.backgroundColor||"#E9E9E9"),n.setLineCap(a.lineCap),n.beginPath(),"default"==a.type?n.arc(i.x,i.y,o-(a.width*t.pix+a.gap*t.pix)*u,a.startAngle*Math.PI,a.endAngle*Math.PI,"ccw"==a.direction):n.arc(i.x,i.y,o-(a.width*t.pix+a.gap*t.pix)*u,0,2*Math.PI,"ccw"==a.direction),n.stroke();var l=r.color;if("custom"==a.linearType){var c=n.createLinearGradient(i.x-o,i.y,i.x+o,i.y);c.addColorStop(1,im(a.customColor[r.linearIndex],1)),c.addColorStop(0,im(r.color,1)),l=c}n.setLineWidth(a.width*t.pix),n.setStrokeStyle(l),n.setLineCap(a.lineCap),n.beginPath(),n.arc(i.x,i.y,o-(a.width*t.pix+a.gap*t.pix)*u,a.startAngle*Math.PI,r._proportion_*Math.PI,"ccw"==a.direction),n.stroke()}return Um(t,r,n,i),{center:i,radius:o,series:e}}(o,t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),t.chartData.gaugeData=ov(s,o,t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}});break;case"candle":this.animationInstance=new mv({timing:t.timing,duration:a,onProcess:function(e){n.clearRect(0,0,t.width,t.height),t.rotate&&jm(n,t),tv(0,t,0,n),ev(s,t,r,n);var i=Jm(o,l,t,r,n,e),a=i.xAxisPoints,c=i.calPoints,u=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=c,t.chartData.eachSpacing=u,rv(0,t,r,n),!1!==t.enableMarkLine&&1===e&&qm(t,0,n),nv(l?0:t.series,t,r,n,t.chartData),Zm(t,r,n,e),gv(0,n)},onAnimationFinish:function(){i.uevent.trigger("renderComplete")}})}}function bv(){this.events={}}mv.prototype.stop=function(){this.isStop=!0},bv.prototype.addEventListener=function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},bv.prototype.delEventListener=function(e){this.events[e]=[]},bv.prototype.trigger=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],i=t.slice(1);this.events[n]&&this.events[n].forEach(function(e){try{e.apply(null,i)}catch(t){}})};var _v=function(e){e.pix=e.pixelRatio?e.pixelRatio:1,e.fontSize=e.fontSize?e.fontSize:13,e.fontColor=e.fontColor?e.fontColor:tm.fontColor,""!=e.background&&"none"!=e.background||(e.background="#FFFFFF"),e.title=rm({},e.title),e.subtitle=rm({},e.subtitle),e.duration=e.duration?e.duration:1e3,e.yAxis=rm({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,gridSet:"number",splitNumber:5,gridType:"solid",dashLength:4*e.pix,gridColor:"#cccccc",padding:10,fontColor:"#666666"},e.yAxis),e.xAxis=rm({},{rotateLabel:!1,rotateAngle:45,disabled:!1,disableGrid:!1,splitNumber:5,calibration:!1,fontColor:"#666666",fontSize:13,lineHeight:20,marginTop:0,gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc",titleFontSize:13,titleOffsetY:0,titleOffsetX:0,titleFontColor:"#666666"},e.xAxis),e.xAxis.scrollPosition=e.xAxis.scrollAlign,e.legend=rm({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:e.fontSize,lineHeight:e.fontSize,fontColor:e.fontColor,formatter:{},hiddenColor:"#CECECE"},e.legend),e.extra=rm({tooltip:{legendShape:"auto"}},e.extra),e.rotate=!!e.rotate,e.animation=!!e.animation,e.rotate=!!e.rotate,e.canvas2d=!!e.canvas2d;let t=rm({},tm);if(t.color=e.color?e.color:t.color,"pie"==e.type&&(t.pieChartLinePadding=!1===e.dataLabel?0:e.extra.pie.labelWidth*e.pix||t.pieChartLinePadding*e.pix),"ring"==e.type&&(t.pieChartLinePadding=!1===e.dataLabel?0:e.extra.ring.labelWidth*e.pix||t.pieChartLinePadding*e.pix),"rose"==e.type&&(t.pieChartLinePadding=!1===e.dataLabel?0:e.extra.rose.labelWidth*e.pix||t.pieChartLinePadding*e.pix),t.pieChartTextPadding=!1===e.dataLabel?0:t.pieChartTextPadding*e.pix,t.rotate=e.rotate,e.rotate){let t=e.width,r=e.height;e.width=r,e.height=t}if(e.padding=e.padding?e.padding:t.padding,t.yAxisWidth=tm.yAxisWidth*e.pix,t.fontSize=e.fontSize*e.pix,t.titleFontSize=tm.titleFontSize*e.pix,t.subtitleFontSize=tm.subtitleFontSize*e.pix,!e.context)throw new Error("[uCharts] contextv2.0canvasopts.context");this.context=e.context,this.context.setTextAlign||(this.context.setStrokeStyle=function(e){return this.strokeStyle=e},this.context.setLineWidth=function(e){return this.lineWidth=e},this.context.setLineCap=function(e){return this.lineCap=e},this.context.setFontSize=function(e){return this.font=e+"px sans-serif"},this.context.setFillStyle=function(e){return this.fillStyle=e},this.context.setTextAlign=function(e){return this.textAlign=e},this.context.setTextBaseline=function(e){return this.textBaseline=e},this.context.setShadow=function(e,t,r,n){this.shadowColor=n,this.shadowOffsetX=e,this.shadowOffsetY=t,this.shadowBlur=r},this.context.draw=function(){}),this.context.setLineDash||(this.context.setLineDash=function(e){}),e.chartData={},this.uevent=new bv,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=e,this.config=t,vv.call(this,e.type,e,t,this.context)};_v.prototype.updateData=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(this.opts=rm({},this.opts,e),this.opts.updateData=!0,e.scrollPosition||"current"){case"current":this.opts._scrollDistance_=this.scrollOption.currentOffset;break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":let e=Fm(this.opts.series,this.opts,this.config,this.context).yAxisWidth;this.config.yAxisWidth=e;let t=0,r=Pm(this.opts.categories,this.opts,this.config),n=r.xAxisPoints,i=r.startX;t=r.endX-i-r.eachSpacing*(n.length-1),this.scrollOption={currentOffset:t,startTouchX:t,distance:0,lastMoveTime:0},this.opts._scrollDistance_=t}vv.call(this,this.opts.type,this.opts,this.config,this.context)},_v.prototype.zoom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.xAxis.itemCount;if(!0!==this.opts.enableScroll)return void console.log("[uCharts] ");let t=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=e.itemCount;let r=Fm(this.opts.series,this.opts,this.config,this.context).yAxisWidth;this.config.yAxisWidth=r;let n=0,i=Pm(this.opts.categories,this.opts,this.config),o=i.xAxisPoints,s=i.startX,a=i.endX,l=i.eachSpacing,c=l*t,u=a-s,h=u-l*(o.length-1);n=u/2-c,n>0&&(n=0),n<h&&(n=h),this.scrollOption={currentOffset:n,startTouchX:0,distance:0,lastMoveTime:0},sm(this,n,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=n,vv.call(this,this.opts.type,this.opts,this.config,this.context)},_v.prototype.dobuleZoom=function(e){if(!0!==this.opts.enableScroll)return void console.log("[uCharts] ");const t=e.changedTouches;if(t.length<2)return;for(var r=0;r<t.length;r++)t[r].x=t[r].x?t[r].x:t[r].clientX,t[r].y=t[r].y?t[r].y:t[r].clientY;const n=[ym(t[0],this.opts,e),ym(t[1],this.opts,e)],i=Math.abs(n[0].x-n[1].x);if(!this.scrollOption.moveCount){let e={changedTouches:[{x:t[0].x,y:this.opts.area[0]/this.opts.pix+2}]},r={changedTouches:[{x:t[1].x,y:this.opts.area[0]/this.opts.pix+2}]};this.opts.rotate&&(e={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:t[0].y}]},r={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:t[1].y}]});const n=this.getCurrentDataIndex(e).index,i=this.getCurrentDataIndex(r).index,o=Math.abs(n-i);return this.scrollOption.moveCount=o,this.scrollOption.moveCurrent1=Math.min(n,i),void(this.scrollOption.moveCurrent2=Math.max(n,i))}let o=i/this.scrollOption.moveCount,s=(this.opts.width-this.opts.area[1]-this.opts.area[3])/o;s=s<=2?2:s,s=s>=this.opts.categories.length?this.opts.categories.length:s,this.opts.animation=!1,this.opts.xAxis.itemCount=s;let a=0,l=Pm(this.opts.categories,this.opts,this.config),c=l.xAxisPoints,u=l.startX,h=l.endX,f=l.eachSpacing,d=f*this.scrollOption.moveCurrent1,p=h-u-f*(c.length-1);a=-d+Math.min(n[0].x,n[1].x)-this.opts.area[3]-f,a>0&&(a=0),a<p&&(a=p),this.scrollOption.currentOffset=a,this.scrollOption.startTouchX=0,this.scrollOption.distance=0,sm(this,a,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=a,vv.call(this,this.opts.type,this.opts,this.config,this.context)},_v.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()},_v.prototype.addEventListener=function(e,t){this.uevent.addEventListener(e,t)},_v.prototype.delEventListener=function(e){this.uevent.delEventListener(e)},_v.prototype.getCurrentDataIndex=function(e){var t=null;if(t=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0]){let r=ym(t,this.opts,e);return"pie"===this.opts.type||"ring"===this.opts.type?function(e,t,r){var n=-1,i=Em(t.series);if(t&&t.center&&xm(e,t.center,t.radius)){var o=Math.atan2(t.center.y-e.y,e.x-t.center.x);o=-o,r.extra.pie&&r.extra.pie.offsetAngle&&(o-=r.extra.pie.offsetAngle*Math.PI/180),r.extra.ring&&r.extra.ring.offsetAngle&&(o-=r.extra.ring.offsetAngle*Math.PI/180);for(var s=0,a=i.length;s<a;s++)if(am(o,i[s]._start_,i[s]._start_+2*i[s]._proportion_*Math.PI)){n=s;break}}return n}({x:r.x,y:r.y},this.opts.chartData.pieData,this.opts):"rose"===this.opts.type?function(e,t,r){var n=-1,i=Am(r._series_,r.extra.rose.type,t.radius,t.radius);if(t&&t.center&&xm(e,t.center,t.radius)){var o=Math.atan2(t.center.y-e.y,e.x-t.center.x);o=-o,r.extra.rose&&r.extra.rose.offsetAngle&&(o-=r.extra.rose.offsetAngle*Math.PI/180);for(var s=0,a=i.length;s<a;s++)if(am(o,i[s]._start_,i[s]._start_+2*i[s]._rose_proportion_*Math.PI)){n=s;break}}return n}({x:r.x,y:r.y},this.opts.chartData.pieData,this.opts):"radar"===this.opts.type?function(e,t,r){var n=2*Math.PI/r,i=-1;if(xm(e,t.center,t.radius)){var o=function(e){return e<0&&(e+=2*Math.PI),e>2*Math.PI&&(e-=2*Math.PI),e},s=Math.atan2(t.center.y-e.y,e.x-t.center.x);(s*=-1)<0&&(s+=2*Math.PI),t.angleList.map(function(e){return o(-1*e)}).forEach(function(e,t){var r=o(e-n/2),a=o(e+n/2);a<r&&(a+=2*Math.PI),(s>=r&&s<=a||s+2*Math.PI>=r&&s+2*Math.PI<=a)&&(i=t)})}return i}({x:r.x,y:r.y},this.opts.chartData.radarData,this.opts.categories.length):"funnel"===this.opts.type?function(e,t){for(var r=-1,n=0,i=t.series.length;n<i;n++){var o=t.series[n];if(e.x>o.funnelArea[0]&&e.x<o.funnelArea[2]&&e.y>o.funnelArea[1]&&e.y<o.funnelArea[3]){r=n;break}}return r}({x:r.x,y:r.y},this.opts.chartData.funnelData):"map"===this.opts.type?function(e,t){for(var r,n,i,o,s,a,l=-1,c=t.chartData.mapData,u=t.series,h=(r=e.y,n=e.x,i=c.bounds,o=c.scale,s=c.xoffset,a=c.yoffset,{x:(n-s)/o+i.xMin,y:i.yMax-(r-a)/o}),f=[h.x,h.y],d=0,p=u.length;d<p;d++)if(uv(f,u[d].geometry.coordinates,t.chartData.mapData.mercator)){l=d;break}return l}({x:r.x,y:r.y},this.opts):"word"===this.opts.type?function(e,t){for(var r=-1,n=0,i=t.length;n<i;n++){var o=t[n];if(e.x>o.area[0]&&e.x<o.area[2]&&e.y>o.area[1]&&e.y<o.area[3]){r=n;break}}return r}({x:r.x,y:r.y},this.opts.chartData.wordCloudData):"bar"===this.opts.type?function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o={index:-1,group:[]},s=r.chartData.eachSpacing/2;let a=r.chartData.yAxisPoints;return t&&t.length>0&&_m(e,r)&&a.forEach(function(t,r){e.y+i+s>t&&(o.index=r)}),o}({x:r.x,y:r.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset)):function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o={index:-1,group:[]},s=r.chartData.eachSpacing/2;let a=[];if(t&&t.length>0){if(r.categories){for(let e=1;e<r.chartData.xAxisPoints.length;e++)a.push(r.chartData.xAxisPoints[e]-s);"line"!=r.type&&"area"!=r.type||"justify"!=r.xAxis.boundaryGap||(a=r.chartData.xAxisPoints)}else s=0;if(_m(e,r))if(r.categories)a.forEach(function(t,r){e.x+i+s>t&&(o.index=r)});else{let r=Array(t.length);for(let o=0;o<t.length;o++){r[o]=Array(t[o].length);for(let n=0;n<t[o].length;n++)r[o][n]=Math.abs(t[o][n].x-e.x)}let n=Array(r.length),i=Array(r.length);for(let e=0;e<r.length;e++)n[e]=Math.min.apply(null,r[e]),i[e]=r[e].indexOf(n[e]);let s=Math.min.apply(null,n);o.index=[];for(let e=0;e<n.length;e++)n[e]==s&&(o.group.push(e),o.index.push(i[e]))}}return o}({x:r.x,y:r.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1},_v.prototype.getLegendDataIndex=function(e){var t=null;if(t=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0]){let r=ym(t,this.opts,e);return function(e,t){let r=-1;if(function(e,t){return e.x>t.start.x&&e.x<t.end.x&&e.y>t.start.y&&e.y<t.end.y}(e,t.area)){let n=t.points,i=-1;for(let t=0,o=n.length;t<o;t++){let o=n[t];for(let t=0;t<o.length;t++){i+=1;let n=o[t].area;if(n&&e.x>n[0]-0&&e.x<n[2]+0&&e.y>n[1]-0&&e.y<n[3]+0){r=i;break}}}return r}return r}({x:r.x,y:r.y},this.opts.chartData.legendData)}return-1},_v.prototype.touchLegend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;if(r=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0]){ym(r,this.opts,e);var n=this.getLegendDataIndex(e);n>=0&&("candle"==this.opts.type?this.opts.seriesMA[n].show=!this.opts.seriesMA[n].show:this.opts.series[n].show=!this.opts.series[n].show,this.opts.animation=!!t.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,vv.call(this,this.opts.type,this.opts,this.config,this.context))}},_v.prototype.showToolTip=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;(r=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0])||console.log("[uCharts] event");var n=ym(r,this.opts,e),i=this.scrollOption.currentOffset,o=rm({},this.opts,{_scrollDistance_:i,animation:!1});if("line"===this.opts.type||"area"===this.opts.type||"column"===this.opts.type||"scatter"===this.opts.type||"bubble"===this.opts.type){var s=this.getCurrentDataIndex(e);if((f=null==t.index?s.index:t.index)>-1||f.length>0)if(0!==(l=mm(this.opts.series,f,s.group)).length){var a=(h=vm(l,this.opts,f,s.group,this.opts.categories,t)).textList;(c=h.offset).y=n.y,o.tooltip={textList:void 0!==t.textList?t.textList:a,offset:void 0!==t.offset?t.offset:c,option:t,index:f,group:s.group}}vv.call(this,o.type,o,this.config,this.context)}if("mount"===this.opts.type){if((f=null==t.index?this.getCurrentDataIndex(e).index:t.index)>-1){o=rm({},this.opts,{animation:!1});var l=rm({},o._series_[f]),c=(a=[{text:t.formatter?t.formatter(l,void 0,f,o):l.name+": "+l.data,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],{x:o.chartData.calPoints[f].x,y:n.y});o.tooltip={textList:t.textList?t.textList:a,offset:void 0!==t.offset?t.offset:c,option:t,index:f}}vv.call(this,o.type,o,this.config,this.context)}if("bar"===this.opts.type){s=this.getCurrentDataIndex(e);if((f=null==t.index?s.index:t.index)>-1||f.length>0)if(0!==(l=mm(this.opts.series,f,s.group)).length){a=(h=vm(l,this.opts,f,s.group,this.opts.categories,t)).textList;(c=h.offset).x=n.x,o.tooltip={textList:void 0!==t.textList?t.textList:a,offset:void 0!==t.offset?t.offset:c,option:t,index:f}}vv.call(this,o.type,o,this.config,this.context)}if("mix"===this.opts.type){s=this.getCurrentDataIndex(e);if((f=null==t.index?s.index:t.index)>-1){i=this.scrollOption.currentOffset,o=rm({},this.opts,{_scrollDistance_:i,animation:!1});if(0!==(l=mm(this.opts.series,f)).length){var u=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=t.chartData.xAxisPoints[r]+t.chartData.eachSpacing/2,s=e.map(function(e){return{text:i.formatter?i.formatter(e,n[r],r,t):e.name+": "+e.data,color:e.color,disableLegend:!!e.disableLegend,legendShape:"auto"==t.extra.tooltip.legendShape?e.legendShape:t.extra.tooltip.legendShape}});return{textList:s=s.filter(function(e){if(!0!==e.disableLegend)return e}),offset:{x:Math.round(o),y:0}}}(l,this.opts,f,this.opts.categories,t);a=u.textList;(c=u.offset).y=n.y,o.tooltip={textList:t.textList?t.textList:a,offset:void 0!==t.offset?t.offset:c,option:t,index:f}}}vv.call(this,o.type,o,this.config,this.context)}if("candle"===this.opts.type){s=this.getCurrentDataIndex(e);if((f=null==t.index?s.index:t.index)>-1){i=this.scrollOption.currentOffset,o=rm({},this.opts,{_scrollDistance_:i,animation:!1});if(0!==(l=mm(this.opts.series,f)).length){var h=function(e,t,r,n,i,o){var s=r.chartData.calPoints;let a=o.color.upFill,l=o.color.downFill,c=[a,a,l,a];var u=[];t.map(function(t){0==n?t.data[1]-t.data[0]<0?c[1]=l:c[1]=a:(t.data[0]<e[n-1][1]&&(c[0]=l),t.data[1]<t.data[0]&&(c[1]=l),t.data[2]>e[n-1][1]&&(c[2]=a),t.data[3]<e[n-1][1]&&(c[3]=l));let i={text:""+t.data[0],color:c[0],legendShape:"auto"==r.extra.tooltip.legendShape?t.legendShape:r.extra.tooltip.legendShape},o={text:""+t.data[1],color:c[1],legendShape:"auto"==r.extra.tooltip.legendShape?t.legendShape:r.extra.tooltip.legendShape},s={text:""+t.data[2],color:c[2],legendShape:"auto"==r.extra.tooltip.legendShape?t.legendShape:r.extra.tooltip.legendShape},h={text:""+t.data[3],color:c[3],legendShape:"auto"==r.extra.tooltip.legendShape?t.legendShape:r.extra.tooltip.legendShape};u.push(i,o,s,h)});var h=[],f={x:0,y:0};for(let d=0;d<s.length;d++){let e=s[d];void 0!==e[n]&&null!==e[n]&&h.push(e[n])}return f.x=Math.round(h[0][0].x),{textList:u,offset:f}}(this.opts.series[0].data,l,this.opts,f,this.opts.categories,this.opts.extra.candle);a=h.textList;(c=h.offset).y=n.y,o.tooltip={textList:t.textList?t.textList:a,offset:void 0!==t.offset?t.offset:c,option:t,index:f}}}vv.call(this,o.type,o,this.config,this.context)}if("pie"===this.opts.type||"ring"===this.opts.type||"rose"===this.opts.type||"funnel"===this.opts.type){if((f=null==t.index?this.getCurrentDataIndex(e):t.index)>-1){o=rm({},this.opts,{animation:!1}),l=rm({},o._series_[f]),a=[{text:t.formatter?t.formatter(l,void 0,f,o):l.name+": "+l.data,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],c={x:n.x,y:n.y};o.tooltip={textList:t.textList?t.textList:a,offset:void 0!==t.offset?t.offset:c,option:t,index:f}}vv.call(this,o.type,o,this.config,this.context)}if("map"===this.opts.type){if((f=null==t.index?this.getCurrentDataIndex(e):t.index)>-1){o=rm({},this.opts,{animation:!1});(l=rm({},this.opts.series[f])).name=l.properties.name;a=[{text:t.formatter?t.formatter(l,void 0,f,this.opts):l.name,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],c={x:n.x,y:n.y};o.tooltip={textList:t.textList?t.textList:a,offset:void 0!==t.offset?t.offset:c,option:t,index:f}}o.updateData=!1,vv.call(this,o.type,o,this.config,this.context)}if("word"===this.opts.type){if((f=null==t.index?this.getCurrentDataIndex(e):t.index)>-1){o=rm({},this.opts,{animation:!1}),l=rm({},this.opts.series[f]),a=[{text:t.formatter?t.formatter(l,void 0,f,this.opts):l.name,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],c={x:n.x,y:n.y};o.tooltip={textList:t.textList?t.textList:a,offset:void 0!==t.offset?t.offset:c,option:t,index:f}}o.updateData=!1,vv.call(this,o.type,o,this.config,this.context)}if("radar"===this.opts.type){var f;if((f=null==t.index?this.getCurrentDataIndex(e):t.index)>-1){o=rm({},this.opts,{animation:!1});if(0!==(l=mm(this.opts.series,f)).length){a=l.map(e=>({text:t.formatter?t.formatter(e,this.opts.categories[f],f,this.opts):e.name+": "+e.data,color:e.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?e.legendShape:this.opts.extra.tooltip.legendShape})),c={x:n.x,y:n.y};o.tooltip={textList:t.textList?t.textList:a,offset:void 0!==t.offset?t.offset:c,option:t,index:f}}}vv.call(this,o.type,o,this.config,this.context)}},_v.prototype.translate=function(e){this.scrollOption={currentOffset:e,startTouchX:e,distance:0,lastMoveTime:0};let t=rm({},this.opts,{_scrollDistance_:e,animation:!1});vv.call(this,this.opts.type,t,this.config,this.context)},_v.prototype.scrollStart=function(e){var t=null,r=ym(t=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0],this.opts,e);t&&!0===this.opts.enableScroll&&(this.scrollOption.startTouchX=r.x)},_v.prototype.scroll=function(e){0===this.scrollOption.lastMoveTime&&(this.scrollOption.lastMoveTime=Date.now());let t=this.opts.touchMoveLimit||60,r=Date.now();if(!(r-this.scrollOption.lastMoveTime<Math.floor(1e3/t))&&0!=this.scrollOption.startTouchX){this.scrollOption.lastMoveTime=r;var n=null;if((n=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0])&&!0===this.opts.enableScroll){var i;i=ym(n,this.opts,e).x-this.scrollOption.startTouchX;var o=this.scrollOption.currentOffset,s=sm(this,o+i,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=i=s-o;var a=rm({},this.opts,{_scrollDistance_:o+i,animation:!1});return this.opts=a,vv.call(this,a.type,a,this.config,this.context),o+i}}},_v.prototype.scrollEnd=function(e){if(!0===this.opts.enableScroll){var t=this.scrollOption,r=t.currentOffset,n=t.distance;this.scrollOption.currentOffset=r+n,this.scrollOption.distance=0,this.scrollOption.moveCount=0}};const xv=Object.freeze(Object.defineProperty({__proto__:null,default:_v},Symbol.toStringTag,{value:"Module"}));Math.random().toString(36).substr(2,8);const wv={normalMin:50,normalMax:200,warningMin:50,warningMax:200},Sv={targetTime:23,bathTimeStart:20,bathTimeEnd:21,bathDuration:1};function Tv(e){if(!e||0===e.length)return 0;let t=0;const r=60*Sv.bathTimeStart,n=60*Sv.bathTimeEnd,i=60*Sv.bathDuration;let o=0;e.forEach(e=>{if(e.worn){t++;const i=60*e.hour+e.minute;i>=r&&i<n&&o++}});const s=Math.min(o,i);return parseFloat(((t-s)/60).toFixed(2))}function Ev(e){e||(e=new Date);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function Av(e){const t=[],r=e?new Date(e):new Date;for(let n=0;n<24;n++)for(let e=0;e<60;e+=30){const i=n>=Sv.bathTimeStart&&n<Sv.bathTimeEnd;let o=!i;!i&&Math.random()<.05&&(o=!1);let s=0;o&&(s=Math.floor(70*Math.random())+80,Math.random()<.05&&(s=Math.random()<.5?Math.floor(30*Math.random())+20:Math.floor(50*Math.random())+200)),t.push({hour:n,minute:e,worn:o,pressure:s,timestamp:new Date(r.getFullYear(),r.getMonth(),r.getDate(),n,e).getTime()})}return t}const kv=Xy(ni({__name:"monthly-report",setup(e){const t=$r(Ig("currentPatient")||{name:"",deviceId:""}),r=$r((new Date).getMonth()+1),n=$r((new Date).getFullYear()),i=$r([]),o=$r(null),s=hs(()=>i.value.reduce((e,t)=>e+t.wearTime,0).toFixed(1)),a=hs(()=>i.value.filter(e=>"normal"===e.status).length),l=hs(()=>0===i.value.length?0:Math.round(a.value/i.value.length*100)),c=e=>{switch(e){case"normal":return"";case"abnormal":return"";case"reasonable":return"";default:return""}};Si(()=>{i.value=function(e,t){const r=new Date(e,t,0).getDate(),n=[];for(let i=1;i<=r;i++){const r=new Date(e,t-1,i),o=Av(r.toISOString().split("T")[0]),s=Tv(o);let a="normal";s<Sv.targetTime&&(a=Math.random()<.3?"reasonable":"abnormal");const l=o.filter(e=>e.worn).map(e=>e.pressure),c=l.length>0?Math.max(...l):0,u=l.length>0?Math.min(...l):0,h=l.length>0?parseFloat((l.reduce((e,t)=>e+t,0)/l.length).toFixed(2)):0;n.push({date:Ev(r),wearTime:s,status:a,maxPressure:c,minPressure:u,avgPressure:h})}return n}(n.value,r.value),setTimeout(async()=>{await u()},100)});const u=async()=>{const e={categories:i.value.map(e=>e.date.split("-")[2]),series:[{name:"",data:i.value.map(e=>e.wearTime),color:"#1890ff"},{name:"",data:i.value.map(()=>Sv.targetTime),color:"#52c41a",lineType:"dash"}]},t=await new Promise(e=>{af().select("#monthlyChart").fields({node:!0,size:!0}).exec(t=>{e(t[0].node)})}),r=t.getContext("2d"),{width:n,height:o}=t;new _v({context:r,type:"line",fontSize:12,legend:!0,dataLabel:!1,dataPointShape:!0,background:"#FFFFFF",pixelRatio:Pg().pixelRatio,categories:e.categories,series:e.series,animation:!0,xAxis:{disableGrid:!0,axisLine:!0,axisLabel:!0,itemCount:10},yAxis:{gridType:"dash",dashLength:2,splitNumber:5,min:0,max:24},width:n,height:o,extra:{line:{type:"straight",width:2,activeType:"hollow",animation:!0}}})};return(e,r)=>{const n=Fp,u=Wd;return Oo(),Do(n,{class:"monthly-report-page"},{default:Tn(()=>[$o(n,{class:"page-header"},{default:Tn(()=>[$o(n,{class:"patient-info-card"},{default:Tn(()=>[$o(n,{class:"patient-name"},{default:Tn(()=>[Vo(te(t.value.name),1)]),_:1}),$o(n,{class:"patient-device"},{default:Tn(()=>[Vo("ID: "+te(t.value.deviceId),1)]),_:1})]),_:1})]),_:1}),$o(n,{class:"statistics-section"},{default:Tn(()=>[$o(n,{class:"stat-card"},{default:Tn(()=>[Uo("div",{class:"stat-label"},""),Uo("div",{class:"stat-value"},[Vo(te(s.value),1),Uo("span",{class:"unit"},"")])]),_:1}),$o(n,{class:"stat-card"},{default:Tn(()=>[Uo("div",{class:"stat-label"},""),Uo("div",{class:"stat-value"},[Vo(te(a.value),1),Uo("span",{class:"unit"},"")])]),_:1}),$o(n,{class:"stat-card"},{default:Tn(()=>[Uo("div",{class:"stat-label"},""),Uo("div",{class:"stat-value"},te(l.value)+"%",1)]),_:1})]),_:1}),$o(n,{class:"chart-section"},{default:Tn(()=>[$o(n,{class:"chart-title"},{default:Tn(()=>[Vo("")]),_:1}),$o(u,{ref_key:"monthlyChartRef",ref:o,"canvas-id":"monthlyChart",id:"monthlyChart",class:"monthly-chart"},null,512)]),_:1}),$o(n,{class:"daily-list-section"},{default:Tn(()=>[$o(n,{class:"section-title"},{default:Tn(()=>[Vo("")]),_:1}),$o(n,{class:"daily-list"},{default:Tn(()=>[(Oo(!0),Ro(To,null,Ii(i.value,(e,t)=>(Oo(),Do(n,{key:t,class:"daily-item",onClick:t=>(e=>{Og("currentDailyData",e),Ug({url:"/pages/doctor/daily-detail/daily-detail"})})(e)},{default:Tn(()=>[Uo("div",{class:"day-info"},[Uo("div",{class:"day-date"},te(e.date),1),Uo("div",{class:Xe(["day-status",e.status])},te(c(e.status)),3)]),Uo("div",{class:"day-data"},[Uo("div",{class:"data-item"},[Uo("div",{class:"data-label"},""),Uo("div",{class:"data-value"},te(e.wearTime)+"",1)]),Uo("div",{class:"data-item"},[Uo("div",{class:"data-label"},""),Uo("div",{class:"data-value"},te(e.minPressure)+"-"+te(e.maxPressure)+"kPa",1)])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-9cbdbc52"]]),Cv=Object.freeze(Object.defineProperty({__proto__:null,default:kv},Symbol.toStringTag,{value:"Module"})),Pv=Xy(ni({__name:"daily-detail",setup(e){const t=$r(Ig("currentPatient")||{name:""}),r=$r(Ig("currentDailyData")||{date:"2023-12-01",wearTime:0,minPressure:0,maxPressure:0,avgPressure:0,status:"normal"}),n=$r([]),i=$r(null),o=e=>{switch(e){case"normal":return"";case"abnormal":return"";case"reasonable":return"";default:return""}};Si(async()=>{const e=Av(r.value.date);n.value=s(e),setTimeout(async()=>{await u()},100)});const s=e=>{const t=[];for(let r=0;r<24;r++)t[r]={hour:r,status:"normal",pressure:0};return e.forEach(e=>{const r=e.hour;t[r]||(t[r]={hour:r,status:"normal",pressure:0,count:0}),e.worn&&(t[r].totalPressure||(t[r].totalPressure=0),t[r].count||(t[r].count=0),t[r].totalPressure+=e.pressure,t[r].count++,t[r].pressure=t[r].count>0?t[r].totalPressure/t[r].count:0),e.hour>=Sv.bathTimeStart&&e.hour<Sv.bathTimeEnd?t[r].status="reasonable":e.worn||(t[r].status="abnormal")}),t},a=e=>e>=Sv.bathTimeStart&&e<Sv.bathTimeEnd?"bath-time":"",l=e=>{const t=n.value[e];return t?t.status:"normal"},c=e=>{const t=n.value[e];return t?e>=Sv.bathTimeStart&&e<Sv.bathTimeEnd?"":"normal"===t.status?"":"":""},u=async()=>{const e={categories:n.value.map(e=>e.hour.toString()),series:[{name:"",data:n.value.map(e=>e.pressure),color:"#1890ff"}]},t=await new Promise(e=>{af().select("#pressureChart").fields({node:!0,size:!0}).exec(t=>{e(t[0].node)})}),r=t.getContext("2d"),{width:i,height:o}=t;new _v({context:r,type:"line",fontSize:12,legend:!0,dataLabel:!1,dataPointShape:!0,background:"#FFFFFF",pixelRatio:Pg().pixelRatio,categories:e.categories,series:e.series,animation:!0,xAxis:{disableGrid:!0,axisLine:!0,axisLabel:!0,itemCount:12},yAxis:{gridType:"dash",dashLength:2,splitNumber:5,min:0,max:250},width:i,height:o,extra:{line:{type:"straight",width:2,activeType:"hollow",animation:!0}}})};return(e,n)=>{const s=Fp,u=Wd;return Oo(),Do(s,{class:"daily-detail-page"},{default:Tn(()=>[$o(s,{class:"page-header"},{default:Tn(()=>[$o(s,{class:"patient-date-info"},{default:Tn(()=>[$o(s,{class:"patient-name"},{default:Tn(()=>[Vo(te(t.value.name),1)]),_:1}),$o(s,{class:"detail-date"},{default:Tn(()=>[Vo(te(r.value.date),1)]),_:1})]),_:1})]),_:1}),$o(s,{class:"overview-section"},{default:Tn(()=>[$o(s,{class:"overview-card"},{default:Tn(()=>[Uo("div",{class:"overview-label"},""),Uo("div",{class:"overview-value"},[Vo(te(r.value.wearTime),1),Uo("span",{class:"unit"},"")])]),_:1}),$o(s,{class:"overview-card"},{default:Tn(()=>[Uo("div",{class:"overview-label"},""),Uo("div",{class:"overview-value"},[Vo(te(r.value.minPressure)+"-"+te(r.value.maxPressure),1),Uo("span",{class:"unit"},"kPa")])]),_:1}),$o(s,{class:"overview-card"},{default:Tn(()=>[Uo("div",{class:"overview-label"},""),Uo("div",{class:"overview-value"},[Vo(te(r.value.avgPressure),1),Uo("span",{class:"unit"},"kPa")])]),_:1}),$o(s,{class:"overview-card"},{default:Tn(()=>[Uo("div",{class:"overview-label"},""),Uo("div",{class:Xe(["overview-value status",r.value.status])},te(o(r.value.status)),3)]),_:1})]),_:1}),$o(s,{class:"pressure-chart-section"},{default:Tn(()=>[$o(s,{class:"section-title"},{default:Tn(()=>[Vo("")]),_:1}),$o(u,{ref_key:"pressureChartRef",ref:i,id:"pressureChart",class:"pressure-chart"},null,512)]),_:1}),$o(s,{class:"hourly-list-section"},{default:Tn(()=>[$o(s,{class:"section-title"},{default:Tn(()=>[Vo("24")]),_:1}),$o(s,{class:"hourly-list"},{default:Tn(()=>[(Oo(),Ro(To,null,Ii(24,e=>$o(s,{key:e,class:Xe(["hourly-item",a(e)])},{default:Tn(()=>[Uo("div",{class:"hour-time"},te(e.toString().padStart(2,"0"))+":00",1),Uo("div",{class:Xe(["hour-status",l(e)])},te(c(e)),3)]),_:2},1032,["class"])),64))]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-25ed8d43"]]),Ov=Object.freeze(Object.defineProperty({__proto__:null,default:Pv},Symbol.toStringTag,{value:"Module"})),Mv=""+new URL("image.BnR9DLky.png",import.meta.url).href;var Iv=Object.defineProperty,Lv=Object.getOwnPropertyDescriptor,Rv=Object.getOwnPropertyNames,Dv=Object.prototype.hasOwnProperty,Bv=(e,t)=>()=>(e&&(t=e(e=0)),t),Fv=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),jv=(e,t)=>{for(var r in t)Iv(e,r,{get:t[r],enumerable:!0})},Nv=e=>((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of Rv(t))!Dv.call(e,i)&&i!==r&&Iv(e,i,{get:()=>t[i],enumerable:!(n=Lv(t,i))||n.enumerable});return e})(Iv({},"__esModule",{value:!0}),e),Wv=Bv(()=>{}),Uv={};function $v(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function zv(){!ob||!sb||(ob=!1,sb.length?ib=sb.concat(ib):ab=-1,ib.length&&Vv())}function Vv(){if(!ob){var e=setTimeout(zv,0);ob=!0;for(var t=ib.length;t;){for(sb=ib,ib=[];++ab<t;)sb&&sb[ab].run();ab=-1,t=ib.length}sb=null,ob=!1,clearTimeout(e)}}function Hv(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];ib.push(new qv(e,t)),1===ib.length&&!ob&&setTimeout(Vv,0)}function qv(e,t){this.fun=e,this.array=t}function Gv(){}function Yv(e){$v("_linkedBinding")}function Kv(e){$v("dlopen")}function Xv(){return[]}function Qv(){return[]}function Jv(e,t){if(!e)throw new Error(t||"assertion error")}function Zv(){return!1}function eb(){return r_.now()/1e3}function tb(e){var t=Math.floor(.001*(Date.now()-r_.now())),r=.001*r_.now(),n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n-=e[0],(i-=e[1])<0&&(n--,i+=i_)),[n,i]}function rb(){return y_}function nb(e){return[]}jv(Uv,{_debugEnd:()=>$b,_debugProcess:()=>Ub,_events:()=>s_,_eventsCount:()=>a_,_exiting:()=>Ab,_fatalExceptions:()=>jb,_getActiveHandles:()=>Qv,_getActiveRequests:()=>Xv,_kill:()=>Pb,_linkedBinding:()=>Yv,_maxListeners:()=>o_,_preload_modules:()=>e_,_rawDebug:()=>Sb,_startProfilerIdleNotifier:()=>zb,_stopProfilerIdleNotifier:()=>Vb,_tickCallback:()=>Wb,abort:()=>Yb,addListener:()=>l_,allowedNodeEnvironmentFlags:()=>Bb,arch:()=>cb,argv:()=>fb,argv0:()=>Zb,assert:()=>Jv,binding:()=>mb,browser:()=>wb,chdir:()=>_b,config:()=>kb,cpuUsage:()=>Ob,cwd:()=>bb,debugPort:()=>Jb,default:()=>y_,dlopen:()=>Kv,domain:()=>Eb,emit:()=>d_,emitWarning:()=>yb,env:()=>hb,execArgv:()=>db,execPath:()=>Qb,exit:()=>Rb,features:()=>Fb,hasUncaughtExceptionCaptureCallback:()=>Zv,hrtime:()=>tb,kill:()=>Lb,listeners:()=>nb,memoryUsage:()=>Ib,moduleLoadList:()=>Tb,nextTick:()=>Hv,off:()=>u_,on:()=>rb,once:()=>c_,openStdin:()=>Db,pid:()=>Kb,platform:()=>ub,ppid:()=>Xb,prependListener:()=>p_,prependOnceListener:()=>g_,reallyExit:()=>Cb,release:()=>xb,removeAllListeners:()=>f_,removeListener:()=>h_,resourceUsage:()=>Mb,setSourceMapsEnabled:()=>t_,setUncaughtExceptionCaptureCallback:()=>Nb,stderr:()=>qb,stdin:()=>Gb,stdout:()=>Hb,title:()=>lb,umask:()=>vb,uptime:()=>eb,version:()=>pb,versions:()=>gb});var ib,ob,sb,ab,lb,cb,ub,hb,fb,db,pb,gb,yb,mb,vb,bb,_b,xb,wb,Sb,Tb,Eb,Ab,kb,Cb,Pb,Ob,Mb,Ib,Lb,Rb,Db,Bb,Fb,jb,Nb,Wb,Ub,$b,zb,Vb,Hb,qb,Gb,Yb,Kb,Xb,Qb,Jb,Zb,e_,t_,r_,n_,i_,o_,s_,a_,l_,c_,u_,h_,f_,d_,p_,g_,y_,m_=Bv(()=>{Wv(),L_(),v_(),ib=[],ob=!1,ab=-1,qv.prototype.run=function(){this.fun.apply(null,this.array)},lb="browser",cb="x64",ub="browser",hb={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},fb=["/usr/bin/node"],db=[],pb="v16.8.0",gb={},yb=function(e,t){console.warn((t?t+": ":"")+e)},mb=function(e){$v("binding")},vb=function(e){return 0},bb=function(){return"/"},_b=function(e){},xb={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},wb=!0,Sb=Gv,Tb=[],Eb={},Ab=!1,kb={},Cb=Gv,Pb=Gv,Mb=Ob=function(){return{}},Ib=Ob,Lb=Gv,Rb=Gv,Db=Gv,Bb={},Fb={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},jb=Gv,Nb=Gv,Wb=Gv,Ub=Gv,$b=Gv,zb=Gv,Vb=Gv,Hb=void 0,qb=void 0,Gb=void 0,Yb=Gv,Kb=2,Xb=1,Qb="/bin/usr/node",Jb=9229,Zb="node",e_=[],t_=Gv,void 0===(r_={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0}).now&&(n_=Date.now(),r_.timing&&r_.timing.navigationStart&&(n_=r_.timing.navigationStart),r_.now=()=>Date.now()-n_),i_=1e9,tb.bigint=function(e){var t=tb(e);return typeof BigInt>"u"?t[0]*i_+t[1]:BigInt(t[0]*i_)+BigInt(t[1])},y_={version:pb,versions:gb,arch:cb,platform:ub,browser:wb,release:xb,_rawDebug:Sb,moduleLoadList:Tb,binding:mb,_linkedBinding:Yv,_events:s_={},_eventsCount:a_=0,_maxListeners:o_=10,on:rb,addListener:l_=rb,once:c_=rb,off:u_=rb,removeListener:h_=rb,removeAllListeners:f_=rb,emit:d_=Gv,prependListener:p_=rb,prependOnceListener:g_=rb,listeners:nb,domain:Eb,_exiting:Ab,config:kb,dlopen:Kv,uptime:eb,_getActiveRequests:Xv,_getActiveHandles:Qv,reallyExit:Cb,_kill:Pb,cpuUsage:Ob,resourceUsage:Mb,memoryUsage:Ib,kill:Lb,exit:Rb,openStdin:Db,allowedNodeEnvironmentFlags:Bb,assert:Jv,features:Fb,_fatalExceptions:jb,setUncaughtExceptionCaptureCallback:Nb,hasUncaughtExceptionCaptureCallback:Zv,emitWarning:yb,nextTick:Hv,_tickCallback:Wb,_debugProcess:Ub,_debugEnd:$b,_startProfilerIdleNotifier:zb,_stopProfilerIdleNotifier:Vb,stdout:Hb,stdin:Gb,stderr:qb,abort:Yb,umask:vb,chdir:_b,cwd:bb,env:hb,title:lb,argv:fb,execArgv:db,pid:Kb,ppid:Xb,execPath:Qb,debugPort:Jb,hrtime:tb,argv0:Zb,_preload_modules:e_,setSourceMapsEnabled:t_}}),v_=Bv(()=>{m_()});function b_(){if(E_)return T_;E_=!0;let e=function(){if(x_)return __;x_=!0,__.byteLength=function(e){var t=o(e),r=t[0],n=t[1];return 3*(r+n)/4-n},__.toByteArray=function(e){var n,i,s=o(e),a=s[0],l=s[1],c=new r(function(e,t,r){return 3*(t+r)/4-r}(0,a,l)),u=0,h=l>0?a-4:a;for(i=0;i<h;i+=4)n=t[e.charCodeAt(i)]<<18|t[e.charCodeAt(i+1)]<<12|t[e.charCodeAt(i+2)]<<6|t[e.charCodeAt(i+3)],c[u++]=n>>16&255,c[u++]=n>>8&255,c[u++]=255&n;return 2===l&&(n=t[e.charCodeAt(i)]<<2|t[e.charCodeAt(i+1)]>>4,c[u++]=255&n),1===l&&(n=t[e.charCodeAt(i)]<<10|t[e.charCodeAt(i+1)]<<4|t[e.charCodeAt(i+2)]>>2,c[u++]=n>>8&255,c[u++]=255&n),c},__.fromByteArray=function(t){for(var r,n=t.length,i=n%3,o=[],s=16383,l=0,c=n-i;l<c;l+=s)o.push(a(t,l,l+s>c?c:l+s));return 1===i?(r=t[n-1],o.push(e[r>>2]+e[r<<4&63]+"==")):2===i&&(r=(t[n-2]<<8)+t[n-1],o.push(e[r>>10]+e[r>>4&63]+e[r<<2&63]+"=")),o.join("")};for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function s(t){return e[t>>18&63]+e[t>>12&63]+e[t>>6&63]+e[63&t]}function a(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(s(n));return i.join("")}return t[45]=62,t[95]=63,__}(),t=(S_||(S_=!0,w_.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+e[t+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},w_.write=function(e,t,r,n,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+d]=255&s,d+=p,s/=256,c-=8);e[r+d-p]|=128*g}),w_),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;T_.Buffer=o,T_.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},T_.INSPECT_MAX_BYTES=50;let n=2147483647;function i(e){if(e>n)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let r=0|f(e,t),n=i(r),s=n.write(e,t);return s!==r&&(n=n.slice(0,s)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(q(e,Uint8Array)){let t=new Uint8Array(e);return u(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return u(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);let s=function(e){if(o.isBuffer(e)){let t=0|h(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||G(e.length)?i(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(s)return s;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return a(e),i(e<0?0:0|h(e))}function c(e){let t=e.length<0?0:0|h(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function u(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,o.prototype),n}function h(e){if(e>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:z(e).length;t=(""+t).toLowerCase(),i=!0}}function d(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return E(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return w(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function p(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),G(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){let o,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function m(e,t,r,n){r=Number(r)||0;let i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;let o,s=t.length;for(n>s/2&&(n=s/2),o=0;o<n;++o){let n=parseInt(t.substr(2*o,2),16);if(G(n))return o;e[r+o]=n}return o}function v(e,t,r,n){return H(z(t,e.length-r),e,r,n)}function b(e,t,r,n){return H(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return H(V(t),e,r,n)}function x(e,t,r,n){return H(function(e,t){let r,n,i,o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function w(t,r,n){return 0===r&&n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,n))}function S(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,l;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(l=(31&t)<<6|63&r,l>127&&(o=l));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(l=(15&t)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){let t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}T_.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return function(e,t,r){return a(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}(e,t,r)},o.allocUnsafe=function(e){return l(e)},o.allocUnsafeSlow=function(e){return l(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(q(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(q(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!o.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)p(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):d.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="",t=T_.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(q(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),l=Math.min(s,a),c=this.slice(n,i),u=e.slice(t,r);for(let o=0;o<l;++o)if(c[o]!==u[o]){s=c[o],a=u[o];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}let i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":case"latin1":case"binary":return b(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let T=4096;function E(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=Y[e[o]];return i}function C(e,t,r){let n=e.slice(t,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n,i){N(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function I(e,t,r,n,i){N(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,r,n,i,o){return r=+r,n>>>=0,o||L(e,0,n,4),t.write(e,r,n,i,23,4),n+4}function D(e,r,n,i,o){return r=+r,n>>>=0,o||L(e,0,n,8),t.write(e,r,n,i,52,8),n+8}o.prototype.slice=function(e,t){let r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=K(function(e){W(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&U(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=K(function(e){W(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&U(e,this.length-8);let n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=K(function(e){W(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&U(e,this.length-8);let n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),o.prototype.readBigInt64BE=K(function(e){W(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&U(e,this.length-8);let n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,r){return e>>>=0,r||P(e,4,this.length),t.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,r){return e>>>=0,r||P(e,4,this.length),t.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,r){return e>>>=0,r||P(e,8,this.length),t.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,r){return e>>>=0,r||P(e,8,this.length),t.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=K(function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=K(function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=K(function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=K(function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&0!==n&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};let B={};function F(e,t,r){B[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function j(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function N(e,t,r,n,i,o){if(e>r||e<t){let r,n="bigint"==typeof t?"n":"";throw r=0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`,new B.ERR_OUT_OF_RANGE("value",r,e)}!function(e,t,r){W(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&U(t,e.length-(r+1))}(n,i,o)}function W(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function U(e,t,r){throw Math.floor(e)!==e?(W(e,r),new B.ERR_OUT_OF_RANGE("offset","an integer",e)):t<0?new B.ERR_BUFFER_OUT_OF_BOUNDS:new B.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),F("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),F("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);let $=/[^+/0-9A-Za-z-_]/g;function z(e,t){t=t||1/0;let r,n=e.length,i=null,o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(t){return e.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function G(e){return e!=e}let Y=function(){let e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function K(e){return typeof BigInt>"u"?X:e}function X(){throw new Error("BigInt not supported")}return T_}var __,x_,w_,S_,T_,E_,A_=Bv(()=>{Wv(),L_(),v_(),__={},x_=!1,w_={},S_=!1,T_={},E_=!1}),k_={};jv(k_,{Buffer:()=>P_,INSPECT_MAX_BYTES:()=>O_,default:()=>C_,kMaxLength:()=>M_});var C_,P_,O_,M_,I_=Bv(()=>{Wv(),L_(),v_(),A_(),(C_=b_()).Buffer,C_.SlowBuffer,C_.INSPECT_MAX_BYTES,C_.kMaxLength,P_=C_.Buffer,O_=C_.INSPECT_MAX_BYTES,M_=C_.kMaxLength}),L_=Bv(()=>{I_()}),R_=Fv((e,t)=>{Wv(),L_(),v_();var r=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}};t.exports={AggregateError:r,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error:Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise:Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String:String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean:Boolean,Uint8Array:Uint8Array}}),D_=Fv((e,t)=>{Wv(),L_(),v_(),t.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){let n=t.shift();return"f"===r?n.toFixed(6):"j"===r?JSON.stringify(n):"s"===r&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}}),B_=Fv((e,t)=>{Wv(),L_(),v_();var{format:r,inspect:n}=D_(),{AggregateError:i}=R_(),o=globalThis.AggregateError||i,s=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c={};function u(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function f(e,t,n){n||(n=Error);class i extends n{constructor(...n){super(function(e,t,n){if("function"==typeof t)return u(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);let i=(t.match(/%[dfijoOs]/g)||[]).length;return u(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?t:r(t,...n)}(e,t,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,c[e]=i}function d(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}var p=class extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new c.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}};f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(e,t,r)=>{u("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let i="The ";e.endsWith(" argument")?i+=`${e} `:i+=`"${e}" ${e.includes(".")?"property":"argument"} `,i+="must be ";let o=[],s=[],c=[];for(let n of t)u("string"==typeof n,"All expected entries have to be of type string"),a.includes(n)?o.push(n.toLowerCase()):l.test(n)?s.push(n):(u("object"!==n,'The value "object" should be written as "Object"'),c.push(n));if(s.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:i+=`of type ${o[0]}`;break;case 2:i+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();i+=`one of type ${o.join(", ")}, or ${e}`}}(s.length>0||c.length>0)&&(i+=" or ")}if(s.length>0){switch(s.length){case 1:i+=`an instance of ${s[0]}`;break;case 2:i+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();i+=`an instance of ${s.join(", ")}, or ${e}`}}c.length>0&&(i+=" or ")}switch(c.length){case 0:break;case 1:c[0].toLowerCase()!==c[0]&&(i+="an "),i+=`${c[0]}`;break;case 2:i+=`one of ${c[0]} or ${c[1]}`;break;default:{let e=c.pop();i+=`one of ${c.join(", ")}, or ${e}`}}if(null==r)i+=`. Received ${r}`;else if("function"==typeof r&&r.name)i+=`. Received function ${r.name}`;else if("object"==typeof r){var h;if(null!==(h=r.constructor)&&void 0!==h&&h.name)i+=`. Received an instance of ${r.constructor.name}`;else{i+=`. Received ${n(r,{depth:-1})}`}}else{let e=n(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),i+=`. Received type ${typeof r} (${e})`}return i},TypeError),f("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let i=n(t);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${i}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`},TypeError),f("ERR_MISSING_ARGS",(...e)=>{u(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(e,t,r)=>{let i;if(u(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32)i=h(String(r));else if("bigint"==typeof r){i=String(r);let e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(i=h(i)),i+="n"}else i=n(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${i}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:p,aggregateTwoErrors:d(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new o([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:d,codes:c}}),F_=Fv((e,t)=>{Wv(),L_(),v_();var{AbortController:r,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=r,t.exports.AbortSignal=n,t.exports.default=r}),j_={};function N_(){if(U_)return W_;U_=!0;var e,t="object"==typeof Reflect?Reflect:null,r=t&&"function"==typeof t.apply?t.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}(W_=i).once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}p(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&p(e,"error",t,r)}(e,i,{once:!0})})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,o,l;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),l=o[t]),void 0===l)l=o[t]=r,++e._eventsCount;else if("function"==typeof l?l=o[t]=n?[r,l]:[l,r]:n?l.unshift(r):l.push(r),(i=a(e))>0&&l.length>i&&!l.warned){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=l.length,function(e){console&&console.warn&&console.warn(e)}(c)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):d(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function p(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)})}}return Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,u=d(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,u(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,u(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return h(this,e,!0)},i.prototype.rawListeners=function(e){return h(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},W_}jv(j_,{EventEmitter:()=>z_,default:()=>$_,defaultMaxListeners:()=>V_,init:()=>H_,listenerCount:()=>q_,on:()=>G_,once:()=>Y_});var W_,U_,$_,z_,V_,H_,q_,G_,Y_,K_=Bv(()=>{Wv(),L_(),v_(),W_={},U_=!1,($_=N_()).once,$_.once=function(e,t){return new Promise((r,n)=>{function i(...t){void 0!==o&&e.removeListener("error",o),r(t)}let o;"error"!==t&&(o=t=>{e.removeListener(name,i),n(t)},e.once("error",o)),e.once(t,i)})},$_.on=function(e,t){let r=[],n=[],i=null,o=!1,s={async next(){let e=r.shift();if(e)return createIterResult(e,!1);if(i){let e=Promise.reject(i);return i=null,e}return o?createIterResult(void 0,!0):new Promise((e,t)=>n.push({resolve:e,reject:t}))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(let e of n)e.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(r){i=r,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...e){let t=n.shift();t?t.resolve(createIterResult(e,!1)):r.push(e)}function l(e){o=!0;let t=n.shift();t?t.reject(e):i=e,s.return()}},({EventEmitter:z_,defaultMaxListeners:V_,init:H_,listenerCount:q_,on:G_,once:Y_}=$_)}),X_=Fv((e,t)=>{Wv(),L_(),v_();var r=(I_(),Nv(k_)),{format:n,inspect:i}=D_(),{codes:{ERR_INVALID_ARG_TYPE:o}}=B_(),{kResistStopPropagation:s,AggregateError:a,SymbolDispose:l}=R_(),c=globalThis.AbortSignal||F_().AbortSignal,u=globalThis.AbortController||F_().AbortController,h=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||r.Blob,d=typeof f<"u"?function(e){return e instanceof f}:function(e){return!1},p=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new o(t,"AbortSignal",e)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:n,inspect:i,types:{isAsyncFunction:e=>e instanceof h,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:d,deprecate:(e,t)=>e,addAbortListener:(K_(),Nv(j_)).addAbortListener||function(e,t){if(void 0===e)throw new o("signal","AbortSignal",e);let r;return p(e,"signal"),((e,t)=>{if("function"!=typeof e)throw new o(t,"Function",e)})(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[l](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:c.any||function(e){if(1===e.length)return e[0];let t=new u,r=()=>t.abort();return e.forEach(e=>{p(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Q_=Fv((e,t)=>{Wv(),L_(),v_();var{ArrayIsArray:r,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:i,ArrayPrototypeMap:o,NumberIsInteger:s,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:f,String:d,StringPrototypeToUpperCase:p,StringPrototypeTrim:g}=R_(),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:x}}=B_(),{normalizeEncoding:w}=X_(),{isAsyncFunction:S,isArrayBufferView:T}=X_().types,E={};var A=/^[0-7]+$/;var k=y((e,t,r=c,n=l)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)}),C=y((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)}),P=y((e,t,r=!1)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new _(t,"an integer",e);let n=r?1:0,i=4294967295;if(e<n||e>i)throw new _(t,`>= ${n} && <= ${i}`,e)});function O(e,t){if("string"!=typeof e)throw new v(t,"string",e)}var M=y((e,t,r)=>{if(!n(r,e)){let n="must be one of: "+i(o(r,e=>"string"==typeof e?`'${e}'`:d(e)),", ");throw new b(t,e,n)}});function I(e,t){if("boolean"!=typeof e)throw new v(t,"boolean",e)}function L(e,t,r){return null!=e&&h(e,t)?e[t]:r}var R=y((e,t,n=null)=>{let i=L(n,"allowArray",!1),o=L(n,"allowFunction",!1);if(!L(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new v(t,"Object",e)}),D=y((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new v(t,"a dictionary",e)}),B=y((e,t,n=0)=>{if(!r(e))throw new v(t,"Array",e);if(e.length<n){throw new b(t,e,`must be longer than ${n}`)}});var F=y((e,t="buffer")=>{if(!T(e))throw new v(t,["Buffer","TypedArray","DataView"],e)});var j=y((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new v(t,"AbortSignal",e)}),N=y((e,t)=>{if("function"!=typeof e)throw new v(t,"Function",e)}),W=y((e,t)=>{if("function"!=typeof e||S(e))throw new v(t,"Function",e)}),U=y((e,t)=>{if(void 0!==e)throw new v(t,"undefined",e)});var $=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function z(e,t){if(typeof e>"u"||!f($,e))throw new b(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(typeof e>"u"&&(e=r),"string"==typeof e){if(null===f(A,e))throw new b(t,e,"must be a 32-bit unsigned integer or an octal string");e=u(e,8)}return P(e,t),e},validateArray:B,validateStringArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++)O(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++)I(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++){let n=e[r],i=`${t}[${r}]`;if(null==n)throw new v(i,"AbortSignal",n);j(n,i)}},validateBoolean:I,validateBuffer:F,validateDictionary:D,validateEncoding:function(e,t){let r=w(t),n=e.length;if("hex"===r&&n%2!=0)throw new b("encoding",t,`is invalid for data of length ${n}`)},validateFunction:N,validateInt32:C,validateInteger:k,validateNumber:function(e,t,r=void 0,n){if("number"!=typeof e)throw new v(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&a(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:R,validateOneOf:M,validatePlainFunction:W,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new m(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(O(e,t),void 0===E[e])throw void 0!==E[p(e)]?new x(e+" (signals must use all capital letters)"):new x(e)},validateString:O,validateUint32:P,validateUndefined:U,validateUnion:function(e,t,r){if(!n(r,e))throw new v(t,`('${i(r,"|")}')`,e)},validateAbortSignal:j,validateLinkHeaderValue:function(e){if("string"==typeof e)return z(e,"hints"),e;if(r(e)){let t=e.length,r="";if(0===t)return r;for(let n=0;n<t;n++){let i=e[n];z(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new b("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}}),J_=Fv((e,t)=>{Wv(),L_(),v_();var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch{try{return r.call(null,e,0)}catch{return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch{r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch{n=s}}();var l,c=[],u=!1,h=-1;function f(){!u||!l||(u=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch{try{return n.call(null,e)}catch{return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1===c.length&&!u&&a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),Z_=Fv((e,t)=>{Wv(),L_(),v_();var{SymbolAsyncIterator:r,SymbolIterator:n,SymbolFor:i}=R_(),o=i("nodejs.stream.destroyed"),s=i("nodejs.stream.errored"),a=i("nodejs.stream.readable"),l=i("nodejs.stream.writable"),c=i("nodejs.stream.disturbed"),u=i("nodejs.webstream.isClosedPromise"),h=i("nodejs.webstream.controllerErrorFunction");function f(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function d(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function p(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function g(e){return!(!e||p(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function y(e){return!(!e||p(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function m(e){return!(!e||p(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function v(e){if(!p(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[o]||null!=n&&n.destroyed)}function b(e){if(!d(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function _(e,t){if(!f(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function x(e){return e&&null!=e[a]?e[a]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!v(e)&&(f(e)&&e.readable&&!_(e))}function w(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!v(e)&&(d(e)&&e.writable&&!b(e))}function S(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function T(e){return"boolean"==typeof e._sent100&&S(e)}t.exports={isDestroyed:v,kIsDestroyed:o,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:c,isErrored:function(e){var t,r,n,i,o,a,l,c,u,h;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(a=e[s])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(c=e._writableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null!==(h=e._writableState)&&void 0!==h&&h.errored))},kIsErrored:s,isReadable:x,kIsReadable:a,kIsClosedPromise:u,kControllerErrorFunction:h,kIsWritable:l,isClosed:function(e){if(!p(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&S(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return p(e)?!!v(e)||!(!1!==(null==t?void 0:t.readable)&&x(e)||!1!==(null==t?void 0:t.writable)&&w(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[r]:!1===t?"function"==typeof e[n]:"function"==typeof e[r]||"function"==typeof e[n])},isReadableNodeStream:f,isReadableStream:g,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:_,isReadableErrored:function(e){var t,r;return p(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:p,isWebStream:function(e){return g(e)||y(e)||m(e)},isWritable:w,isWritableNodeStream:d,isWritableStream:y,isWritableEnded:b,isWritableFinished:function(e,t){if(!d(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return p(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:T,willEmitClose:function(e){if(!p(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&T(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:m}}),ex=Fv((e,t)=>{Wv(),L_(),v_();var r,n=J_(),{AbortError:i,codes:o}=B_(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:a}=o,{kEmptyObject:l,once:c}=X_(),{validateAbortSignal:u,validateFunction:h,validateObject:f,validateBoolean:d}=Q_(),{Promise:p,PromisePrototypeThen:g,SymbolDispose:y}=R_(),{isClosed:m,isReadable:v,isReadableNodeStream:b,isReadableStream:_,isReadableFinished:x,isReadableErrored:w,isWritable:S,isWritableNodeStream:T,isWritableStream:E,isWritableFinished:A,isWritableErrored:k,isNodeStream:C,willEmitClose:P,kIsClosedPromise:O}=Z_();var M=()=>{};function I(e,t,o){var d,p;if(2===arguments.length?(o=t,t=l):null==t?t=l:f(t,"options"),h(o,"callback"),u(t.signal,"options.signal"),o=c(o),_(e)||E(e))return function(e,t,o){let s=!1,a=M;if(t.signal)if(a=()=>{s=!0,o.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(a);else{let n=(r=r||X_().addAbortListener)(t.signal,a),i=o;o=c((...t)=>{n[y](),i.apply(e,t)})}let l=(...t)=>{s||n.nextTick(()=>o.apply(e,t))};return g(e[O].promise,l,l),M}(e,t,o);if(!C(e))throw new s("stream",["ReadableStream","WritableStream","Stream"],e);let I=null!==(d=t.readable)&&void 0!==d?d:b(e),L=null!==(p=t.writable)&&void 0!==p?p:T(e),R=e._writableState,D=e._readableState,B=()=>{e.writable||N()},F=P(e)&&b(e)===I&&T(e)===L,j=A(e,!1),N=()=>{j=!0,e.destroyed&&(F=!1),(!F||e.readable&&!I)&&(!I||W)&&o.call(e)},W=x(e,!1),U=()=>{W=!0,e.destroyed&&(F=!1),(!F||e.writable&&!L)&&(!L||j)&&o.call(e)},$=t=>{o.call(e,t)},z=m(e),V=()=>{z=!0;let t=k(e)||w(e);return t&&"boolean"!=typeof t?o.call(e,t):I&&!W&&b(e,!0)&&!x(e,!1)?o.call(e,new a):!L||j||A(e,!1)?void o.call(e):o.call(e,new a)},H=()=>{z=!0;let t=k(e)||w(e);if(t&&"boolean"!=typeof t)return o.call(e,t);o.call(e)},q=()=>{e.req.on("finish",N)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?L&&!R&&(e.on("end",B),e.on("close",B)):(e.on("complete",N),F||e.on("abort",V),e.req?q():e.on("request",q)),!F&&"boolean"==typeof e.aborted&&e.on("aborted",V),e.on("end",U),e.on("finish",N),!1!==t.error&&e.on("error",$),e.on("close",V),z?n.nextTick(V):null!=R&&R.errorEmitted||null!=D&&D.errorEmitted?F||n.nextTick(H):(!I&&(!F||v(e))&&(j||!1===S(e))||!L&&(!F||S(e))&&(W||!1===v(e))||D&&e.req&&e.aborted)&&n.nextTick(H);let G=()=>{o=M,e.removeListener("aborted",V),e.removeListener("complete",N),e.removeListener("abort",V),e.removeListener("request",q),e.req&&e.req.removeListener("finish",N),e.removeListener("end",B),e.removeListener("close",B),e.removeListener("finish",N),e.removeListener("end",U),e.removeListener("error",$),e.removeListener("close",V)};if(t.signal&&!z){let s=()=>{let r=o;G(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(s);else{let n=(r=r||X_().addAbortListener)(t.signal,s),i=o;o=c((...t)=>{n[y](),i.apply(e,t)})}}return G}t.exports=I,t.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=l),null!==(r=t)&&void 0!==r&&r.cleanup&&(d(t.cleanup,"cleanup"),n=t.cleanup),new p((r,i)=>{let o=I(e,t,e=>{n&&o(),e?i(e):r()})})}}),tx=Fv((e,t)=>{Wv(),L_(),v_();var r=J_(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:o}=B_(),{Symbol:s}=R_(),{kIsDestroyed:a,isDestroyed:l,isFinished:c,isServerRequest:u}=Z_(),h=s("kDestroy"),f=s("kConstruct");function d(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function p(e,t,n){let i=!1;function o(t){if(i)return;i=!0;let o=e._readableState,s=e._writableState;d(t,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof n&&n(t),t?r.nextTick(g,e,t):r.nextTick(y,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function g(e,t){m(e,t),y(e)}function y(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function m(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function v(e,t,n){let i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(m,e,t):m(e,t))}function b(e){let t=!1;function n(n){if(t)return void v(e,n??new i);t=!0;let o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(h,n):n?v(e,n,!0):r.nextTick(_,e)}try{e._construct(e=>{r.nextTick(n,e)})}catch(o){r.nextTick(n,o)}}function _(e){e.emit(f)}function x(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function w(e){e.emit("close")}function S(e,t){e.emit("error",t),r.nextTick(w,e)}t.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(f,t),!(e.listenerCount(f)>1)&&r.nextTick(b,e)},destroyer:function(e,t){!e||l(e)||(!t&&!c(e)&&(t=new o),u(e)?(e.socket=null,e.destroy(t)):x(e)?e.abort():x(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?r.nextTick(S,e,t):r.nextTick(w,e),e.destroyed||(e[a]=!0))},destroy:function(e,t){let r=this._readableState,i=this._writableState,o=i||r;return null!=i&&i.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(d(e,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),o.constructed?p(this,e,t):this.once(h,function(r){p(this,n(r,e),t)}),this)},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:v}}),rx=Fv((e,t)=>{Wv(),L_(),v_();var{ArrayIsArray:r,ObjectSetPrototypeOf:n}=R_(),{EventEmitter:i}=(K_(),Nv(j_));function o(e){i.call(this,e)}function s(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}n(o.prototype,i.prototype),n(o,i),o.prototype.pipe=function(e,t){let r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),!e._isStdio&&(!t||!1!==t.end)&&(r.on("end",l),r.on("close",c));let a=!1;function l(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){h(),0===i.listenerCount(this,"error")&&this.emit("error",e)}function h(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",l),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",h),r.removeListener("close",h),e.removeListener("close",h)}return s(r,"error",u),s(e,"error",u),r.on("end",h),r.on("close",h),e.on("close",h),e.emit("pipe",r),e},t.exports={Stream:o,prependListener:s}}),nx=Fv((e,t)=>{Wv(),L_(),v_();var r,{SymbolDispose:n}=R_(),{AbortError:i,codes:o}=B_(),{isNodeStream:s,isWebStream:a,kControllerErrorFunction:l}=Z_(),c=ex(),{ERR_INVALID_ARG_TYPE:u}=o;t.exports.addAbortSignal=function(e,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new u(t,"AbortSignal",e)})(e,"signal"),!s(r)&&!a(r))throw new u("stream",["ReadableStream","WritableStream","Stream"],r);return t.exports.addAbortSignalNoValidate(e,r)},t.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let o=s(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[l](new i(void 0,{cause:e.reason}))};if(e.aborted)o();else{let i=(r=r||X_().addAbortListener)(e,o);c(t,i[n])}return t}}),ix=Fv((e,t)=>{Wv(),L_(),v_();var{StringPrototypeSlice:r,SymbolIterator:n,TypedArrayPrototypeSet:i,Uint8Array:o}=R_(),{Buffer:s}=(I_(),Nv(k_)),{inspect:a}=X_();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);let t=s.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)i(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[n](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,i=0;do{let o=n.data;if(!(e>o.length)){e===o.length?(t+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(o,0,e),this.head=n,n.data=r(o,e));break}t+=o,e-=o.length,++i}while(null!==(n=n.next));return this.length-=i,t}_getBuffer(e){let t=s.allocUnsafe(e),r=e,n=this.head,a=0;do{let s=n.data;if(!(e>s.length)){e===s.length?(i(t,s,r-e),++a,n.next?this.head=n.next:this.head=this.tail=null):(i(t,new o(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}i(t,s,r-e),e-=s.length,++a}while(null!==(n=n.next));return this.length-=a,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return a(this,{...t,depth:0,customInspect:!1})}}}),ox=Fv((e,t)=>{Wv(),L_(),v_();var{MathFloor:r,NumberIsInteger:n}=R_(),{validateInteger:i}=Q_(),{ERR_INVALID_ARG_VALUE:o}=B_().codes,s=16384,a=16;function l(e){return e?a:s}t.exports={getHighWaterMark:function(e,t,i,s){let a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,s,i);if(null!=a){if(!n(a)||a<0){throw new o(s?`options.${i}`:"options.highWaterMark",a)}return r(a)}return l(e.objectMode)},getDefaultHighWaterMark:l,setDefaultHighWaterMark:function(e,t){i(t,"value",0),e?a=t:s=t}}}),sx=Fv((e,t)=>{Wv(),L_(),v_();var r=(I_(),Nv(k_)),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}),ax=Fv(e=>{Wv(),L_(),v_();var t=sx().Buffer,r=t.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(e){var n;switch(this.encoding=function(e){var n=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof n&&(t.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return n||e}(e),this.encoding){case"utf16le":this.text=s,this.end=a,n=4;break;case"utf8":this.fillLast=o,n=4;break;case"base64":this.text=l,this.end=c,n=3;break;default:return this.write=u,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(n)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function a(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function u(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}e.StringDecoder=n,n.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},n.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},n.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=i(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=i(t[n]),o>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=i(t[n]),o>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0))}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},n.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}),lx=Fv((e,t)=>{Wv(),L_(),v_();var r=J_(),{PromisePrototypeThen:n,SymbolAsyncIterator:i,SymbolIterator:o}=R_(),{Buffer:s}=(I_(),Nv(k_)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=B_().codes;t.exports=function(e,t,c){let u,h;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...c,read(){this.push(t),this.push(null)}});if(t&&t[i])h=!0,u=t[i]();else{if(!t||!t[o])throw new a("iterable",["Iterable"],t);h=!1,u=t[o]()}let f=new e({objectMode:!0,highWaterMark:1,...c}),d=!1;return f._read=function(){d||(d=!0,async function(){for(;;){try{let{value:e,done:t}=h?await u.next():u.next();if(t)f.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw d=!1,new l;if(f.push(t))continue;d=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){n(async function(e){let t=null!=e,r="function"==typeof u.throw;if(t&&r){let{value:t,done:r}=await u.throw(e);if(await t,r)return}if("function"==typeof u.return){let{value:e}=await u.return();await e}}(e),()=>r.nextTick(t,e),n=>r.nextTick(t,n||e))},f}}),cx=Fv((e,t)=>{Wv(),L_(),v_();var r=J_(),{ArrayPrototypeIndexOf:n,NumberIsInteger:i,NumberIsNaN:o,NumberParseInt:s,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:u,SafeSet:h,SymbolAsyncDispose:f,SymbolAsyncIterator:d,Symbol:p}=R_();t.exports=q,q.ReadableState=H;var{EventEmitter:g}=(K_(),Nv(j_)),{Stream:y,prependListener:m}=rx(),{Buffer:v}=(I_(),Nv(k_)),{addAbortSignal:b}=nx(),_=ex(),x=X_().debuglog("stream",e=>{x=e}),w=ix(),S=tx(),{getHighWaterMark:T,getDefaultHighWaterMark:E}=ox(),{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:O,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M},AbortError:I}=B_(),{validateObject:L}=Q_(),R=p("kPaused"),{StringDecoder:D}=ax(),B=lx();c(q.prototype,y.prototype),c(q,y);var F=()=>{},{errorOrDestroy:j}=S,N=1,W=16,U=32,$=2048,z=4096;function V(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function H(e,t,r){"boolean"!=typeof r&&(r=t instanceof fx()),this.state=$|z|W|U,e&&e.objectMode&&(this.state|=N),r&&e&&e.readableObjectMode&&(this.state|=N),this.highWaterMark=e?T(this,e,"readableHighWaterMark",r):E(!1),this.buffer=new w,this.length=0,this.pipes=[],this.flowing=null,this[R]=null,e&&!1===e.emitClose&&(this.state&=~$),e&&!1===e.autoDestroy&&(this.state&=~z),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new D(e.encoding),this.encoding=e.encoding)}function q(e){if(!(this instanceof q))return new q(e);let t=this instanceof fx();this._readableState=new H(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&b(e.signal,this)),y.call(this,e),S.construct(this,()=>{this._readableState.needReadable&&Z(this,this._readableState)})}function G(e,t,r,n){x("readableAddChunk",t);let i,o=e._readableState;if(0===(o.state&N)&&("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=v.from(t,r).toString(o.encoding):(t=v.from(t,r),r=""))):t instanceof v?r="":y._isUint8Array(t)?(t=y._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new k("chunk",["string","Buffer","Uint8Array"],t))),i)j(e,i);else if(null===t)o.state&=-9,function(e,t){if(x("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?Q(e):(t.needReadable=!1,t.emittedReadable=!0,J(e))}}(e,o);else if(0!==(o.state&N)||t&&t.length>0)if(n)if(4&o.state)j(e,new M);else{if(o.destroyed||o.errored)return!1;Y(e,o,t,!0)}else if(o.ended)j(e,new O);else{if(o.destroyed||o.errored)return!1;o.state&=-9,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?Y(e,o,t,!1):Z(e,o)):Y(e,o,t,!1)}else n||(o.state&=-9,Z(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function Y(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(65536&t.state?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),!!(64&t.state)&&Q(e)),Z(e,t)}a(H.prototype,{objectMode:V(N),ended:V(2),endEmitted:V(4),reading:V(8),constructed:V(W),sync:V(U),needReadable:V(64),emittedReadable:V(128),readableListening:V(256),resumeScheduled:V(512),errorEmitted:V(1024),emitClose:V($),autoDestroy:V(z),destroyed:V(8192),closed:V(16384),closeEmitted:V(32768),multiAwaitDrain:V(65536),readingMore:V(1<<17),dataEmitted:V(1<<18)}),q.prototype.destroy=S.destroy,q.prototype._undestroy=S.undestroy,q.prototype._destroy=function(e,t){t(e)},q.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},q.prototype[f]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new I,this.destroy(e)),new u((t,r)=>_(this,n=>n&&n!==e?r(n):t(null)))},q.prototype.push=function(e,t){return G(this,e,t,!1)},q.prototype.unshift=function(e,t){return G(this,e,t,!0)},q.prototype.isPaused=function(){let e=this._readableState;return!0===e[R]||!1===e.flowing},q.prototype.setEncoding=function(e){let t=new D(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=t.write(i);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};var K;function X(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&N)?1:o(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function Q(e){let t=e._readableState;x("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(x("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(J,e))}function J(e){let t=e._readableState;x("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ie(e)}function Z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(x("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function te(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[R]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function re(e){x("readable nexttick read 0"),e.read(0)}function ne(e,t){x("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ie(e),t.flowing&&!t.reading&&e.read(0)}function ie(e){let t=e._readableState;for(x("flow",t.flowing);t.flowing&&null!==e.read(););}function oe(e,t){"function"!=typeof e.read&&(e=q.wrap(e,{objectMode:!0}));let r=async function*(e,t){let r=F;function n(t){this===e?(r(),r=F):r=t}e.on("readable",n);let i,o=_(e,{writable:!1},e=>{i=e?A(i,e):null,r(),r=F});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(i)throw i;if(null===i)return;await new u(n)}}}catch(s){throw i=A(i,s),i}finally{!i&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==i&&!e._readableState.autoDestroy?(e.off("readable",n),o()):S.destroyer(e,null)}}(e,t);return r.stream=e,r}function se(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function ae(e){let t=e._readableState;x("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(le,t,e))}function le(e,t){if(x("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(ce,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function ce(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}function ue(){return void 0===K&&(K={}),K}q.prototype.read=function(e){x("read",e),void 0===e?e=NaN:i(e)||(e=s(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new P("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return x("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ae(this):Q(this),null;if(0===(e=X(e,t))&&t.ended)return 0===t.length&&ae(this),null;let n,o=!!(64&t.state);if(x("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&(o=!0,x("length less than watermark",o)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)o=!1,x("reading, ended or constructing",o);else if(o){x("do read"),t.state|=8|U,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(a){j(this,a)}t.state&=~U,t.reading||(e=X(r,t))}return n=e>0?se(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ae(this)),null!==n&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",n)),n},q.prototype._read=function(e){throw new C("_read()")},q.prototype.pipe=function(e,t){let n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new h(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),x("pipe count=%d opts=%j",i.pipes.length,t);let o=t&&!1===t.end||e===r.stdout||e===r.stderr?y:a;function s(t,r){x("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,x("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),l&&e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",s),n.removeListener("end",a),n.removeListener("end",y),n.removeListener("data",f),c=!0,l&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l())}function a(){x("onend"),e.end()}i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",s);let l,c=!1;function u(){c||(1===i.pipes.length&&i.pipes[0]===e?(x("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(x("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),l||(l=function(e,t){return function(){let r=e._readableState;r.awaitDrainWriters===t?(x("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(x("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),(!r.awaitDrainWriters||0===r.awaitDrainWriters.size)&&e.listenerCount("data")&&e.resume()}}(n,e),e.on("drain",l))}function f(t){x("ondata");let r=e.write(t);x("dest.write",r),!1===r&&u()}function d(t){if(x("onerror",t),y(),e.removeListener("error",d),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?j(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",g),y()}function g(){x("onfinish"),e.removeListener("close",p),y()}function y(){x("unpipe"),n.unpipe(e)}return n.on("data",f),m(e,"error",d),e.once("close",p),e.once("finish",g),e.emit("pipe",n),!0===e.writableNeedDrain?u():i.flowing||(x("pipe resume"),n.resume()),e},q.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=n(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},q.prototype.on=function(e,t){let n=y.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,x("on readable",i.length,i.reading),i.length?Q(this):i.reading||r.nextTick(re,this)),n},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(e,t){let n=y.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(te,this),n},q.prototype.off=q.prototype.removeListener,q.prototype.removeAllListeners=function(e){let t=y.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&r.nextTick(te,this),t},q.prototype.resume=function(){let e=this._readableState;return e.flowing||(x("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(ne,e,t))}(this,e)),e[R]=!1,this},q.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[R]=!0,this},q.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{j(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=l(e);for(let n=1;n<r.length;n++){let t=r[n];void 0===this[t]&&"function"==typeof e[t]&&(this[t]=e[t].bind(e))}return this},q.prototype[d]=function(){return oe(this)},q.prototype.iterator=function(e){return void 0!==e&&L(e,"options"),oe(this,e)},a(q.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),a(H.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[R]},set(e){this[R]=!!e}}}),q._fromList=se,q.from=function(e,t){return B(q,e,t)},q.fromWeb=function(e,t){return ue().newStreamReadableFromReadableStream(e,t)},q.toWeb=function(e,t){return ue().newReadableStreamFromStreamReadable(e,t)},q.wrap=function(e,t){var r,n;return new q({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){S.destroyer(e,t),r(t)}}).wrap(e)}}),ux=Fv((e,t)=>{Wv(),L_(),v_();var r=J_(),{ArrayPrototypeSlice:n,Error:i,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:s,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:h}=R_();t.exports=L,L.WritableState=M;var{EventEmitter:f}=(K_(),Nv(j_)),d=rx().Stream,{Buffer:p}=(I_(),Nv(k_)),g=tx(),{addAbortSignal:y}=nx(),{getHighWaterMark:m,getDefaultHighWaterMark:v}=ox(),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:w,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:E,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:k}=B_().codes,{errorOrDestroy:C}=g;function P(){}l(L.prototype,d.prototype),l(L,d);var O=u("kOnFinished");function M(e,t,r){"boolean"!=typeof r&&(r=t instanceof fx()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?m(this,e,"writableHighWaterMark",r):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!(!e||!1!==e.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=F.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,I(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[O]=[]}function I(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function L(e){let t=this instanceof fx();if(!t&&!o(L,this))return new L(e);this._writableState=new M(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&y(e.signal,this)),d.call(this,e),g.construct(this,()=>{let e=this._writableState;e.writing||U(this,e),V(this,e)})}function R(e,t,n,i){let o,s=e._writableState;if("function"==typeof n)i=n,n=s.defaultEncoding;else{if(n){if("buffer"!==n&&!p.isEncoding(n))throw new k(n)}else n=s.defaultEncoding;"function"!=typeof i&&(i=P)}if(null===t)throw new E;if(!s.objectMode)if("string"==typeof t)!1!==s.decodeStrings&&(t=p.from(t,n),n="buffer");else if(t instanceof p)n="buffer";else{if(!d._isUint8Array(t))throw new b("chunk",["string","Buffer","Uint8Array"],t);t=d._uint8ArrayToBuffer(t),n="buffer"}return s.ending?o=new A:s.destroyed&&(o=new S("write")),o?(r.nextTick(i,o),C(e,o,!0),o):(s.pendingcb++,function(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==P&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,s,t,n,i))}function D(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new S("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function B(e,t,r,n){--t.pendingcb,n(r),W(t),C(e,r)}function F(e,t){let n=e._writableState,i=n.sync,o=n.writecb;"function"==typeof o?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?r.nextTick(B,e,n,t,o):B(e,n,t,o)):(n.buffered.length>n.bufferedIndex&&U(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:e,state:n},r.nextTick(j,n.afterWriteTickInfo)):N(e,n,1,o))):C(e,new x)}function j({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,N(e,t,r,n)}function N(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&W(t),V(e,t)}function W(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;let{chunk:r,callback:n}=e.buffered[i],o=e.objectMode?1:r.length;e.length-=o,n(null!==(t=e.errored)&&void 0!==t?t:new S("write"))}let r=e[O].splice(0);for(let i=0;i<r.length;i++){var n;r[i](null!==(n=e.errored)&&void 0!==n?n:new S("end"))}I(e)}function U(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:o}=t,s=r.length-i;if(!s)return;let a=i;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let i=t.allNoop?P:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===a?r:n(r,a);o.allBuffers=t.allBuffers,D(e,t,!0,t.length,o,"",i),I(t)}else{do{let{chunk:n,encoding:i,callback:s}=r[a];r[a++]=null,D(e,t,!1,o?1:n.length,n,i,s)}while(a<r.length&&!t.writing);a===r.length?I(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function $(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function z(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function i(i){if(n)C(e,i??x());else if(n=!0,t.pendingcb--,i){let r=t[O].splice(0);for(let e=0;e<r.length;e++)r[e](i);C(e,i,t.sync)}else $(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(H,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(o){i(o)}t.sync=!1}(e,t)))}function V(e,t,n){$(t)&&(z(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick((e,t)=>{$(t)?H(e,t):t.pendingcb--},e,t)):$(t)&&(t.pendingcb++,H(e,t))))}function H(e,t){t.pendingcb--,t.finished=!0;let r=t[O].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}M.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},s(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(L,h,{__proto__:null,value:function(e){return!!o(this,e)||this===L&&(e&&e._writableState instanceof M)}}),L.prototype.pipe=function(){C(this,new w)},L.prototype.write=function(e,t,r){return!0===R(this,e,t,r)},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||U(this,e))},L.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=c(e)),!p.isEncoding(e))throw new k(e);return this._writableState.defaultEncoding=e,this},L.prototype._write=function(e,t,r){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],r)},L.prototype._writev=null,L.prototype.end=function(e,t,n){let o,s=this._writableState;if("function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e){let r=R(this,e,t);r instanceof i&&(o=r)}return s.corked&&(s.corked=1,this.uncork()),o||(s.errored||s.ending?s.finished?o=new T("end"):s.destroyed&&(o=new S("end")):(s.ending=!0,V(this,s,!0),s.ended=!0)),"function"==typeof n&&(o||s.finished?r.nextTick(n,o):s[O].push(n)),this},a(L.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});var q,G=g.destroy;function Y(){return void 0===q&&(q={}),q}L.prototype.destroy=function(e,t){let n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[O].length)&&r.nextTick(W,n),G.call(this,e,t),this},L.prototype._undestroy=g.undestroy,L.prototype._destroy=function(e,t){t(e)},L.prototype[f.captureRejectionSymbol]=function(e){this.destroy(e)},L.fromWeb=function(e,t){return Y().newStreamWritableFromWritableStream(e,t)},L.toWeb=function(e){return Y().newWritableStreamFromStreamWritable(e)}}),hx=Fv((e,t)=>{Wv(),L_(),v_();var r=J_(),n=(I_(),Nv(k_)),{isReadable:i,isWritable:o,isIterable:s,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:u,isReadableStream:h,isWritableStream:f}=Z_(),d=ex(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y}}=B_(),{destroyer:m}=tx(),v=fx(),b=cx(),_=ux(),{createDeferredPromise:x}=X_(),w=lx(),S=globalThis.Blob||n.Blob,T=typeof S<"u"?function(e){return e instanceof S}:function(e){return!1},E=globalThis.AbortController||F_().AbortController,{FunctionPrototypeCall:A}=R_(),k=class extends v{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};function C(e){let t,r,n,s,a,l=e.readable&&"function"!=typeof e.readable.read?b.wrap(e.readable):e.readable,c=e.writable,u=!!i(l),h=!!o(c);function f(e){let t=s;s=null,t?t(e):e&&a.destroy(e)}return a=new k({readableObjectMode:!(null==l||!l.readableObjectMode),writableObjectMode:!(null==c||!c.writableObjectMode),readable:u,writable:h}),h&&(d(c,e=>{h=!1,e&&m(l,e),f(e)}),a._write=function(e,r,n){c.write(e,r)?n():t=n},a._final=function(e){c.end(),r=e},c.on("drain",function(){if(t){let e=t;t=null,e()}}),c.on("finish",function(){if(r){let e=r;r=null,e()}})),u&&(d(l,e=>{u=!1,e&&m(l,e),f(e)}),l.on("readable",function(){if(n){let e=n;n=null,e()}}),l.on("end",function(){a.push(null)}),a._read=function(){for(;;){let e=l.read();if(null===e)return void(n=a._read);if(!a.push(e))return}}),a._destroy=function(e,i){!e&&null!==s&&(e=new p),n=null,t=null,r=null,null===s?i(e):(s=i,m(c,e),m(l,e))},a}t.exports=function e(t,n){if(u(t))return t;if(l(t))return C({readable:t});if(c(t))return C({writable:t});if(a(t))return C({writable:!1,readable:!1});if(h(t))return C({readable:b.fromWeb(t)});if(f(t))return C({writable:_.fromWeb(t)});if("function"==typeof t){let{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:n}=x(),i=new E,o=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:s,cb:a}=await e;if(r.nextTick(a),s)return;if(o.aborted)throw new p(void 0,{cause:o.reason});({promise:t,resolve:n}=x()),yield i}}(),{signal:o}),write(e,t,r){let i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){let t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return w(k,e,{objectMode:!0,write:i,final:o,destroy:a});let l=null==e?void 0:e.then;if("function"==typeof l){let t,n=A(l,e,e=>{if(null!=e)throw new y("nully","body",e)},e=>{m(t,e)});return t=new k({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}})},destroy:a})}throw new y("Iterable, AsyncIterable or AsyncFunction",n,e)}if(T(t))return e(t.arrayBuffer());if(s(t))return w(k,t,{objectMode:!0,writable:!1});if(h(null==t?void 0:t.readable)&&f(null==t?void 0:t.writable))return k.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable)){return C({readable:null!=t&&t.readable?l(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?c(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0})}let i=null==t?void 0:t.then;if("function"==typeof i){let e;return A(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{m(e,t)}),e=new k({objectMode:!0,writable:!1,read(){}})}throw new g(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}}),fx=Fv((e,t)=>{Wv(),L_(),v_();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:i,ObjectSetPrototypeOf:o}=R_();t.exports=u;var s,a,l=cx(),c=ux();o(u.prototype,l.prototype),o(u,l);{let e=i(c.prototype);for(let t=0;t<e.length;t++){let r=e[t];u.prototype[r]||(u.prototype[r]=c.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function h(){return void 0===s&&(s={}),s}r(u.prototype,{writable:{__proto__:null,...n(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(c.prototype,"writableLength")},writableFinished:{__proto__:null,...n(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return h().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return h().newReadableWritablePairFromDuplex(e)},u.from=function(e){return a||(a=hx()),a(e,"body")}}),dx=Fv((e,t)=>{Wv(),L_(),v_();var{ObjectSetPrototypeOf:r,Symbol:n}=R_();t.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:i}=B_().codes,o=fx(),{getHighWaterMark:s}=ox();r(l.prototype,o.prototype),r(l,o);var a=n("kCallback");function l(e){if(!(this instanceof l))return new l(e);let t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),o.call(this,e),this._readableState.sync=!1,this[a]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function c(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())})}function u(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(e,t,r){throw new i("_transform()")},l.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[a]=r)})},l.prototype._read=function(){if(this[a]){let e=this[a];this[a]=null,e()}}}),px=Fv((e,t)=>{Wv(),L_(),v_();var{ObjectSetPrototypeOf:r}=R_();t.exports=i;var n=dx();function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(i.prototype,n.prototype),r(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}),gx=Fv((e,t)=>{Wv(),L_(),v_();var r,n,i,o=J_(),{ArrayIsArray:s,Promise:a,SymbolAsyncIterator:l,SymbolDispose:c}=R_(),u=ex(),{once:h}=X_(),f=tx(),d=fx(),{aggregateTwoErrors:p,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:v,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:_}=B_(),{validateFunction:x,validateAbortSignal:w}=Q_(),{isIterable:S,isReadable:T,isReadableNodeStream:E,isNodeStream:A,isTransformStream:k,isWebStream:C,isReadableStream:P,isReadableFinished:O}=Z_(),M=globalThis.AbortController||F_().AbortController;function I(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,f.destroyer(e,t||new v("pipe")))},cleanup:u(e,{readable:t,writable:r},e=>{n=!e})}}function L(e){if(S(e))return e;if(E(e))return async function*(e){n||(n=cx()),yield*n.prototype[l].call(e)}(e);throw new g("val",["Readable","Iterable","AsyncIterable"],e)}async function R(e,t,r,{end:n}){let i,o=null,s=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},l=()=>new a((e,t)=>{i?t(i):o=()=>{i?t(i):e()}});t.on("drain",s);let c=u(t,{readable:!1},s);try{t.writableNeedDrain&&await l();for await(let r of e)t.write(r)||await l();n&&(t.end(),await l()),r()}catch(h){r(i!==h?p(i,h):h)}finally{c(),t.off("drain",s)}}async function D(e,t,r,{end:n}){k(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(o){try{await i.abort(o),r(o)}catch(s){r(s)}}}function B(e,t,n){if(1===e.length&&s(e[0])&&(e=e[0]),e.length<2)throw new m("streams");let a,l=new M,u=l.signal,h=null==n?void 0:n.signal,f=[];function p(){N(new _)}w(h,"options.signal"),i=i||X_().addAbortListener,h&&(a=i(h,p));let v,b,x,O=[],B=0;function j(e){N(e,0===--B)}function N(e,r){var n;if(e&&(!v||"ERR_STREAM_PREMATURE_CLOSE"===v.code)&&(v=e),v||r){for(;O.length;)O.shift()(v);null===(n=a)||void 0===n||n[c](),l.abort(),r&&(v||f.forEach(e=>e()),o.nextTick(t,v,b))}}for(let i=0;i<e.length;i++){let t=e[i],s=i<e.length-1,a=i>0,l=s||!1!==(null==n?void 0:n.end),c=i===e.length-1;if(A(t)){let e=function(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&j(e)};if(l){let{destroy:e,cleanup:r}=I(t,s,a);O.push(e),T(t)&&c&&f.push(r)}t.on("error",e),T(t)&&c&&f.push(()=>{t.removeListener("error",e)})}if(0===i)if("function"==typeof t){if(x=t({signal:u}),!S(x))throw new y("Iterable, AsyncIterable or Stream","source",x)}else x=S(t)||E(t)||k(t)?t:d.from(t);else if("function"==typeof t){var W;if(k(x))x=L(null===(W=x)||void 0===W?void 0:W.readable);else x=L(x);if(x=t(x,{signal:u}),s){if(!S(x,!0))throw new y("AsyncIterable",`transform[${i-1}]`,x)}else{var U;r||(r=px());let e=new r({objectMode:!0}),t=null===(U=x)||void 0===U?void 0:U.then;if("function"==typeof t)B++,t.call(x,t=>{b=t,null!=t&&e.write(t),l&&e.end(),o.nextTick(j)},t=>{e.destroy(t),o.nextTick(j,t)});else if(S(x,!0))B++,R(x,e,j,{end:l});else{if(!P(x)&&!k(x))throw new y("AsyncIterable or Promise","destination",x);{let t=x.readable||x;B++,R(t,e,j,{end:l})}}x=e;let{destroy:n,cleanup:i}=I(x,!1,!0);O.push(n),c&&f.push(i)}}else if(A(t)){if(E(x)){B+=2;let e=F(x,t,j,{end:l});T(t)&&c&&f.push(e)}else if(k(x)||P(x)){let e=x.readable||x;B++,R(e,t,j,{end:l})}else{if(!S(x))throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],x);B++,R(x,t,j,{end:l})}x=t}else if(C(t)){if(E(x))B++,D(L(x),t,j,{end:l});else if(P(x)||S(x))B++,D(x,t,j,{end:l});else{if(!k(x))throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],x);B++,D(x.readable,t,j,{end:l})}x=t}else x=d.from(t)}return(null!=u&&u.aborted||null!=h&&h.aborted)&&o.nextTick(p),x}function F(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new b)}),e.pipe(t,{end:!1}),n){let r=function(){i=!0,t.end()};O(e)?o.nextTick(r):e.once("end",r)}else r();return u(e,{readable:!0,writable:!1},t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),u(t,{readable:!1,writable:!0},r)}t.exports={pipelineImpl:B,pipeline:function(...e){return B(e,h(function(e){return x(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}}),yx=Fv((e,t)=>{Wv(),L_(),v_();var{pipeline:r}=gx(),n=fx(),{destroyer:i}=tx(),{isNodeStream:o,isReadable:s,isWritable:a,isWebStream:l,isTransformStream:c,isWritableStream:u,isReadableStream:h}=Z_(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:p}}=B_(),g=ex();t.exports=function(...e){if(0===e.length)throw new p("streams");if(1===e.length)return n.from(e[0]);let t,y,m,v,b,_=[...e];if("function"==typeof e[0]&&(e[0]=n.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=n.from(e[t])}for(let r=0;r<e.length;++r)if(o(e[r])||l(e[r])){if(r<e.length-1&&!(s(e[r])||h(e[r])||c(e[r])))throw new d(`streams[${r}]`,_[r],"must be readable");if(r>0&&!(a(e[r])||u(e[r])||c(e[r])))throw new d(`streams[${r}]`,_[r],"must be writable")}let x=e[0],w=r(e,function(e){let t=v;v=null,t?t(e):e?b.destroy(e):!T&&!S&&b.destroy()}),S=!!(a(x)||u(x)||c(x)),T=!!(s(w)||h(w)||c(w));if(b=new n({writableObjectMode:!(null==x||!x.writableObjectMode),readableObjectMode:!(null==w||!w.readableObjectMode),writable:S,readable:T}),S){if(o(x))b._write=function(e,r,n){x.write(e,r)?n():t=n},b._final=function(e){x.end(),y=e},x.on("drain",function(){if(t){let e=t;t=null,e()}});else if(l(x)){let e=(c(x)?x.writable:x).getWriter();b._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(i){n(i)}},b._final=async function(t){try{await e.ready,e.close().catch(()=>{}),y=t}catch(r){t(r)}}}let e=c(w)?w.readable:w;g(e,()=>{if(y){let e=y;y=null,e()}})}if(T)if(o(w))w.on("readable",function(){if(m){let e=m;m=null,e()}}),w.on("end",function(){b.push(null)}),b._read=function(){for(;;){let e=w.read();if(null===e)return void(m=b._read);if(!b.push(e))return}};else if(l(w)){let e=(c(w)?w.readable:w).getReader();b._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!b.push(t))return;if(r)return void b.push(null)}catch{return}}}return b._destroy=function(e,r){!e&&null!==v&&(e=new f),m=null,t=null,y=null,null===v?r(e):(v=r,o(w)&&i(w,e))},b}}),mx=Fv((e,t)=>{Wv(),L_(),v_();var r=globalThis.AbortController||F_().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:s},AbortError:a}=B_(),{validateAbortSignal:l,validateInteger:c,validateObject:u}=Q_(),h=R_().Symbol("kWeak"),f=R_().Symbol("kResistStopPropagation"),{finished:d}=ex(),p=yx(),{addAbortSignalNoValidate:g}=nx(),{isWritable:y,isNodeStream:m}=Z_(),{deprecate:v}=X_(),{ArrayPrototypePush:b,Boolean:_,MathFloor:x,Number:w,NumberIsNaN:S,Promise:T,PromiseReject:E,PromiseResolve:A,PromisePrototypeThen:k,Symbol:C}=R_(),P=C("kEmpty"),O=C("kEof");function M(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);null!=t&&u(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");let r=1;null!=(null==t?void 0:t.concurrency)&&(r=x(t.concurrency));let n=r-1;return null!=(null==t?void 0:t.highWaterMark)&&(n=x(t.highWaterMark)),c(r,"options.concurrency",1),c(n,"options.highWaterMark",0),n+=r,async function*(){let i,o,s=X_().AbortSignalAny([null==t?void 0:t.signal].filter(_)),l=this,c=[],u={signal:s},h=!1,f=0;function d(){h=!0,p()}function p(){f-=1,g()}function g(){o&&!h&&f<r&&c.length<n&&(o(),o=null)}!async function(){try{for await(let g of l){if(h)return;if(s.aborted)throw new a;try{if(g=e(g,u),g===P)continue;g=A(g)}catch(t){g=E(t)}f+=1,k(g,p,d),c.push(g),i&&(i(),i=null),!h&&(c.length>=n||f>=r)&&await new T(e=>{o=e})}c.push(O)}catch(g){let e=E(g);k(e,p,d),c.push(e)}finally{h=!0,i&&(i(),i=null)}}();try{for(;;){for(;c.length>0;){let e=await c[0];if(e===O)return;if(s.aborted)throw new a;e!==P&&(yield e),c.shift(),g()}await new T(e=>{i=e})}}finally{h=!0,o&&(o(),o=null)}}.call(this)}async function I(e,t=void 0){for await(let r of L.call(this,e,t))return!0;return!1}function L(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);return M.call(this,async function(t,r){return await e(t,r)?t:P},t)}var R=class extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};function D(e){if(e=w(e),S(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}t.exports.streamReturningOperators={asIndexedPairs:v(function(e=void 0){return null!=e&&u(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new a({cause:e.signal.reason});yield[t++,n]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&u(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),e=D(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new a;for await(let i of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new a;e--<=0&&(yield i)}}.call(this)},filter:L,flatMap:function(e,t){let r=M.call(this,e,t);return async function*(){for await(let e of r)yield*e}.call(this)},map:M,take:function(e,t=void 0){return null!=t&&u(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),e=D(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new a;for await(let i of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new a;if(e-- >0&&(yield i),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&u(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),m(e)&&!y(e))throw new n("stream",e,"must be writable");let r=p(this,e);return null!=t&&t.signal&&g(t.signal,r),r}},t.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);return!(await I.call(this,async(...t)=>!(await e(...t)),t))},forEach:async function(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);for await(let r of M.call(this,async function(t,r){return await e(t,r),P},t));},reduce:async function(e,t,n){var o;if("function"!=typeof e)throw new i("reducer",["Function","AsyncFunction"],e);null!=n&&u(n,"options"),null!=(null==n?void 0:n.signal)&&l(n.signal,"options.signal");let s=arguments.length>1;if(null!=n&&null!==(o=n.signal)&&void 0!==o&&o.aborted){let e=new a(void 0,{cause:n.signal.reason});throw this.once("error",()=>{}),await d(this.destroy(e)),e}let c=new r,p=c.signal;if(null!=n&&n.signal){let e={once:!0,[h]:this,[f]:!0};n.signal.addEventListener("abort",()=>c.abort(),e)}let g=!1;try{for await(let r of this){var y;if(g=!0,null!=n&&null!==(y=n.signal)&&void 0!==y&&y.aborted)throw new a;s?t=await e(t,r,{signal:p}):(t=r,s=!0)}if(!g&&!s)throw new R}finally{c.abort()}return t},toArray:async function(e){null!=e&&u(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new a(void 0,{cause:e.signal.reason});b(t,n)}return t},some:I,find:async function(e,t){for await(let r of L.call(this,e,t))return r}}}),vx=Fv((e,t)=>{Wv(),L_(),v_();var{ArrayPrototypePop:r,Promise:n}=R_(),{isIterable:i,isNodeStream:o,isWebStream:s}=Z_(),{pipelineImpl:a}=gx(),{finished:l}=ex();bx(),t.exports={finished:l,pipeline:function(...e){return new n((t,n)=>{let l,c,u=e[e.length-1];if(u&&"object"==typeof u&&!o(u)&&!i(u)&&!s(u)){let t=r(e);l=t.signal,c=t.end}a(e,(e,r)=>{e?n(e):t(r)},{signal:l,end:c})})}}}),bx=Fv((e,t)=>{Wv(),L_(),v_();var{Buffer:r}=(I_(),Nv(k_)),{ObjectDefineProperty:n,ObjectKeys:i,ReflectApply:o}=R_(),{promisify:{custom:s}}=X_(),{streamReturningOperators:a,promiseReturningOperators:l}=mx(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=B_(),u=yx(),{setDefaultHighWaterMark:h,getDefaultHighWaterMark:f}=ox(),{pipeline:d}=gx(),{destroyer:p}=tx(),g=ex(),y=vx(),m=Z_(),v=t.exports=rx().Stream;v.isDestroyed=m.isDestroyed,v.isDisturbed=m.isDisturbed,v.isErrored=m.isErrored,v.isReadable=m.isReadable,v.isWritable=m.isWritable,v.Readable=cx();for(let _ of i(a)){let e=function(...e){if(new.target)throw c();return v.Readable.from(o(t,this,e))},t=a[_];n(e,"name",{__proto__:null,value:t.name}),n(e,"length",{__proto__:null,value:t.length}),n(v.Readable.prototype,_,{__proto__:null,value:e,enumerable:!1,configurable:!0,writable:!0})}for(let _ of i(l)){let e=function(...e){if(new.target)throw c();return o(t,this,e)},t=l[_];n(e,"name",{__proto__:null,value:t.name}),n(e,"length",{__proto__:null,value:t.length}),n(v.Readable.prototype,_,{__proto__:null,value:e,enumerable:!1,configurable:!0,writable:!0})}v.Writable=ux(),v.Duplex=fx(),v.Transform=dx(),v.PassThrough=px(),v.pipeline=d;var{addAbortSignal:b}=nx();v.addAbortSignal=b,v.finished=g,v.destroy=p,v.compose=u,v.setDefaultHighWaterMark=h,v.getDefaultHighWaterMark=f,n(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>y}),n(d,s,{__proto__:null,enumerable:!0,get:()=>y.pipeline}),n(g,s,{__proto__:null,enumerable:!0,get:()=>y.finished}),v.Stream=v,v._isUint8Array=function(e){return e instanceof Uint8Array},v._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}}),_x=Fv((e,t)=>{Wv(),L_(),v_();var r=bx(),n=vx(),i=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=i,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>n}),t.exports.Stream=r.Stream,t.exports.default=t.exports}),xx=Fv((e,t)=>{Wv(),L_(),v_(),"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),wx=Fv((e,t)=>{Wv(),L_(),v_();var{Buffer:r}=(I_(),Nv(k_)),n=Symbol.for("BufferList");function i(e){if(!(this instanceof i))return new i(e);i._init.call(this,e)}i._init=function(e){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},i.prototype._new=function(e){return new i(e)},i.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){let n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},i.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let n=0;n<t;n++)r+=this._bufs[n].length;return r},i.prototype.getBuffers=function(){return this._bufs},i.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]},i.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},i.prototype.copy=function(e,t,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||r.alloc(0);let o=!!e,s=this._offset(n),a=i-n,l=a,c=o&&t||0,u=s[1];if(0===n&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,c),c+=this._bufs[t].length;return e}if(l<=this._bufs[s[0]].length-u)return o?this._bufs[s[0]].copy(e,t,u,u+l):this._bufs[s[0]].slice(u,u+l);o||(e=r.allocUnsafe(a));for(let r=s[0];r<this._bufs.length;r++){let t=this._bufs[r].length-u;if(!(l>t)){this._bufs[r].copy(e,c,u,u+l),c+=t;break}this._bufs[r].copy(e,c,u),c+=t,l-=t,u&&(u=0)}return e.length>c?e.slice(0,c):e},i.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},i.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},i.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},i.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},i.prototype.append=function(e){return this._attach(e,i.prototype._appendBuffer)},i.prototype.prepend=function(e){return this._attach(e,i.prototype._prependBuffer,!0)},i.prototype._attach=function(e,t,n){if(null==e)return this;if(e.buffer)t.call(this,r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e)){let[r,i]=n?[e.length-1,-1]:[0,1];for(let o=r;o>=0&&o<e.length;o+=i)this._attach(e[o],t,n)}else if(this._isBufferList(e)){let[r,i]=n?[e._bufs.length-1,-1]:[0,1];for(let o=r;o>=0&&o<e._bufs.length;o+=i)this._attach(e._bufs[o],t,n)}else"number"==typeof e&&(e=e.toString()),t.call(this,r.from(e));return this},i.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},i.prototype._prependBuffer=function(e){this._bufs.unshift(e),this.length+=e.length},i.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;let i=this._offset(t),o=i[0],s=i[1];for(;o<this._bufs.length;o++){let t=this._bufs[o];for(;s<t.length;)if(t.length-s>=e.length){let r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{let t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}s=0}return-1},i.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)(function(t){i.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(r=0){return this.slice(r,r+e[t])[t](0)}})(t)}(),i.prototype._isBufferList=function(e){return e instanceof i||i.isBufferList(e)},i.isBufferList=function(e){return null!=e&&e[n]},t.exports=i}),Sx=Fv((e,t)=>{Wv(),L_(),v_();var r=_x().Duplex,n=xx(),i=wx();function o(e){if(!(this instanceof o))return new o(e);if("function"==typeof e){this._callback=e;let t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),e=null}i._init.call(this,e),r.call(this)}n(o,r),Object.assign(o.prototype,i.prototype),o.prototype._new=function(e){return new o(e)},o.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},o.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},o.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},o.prototype._isBufferList=function(e){return e instanceof o||e instanceof i||o.isBufferList(e)},o.isBufferList=i.isBufferList,t.exports=o,t.exports.BufferListStream=o,t.exports.BufferList=i}),Tx=Fv((e,t)=>{Wv(),L_(),v_();t.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}}),Ex=Fv((e,t)=>{Wv(),L_(),v_();var r=t.exports,{Buffer:n}=(I_(),Nv(k_));r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},r.requiredHeaderFlagsErrors={};for(let o in r.requiredHeaderFlags){let e=r.requiredHeaderFlags[o];r.requiredHeaderFlagsErrors[o]="Invalid header flag bits, must be 0x"+e.toString(16)+" for "+r.types[o]+" packet"}r.codes={};for(let o in r.types){let e=r.types[o];r.codes[e]=o}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=n.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=n.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=n.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(let o in r.properties){let e=r.properties[o];r.propertiesCodes[e]=o}function i(e){return[0,1,2].map(t=>[0,1].map(i=>[0,1].map(o=>{let s=n.alloc(1);return s.writeUInt8(r.codes[e]<<r.CMD_SHIFT|(i?r.DUP_MASK:0)|t<<r.QOS_SHIFT|o,0,!0),s})))}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},r.PUBLISH_HEADER=i("publish"),r.SUBSCRIBE_HEADER=i("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=i("unsubscribe"),r.ACKS={unsuback:i("unsuback"),puback:i("puback"),pubcomp:i("pubcomp"),pubrel:i("pubrel"),pubrec:i("pubrec")},r.SUBACK_HEADER=n.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=n.from([3]),r.VERSION4=n.from([4]),r.VERSION5=n.from([5]),r.VERSION131=n.from([131]),r.VERSION132=n.from([132]),r.QOS=[0,1,2].map(e=>n.from([e])),r.EMPTY={pingreq:n.from([r.codes.pingreq<<4,0]),pingresp:n.from([r.codes.pingresp<<4,0]),disconnect:n.from([r.codes.disconnect<<4,0])},r.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},r.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},r.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},r.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Ax=Fv((e,t)=>{Wv(),L_(),v_();var r=1e3,n=6e4,i=60*n,o=24*i,s=7*o,a=365.25*o;function l(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}t.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var l=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*a;case"weeks":case"week":case"w":return l*s;case"days":case"day":case"d":return l*o;case"hours":case"hour":case"hrs":case"hr":case"h":return l*i;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}(e);if("number"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=o?l(e,t,o,"day"):t>=i?l(e,t,i,"hour"):t>=n?l(e,t,n,"minute"):t>=r?l(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}),kx=Fv((e,t)=>{Wv(),L_(),v_(),t.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;let r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return"%";s++;let o=t.formatters[i];if("function"==typeof o){let t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n}),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){let n=t(this.namespace+(typeof r>"u"?":":r)+e);return n.log=this.log,n}function n(e,t){let r=0,n=0,i=-1,o=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,o=r,n++):(r++,n++);else{if(-1===i)return!1;n=i+1,o++,r=o}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];let r=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let n of r)"-"===n[0]?t.skips.push(n.slice(1)):t.names.push(n)},t.enabled=function(e){for(let r of t.skips)if(n(e,r))return!1;for(let r of t.names)if(n(e,r))return!0;return!1},t.humanize=Ax(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}}),Cx=Fv((e,t)=>{Wv(),L_(),v_(),e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),e.splice(i,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch{}},e.load=function(){let t;try{t=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!t&&typeof Uv<"u"&&"env"in Uv&&(t=Uv.env.DEBUG),t},e.useColors=function(){if(typeof window<"u"&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=kx()(e);var{formatters:r}=t.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}),Px=Fv((e,t)=>{Wv(),L_(),v_();var r=Sx(),{EventEmitter:n}=(K_(),Nv(j_)),i=Tx(),o=Ex(),s=Cx()("mqtt-packet:parser");t.exports=class e extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(t){return this instanceof e?(this.settings=t||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new e).parser(t)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=r(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),s("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let e=this._list.readUInt8(0),t=e>>o.CMD_SHIFT;this.packet.cmd=o.types[t];let r=15&e,n=o.requiredHeaderFlags[t];return null!=n&&r!==n?this._emitError(new Error(o.requiredHeaderFlagsErrors[t])):(this.packet.retain=0!==(e&o.RETAIN_MASK),this.packet.qos=e>>o.QOS_SHIFT&o.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=0!==(e&o.DUP_MASK),s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),s("_parseLength %d",e.value),!!e}_parsePayload(){s("_parsePayload: payload %O",this._list);let e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return s("_parsePayload complete result: %s",e),e}_parseConnect(){s("_parseConnect");let e,t,r,n,i={},a=this.packet,l=this._parseString();if(null===l)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==l&&"MQIsdp"!==l)return this._emitError(new Error("Invalid protocolId"));if(a.protocolId=l,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(a.protocolVersion=this._list.readUInt8(this._pos),a.protocolVersion>=128&&(a.bridgeMode=!0,a.protocolVersion=a.protocolVersion-128),3!==a.protocolVersion&&4!==a.protocolVersion&&5!==a.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(1&this._list.readUInt8(this._pos))return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));i.username=this._list.readUInt8(this._pos)&o.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&o.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&o.WILL_FLAG_MASK;let c=!!(this._list.readUInt8(this._pos)&o.WILL_RETAIN_MASK),u=(this._list.readUInt8(this._pos)&o.WILL_QOS_MASK)>>o.WILL_QOS_SHIFT;if(i.will)a.will={},a.will.retain=c,a.will.qos=u;else{if(c)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(u)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(a.clean=0!==(this._list.readUInt8(this._pos)&o.CLEAN_SESSION_MASK),this._pos++,a.keepalive=this._parseNum(),-1===a.keepalive)return this._emitError(new Error("Packet too short"));if(5===a.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(a.properties=e)}let h=this._parseString();if(null===h)return this._emitError(new Error("Packet too short"));if(a.clientId=h,s("_parseConnect: packet.clientId: %s",a.clientId),i.will){if(5===a.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(a.will.properties=e)}if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse will topic"));if(a.will.topic=e,s("_parseConnect: packet.will.topic: %s",a.will.topic),t=this._parseBuffer(),null===t)return this._emitError(new Error("Cannot parse will payload"));a.will.payload=t,s("_parseConnect: packet.will.paylaod: %s",a.will.payload)}if(i.username){if(n=this._parseString(),null===n)return this._emitError(new Error("Cannot parse username"));a.username=n,s("_parseConnect: packet.username: %s",a.username)}if(i.password){if(r=this._parseBuffer(),null===r)return this._emitError(new Error("Cannot parse password"));a.password=r}return this.settings=a,s("_parseConnect: complete"),a}_parseConnack(){s("_parseConnack");let e=this.packet;if(this._list.length<1)return null;let t=this._list.readUInt8(this._pos++);if(t>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(e.sessionPresent=!!(t&o.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),s("_parsePublish: payload from buffer list: %o",e.payload)}}_parseSubscribe(){s("_parseSubscribe");let e,t,r,n,i,a,l,c=this.packet;if(c.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(c.properties=e)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(t=this._parseByte(),5===this.settings.protocolVersion){if(192&t)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(252&t)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(r=t&o.SUBSCRIBE_OPTIONS_QOS_MASK,r>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(a=0!==(t>>o.SUBSCRIBE_OPTIONS_NL_SHIFT&o.SUBSCRIBE_OPTIONS_NL_MASK),i=0!==(t>>o.SUBSCRIBE_OPTIONS_RAP_SHIFT&o.SUBSCRIBE_OPTIONS_RAP_MASK),n=t>>o.SUBSCRIBE_OPTIONS_RH_SHIFT&o.SUBSCRIBE_OPTIONS_RH_MASK,n>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));l={topic:e,qos:r},5===this.settings.protocolVersion?(l.nl=a,l.rap=i,l.rh=n):this.settings.bridgeMode&&(l.rh=0,l.rap=!0,l.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",l),c.subscriptions.push(l)}}}_parseSuback(){s("_parseSuback");let e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}if(e.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let e=this._list.readUInt8(this._pos++);if(5===this.settings.protocolVersion){if(!o.MQTT5_SUBACK_CODES[e])return this._emitError(new Error("Invalid suback code"))}else if(e>2&&128!==e)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(e)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}if(e.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<e.length;){let t=this._parseString();if(null===t)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",t),e.unsubscriptions.push(t)}}}_parseUnsuback(){s("_parseUnsuback");let e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((3===this.settings.protocolVersion||4===this.settings.protocolVersion)&&2!==e.length)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(e.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(5===this.settings.protocolVersion){let t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;){let e=this._list.readUInt8(this._pos++);if(!o.MQTT5_UNSUBACK_CODES[e])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(e)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion){if(e.length>2){switch(e.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!o.MQTT5_PUBACK_PUBREC_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!o.MQTT5_PUBREL_PUBCOMP_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"))}s("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)}else e.reasonCode=0;if(e.length>3){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}}return!0}_parseDisconnect(){let e=this.packet;if(s("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?(e.reasonCode=this._parseByte(),o.MQTT5_DISCONNECT_CODES[e.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):e.reasonCode=0;let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(e.reasonCode=this._parseByte(),!o.MQTT5_AUTH_CODES[e.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),s("_parseAuth: result: true"),!0}_parseMessageId(){let e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){let t=this._parseNum(),r=t+this._pos;if(-1===t||r>this._list.length||r>this.packet.length)return null;let n=this._list.toString("utf8",this._pos,r);return this._pos+=t,s("_parseString: result: %s",n),n}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;let r=this._list.slice(this._pos,t);return this._pos+=e,s("_parseBuffer: result: %o",r),r}_parseNum(){if(this._list.length-this._pos<2)return-1;let e=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let e=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){s("_parseVarByteNum");let t,r=0,n=1,i=0,a=!1,l=this._pos?this._pos:0;for(;r<4&&l+r<this._list.length;){if(t=this._list.readUInt8(l+r++),i+=n*(t&o.VARBYTEINT_MASK),n*=128,0===(t&o.VARBYTEINT_FIN_MASK)){a=!0;break}if(this._list.length<=r)break}return!a&&4===r&&this._list.length>=r&&this._emitError(new Error("Invalid variable byte integer")),l&&(this._pos+=r),a=!!a&&(e?{bytes:r,value:i}:i),s("_parseVarByteNum: result: %o",a),a}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",e),e}_parseByType(e){switch(s("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let e=this._parseVarByteNum(),t=this._pos+e,r={};for(;this._pos<t;){let e=this._parseByte();if(!e)return this._emitError(new Error("Cannot parse property code type")),!1;let t=o.propertiesCodes[e];if(!t)return this._emitError(new Error("Unknown property")),!1;if("userProperties"===t){r[t]||(r[t]=Object.create(null));let e=this._parseByType(o.propertiesTypes[t]);if(r[t][e.name])if(Array.isArray(r[t][e.name]))r[t][e.name].push(e.value);else{let n=r[t][e.name];r[t][e.name]=[n],r[t][e.name].push(e.value)}else r[t][e.name]=e.value;continue}r[t]?(Array.isArray(r[t])||(r[t]=[r[t]]),r[t].push(this._parseByType(o.propertiesTypes[t]))):r[t]=this._parseByType(o.propertiesTypes[t])}return r}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new i,this._pos=0,!0}_emitError(e){s("_emitError",e),this.error=e,this.emit("error",e)}}}),Ox=Fv((e,t)=>{Wv(),L_(),v_();var{Buffer:r}=(I_(),Nv(k_)),n={},i=r.isBuffer(r.from([1,2]).subarray(0,1));function o(e){let t=r.allocUnsafe(2);return t.writeUInt8(e>>8,0),t.writeUInt8(255&e,1),t}t.exports={cache:n,generateCache:function(){for(let e=0;e<65536;e++)n[e]=o(e)},generateNumber:o,genBufVariableByteInt:function(e){let t=0,n=0,o=r.allocUnsafe(4);do{t=e%128|0,(e=e/128|0)>0&&(t|=128),o.writeUInt8(t,n++)}while(e>0&&n<4);return e>0&&(n=0),i?o.subarray(0,n):o.slice(0,n)},generate4ByteBuffer:function(e){let t=r.allocUnsafe(4);return t.writeUInt32BE(e,0),t}}}),Mx=Fv((e,t)=>{Wv(),L_(),v_(),typeof Uv>"u"||!Uv.version||0===Uv.version.indexOf("v0.")||0===Uv.version.indexOf("v1.")&&0!==Uv.version.indexOf("v1.8.")?t.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return Uv.nextTick(e);case 2:return Uv.nextTick(function(){e.call(null,t)});case 3:return Uv.nextTick(function(){e.call(null,t,r)});case 4:return Uv.nextTick(function(){e.call(null,t,r,n)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return Uv.nextTick(function(){e.apply(null,i)})}}}:t.exports=Uv}),Ix=Fv((e,t)=>{Wv(),L_(),v_();var r=Ex(),{Buffer:n}=(I_(),Nv(k_)),i=n.allocUnsafe(0),o=n.from([0]),s=Ox(),a=Mx().nextTick,l=Cx()("mqtt-packet:writeToStream"),c=s.cache,u=s.generateNumber,h=s.generateCache,f=s.genBufVariableByteInt,d=s.generate4ByteBuffer,p=w,g=!0;function y(e,t,s){switch(l("generate called"),t.cork&&(t.cork(),a(m,t)),g&&(g=!1,h()),l("generate: packet.cmd: %s",e.cmd),e.cmd){case"connect":return function(e,t){let i=e||{},o=i.protocolId||"MQTT",s=i.protocolVersion||4,a=i.will,l=i.clean,c=i.keepalive||0,u=i.clientId||"",h=i.username,f=i.password,d=i.properties;void 0===l&&(l=!0);let g,y,m=0;if("string"!=typeof o&&!n.isBuffer(o))return t.destroy(new Error("Invalid protocolId")),!1;if(m+=o.length+2,3!==s&&4!==s&&5!==s)return t.destroy(new Error("Invalid protocol version")),!1;if(m+=1,("string"==typeof u||n.isBuffer(u))&&(u||s>=4)&&(u||l))m+=n.byteLength(u)+2;else{if(s<4)return t.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(1*l==0)return t.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof c||c<0||c>65535||c%1!=0)return t.destroy(new Error("Invalid keepalive")),!1;if(m+=2,m+=1,5===s){if(g=E(t,d),!g)return!1;m+=g.length}if(a){if("object"!=typeof a)return t.destroy(new Error("Invalid will")),!1;if(!a.topic||"string"!=typeof a.topic)return t.destroy(new Error("Invalid will topic")),!1;if(m+=n.byteLength(a.topic)+2,m+=2,a.payload){if(!(a.payload.length>=0))return t.destroy(new Error("Invalid will payload")),!1;"string"==typeof a.payload?m+=n.byteLength(a.payload):m+=a.payload.length}if(y={},5===s){if(y=E(t,a.properties),!y)return!1;m+=y.length}}let v=!1;if(null!=h){if(!O(h))return t.destroy(new Error("Invalid username")),!1;v=!0,m+=n.byteLength(h)+2}if(null!=f){if(!v)return t.destroy(new Error("Username is required to use password")),!1;if(!O(f))return t.destroy(new Error("Invalid password")),!1;m+=P(f)+2}t.write(r.CONNECT_HEADER),b(t,m),T(t,o),i.bridgeMode&&(s+=128),t.write(131===s?r.VERSION131:132===s?r.VERSION132:4===s?r.VERSION4:5===s?r.VERSION5:r.VERSION3);let x=0;return x|=null!=h?r.USERNAME_MASK:0,x|=null!=f?r.PASSWORD_MASK:0,x|=a&&a.retain?r.WILL_RETAIN_MASK:0,x|=a&&a.qos?a.qos<<r.WILL_QOS_SHIFT:0,x|=a?r.WILL_FLAG_MASK:0,x|=l?r.CLEAN_SESSION_MASK:0,t.write(n.from([x])),p(t,c),5===s&&g.write(),T(t,u),a&&(5===s&&y.write(),_(t,a.topic),T(t,a.payload)),null!=h&&T(t,h),null!=f&&T(t,f),!0}(e,t);case"connack":return function(e,t,i){let s=i?i.protocolVersion:4,a=e||{},l=5===s?a.reasonCode:a.returnCode,c=a.properties,u=2;if("number"!=typeof l)return t.destroy(new Error("Invalid return code")),!1;let h=null;if(5===s){if(h=E(t,c),!h)return!1;u+=h.length}return t.write(r.CONNACK_HEADER),b(t,u),t.write(a.sessionPresent?r.SESSIONPRESENT_HEADER:o),t.write(n.from([l])),null==h||h.write(),!0}(e,t,s);case"publish":return function(e,t,o){l("publish: packet: %o",e);let s=o?o.protocolVersion:4,a=e||{},c=a.qos||0,u=a.retain?r.RETAIN_MASK:0,h=a.topic,f=a.payload||i,d=a.messageId,g=a.properties,y=0;if("string"==typeof h)y+=n.byteLength(h)+2;else{if(!n.isBuffer(h))return t.destroy(new Error("Invalid topic")),!1;y+=h.length+2}if(n.isBuffer(f)?y+=f.length:y+=n.byteLength(f),c&&"number"!=typeof d)return t.destroy(new Error("Invalid messageId")),!1;c&&(y+=2);let m=null;if(5===s){if(m=E(t,g),!m)return!1;y+=m.length}return t.write(r.PUBLISH_HEADER[c][a.dup?1:0][u?1:0]),b(t,y),p(t,P(h)),t.write(h),c>0&&p(t,d),null==m||m.write(),l("publish: payload: %o",f),t.write(f)}(e,t,s);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.cmd||"puback",l=s.messageId,c=s.dup&&"pubrel"===a?r.DUP_MASK:0,u=0,h=s.reasonCode,f=s.properties,d=5===o?3:2;if("pubrel"===a&&(u=1),"number"!=typeof l)return t.destroy(new Error("Invalid messageId")),!1;let g=null;if(5===o&&"object"==typeof f){if(g=A(t,f,i,d),!g)return!1;d+=g.length}return t.write(r.ACKS[a][u][c][0]),3===d&&(d+=0!==h?1:-1),b(t,d),p(t,l),5===o&&2!==d&&t.write(n.from([h])),null!==g?g.write():4===d&&t.write(n.from([0])),!0}(e,t,s);case"subscribe":return function(e,t,i){l("subscribe: packet: ");let o=i?i.protocolVersion:4,s=e||{},a=s.dup?r.DUP_MASK:0,c=s.messageId,u=s.subscriptions,h=s.properties,f=0;if("number"!=typeof c)return t.destroy(new Error("Invalid messageId")),!1;f+=2;let d=null;if(5===o){if(d=E(t,h),!d)return!1;f+=d.length}if("object"!=typeof u||!u.length)return t.destroy(new Error("Invalid subscriptions")),!1;for(let r=0;r<u.length;r+=1){let e=u[r].topic,i=u[r].qos;if("string"!=typeof e)return t.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof i)return t.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(5===o){if("boolean"!=typeof(u[r].nl||!1))return t.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(u[r].rap||!1))return t.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let e=u[r].rh||0;if("number"!=typeof e||e>2)return t.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}f+=n.byteLength(e)+2+1}l("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),t.write(r.SUBSCRIBE_HEADER[1][a?1:0][0]),b(t,f),p(t,c),null!==d&&d.write();let g=!0;for(let l of u){let e,i=l.topic,s=l.qos,a=+l.nl,c=+l.rap,u=l.rh;_(t,i),e=r.SUBSCRIBE_OPTIONS_QOS[s],5===o&&(e|=a?r.SUBSCRIBE_OPTIONS_NL:0,e|=c?r.SUBSCRIBE_OPTIONS_RAP:0,e|=u?r.SUBSCRIBE_OPTIONS_RH[u]:0),g=t.write(n.from([e]))}return g}(e,t,s);case"suback":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.granted,c=s.properties,u=0;if("number"!=typeof a)return t.destroy(new Error("Invalid messageId")),!1;if(u+=2,"object"!=typeof l||!l.length)return t.destroy(new Error("Invalid qos vector")),!1;for(let r=0;r<l.length;r+=1){if("number"!=typeof l[r])return t.destroy(new Error("Invalid qos vector")),!1;u+=1}let h=null;if(5===o){if(h=A(t,c,i,u),!h)return!1;u+=h.length}return t.write(r.SUBACK_HEADER),b(t,u),p(t,a),null!==h&&h.write(),t.write(n.from(l))}(e,t,s);case"unsubscribe":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.dup?r.DUP_MASK:0,c=s.unsubscriptions,u=s.properties,h=0;if("number"!=typeof a)return t.destroy(new Error("Invalid messageId")),!1;if(h+=2,"object"!=typeof c||!c.length)return t.destroy(new Error("Invalid unsubscriptions")),!1;for(let r=0;r<c.length;r+=1){if("string"!=typeof c[r])return t.destroy(new Error("Invalid unsubscriptions")),!1;h+=n.byteLength(c[r])+2}let f=null;if(5===o){if(f=E(t,u),!f)return!1;h+=f.length}t.write(r.UNSUBSCRIBE_HEADER[1][l?1:0][0]),b(t,h),p(t,a),null!==f&&f.write();let d=!0;for(let r=0;r<c.length;r++)d=_(t,c[r]);return d}(e,t,s);case"unsuback":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.dup?r.DUP_MASK:0,c=s.granted,u=s.properties,h=s.cmd,f=0,d=2;if("number"!=typeof a)return t.destroy(new Error("Invalid messageId")),!1;if(5===o){if("object"!=typeof c||!c.length)return t.destroy(new Error("Invalid qos vector")),!1;for(let e=0;e<c.length;e+=1){if("number"!=typeof c[e])return t.destroy(new Error("Invalid qos vector")),!1;d+=1}}let g=null;if(5===o){if(g=A(t,u,i,d),!g)return!1;d+=g.length}return t.write(r.ACKS[h][f][l][0]),b(t,d),p(t,a),null!==g&&g.write(),5===o&&t.write(n.from(c)),!0}(e,t,s);case"pingreq":case"pingresp":return function(e,t){return t.write(r.EMPTY[e.cmd])}(e,t);case"disconnect":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.reasonCode,l=s.properties,c=5===o?1:0,u=null;if(5===o){if(u=A(t,l,i,c),!u)return!1;c+=u.length}return t.write(n.from([r.codes.disconnect<<4])),b(t,c),5===o&&t.write(n.from([a])),null!==u&&u.write(),!0}(e,t,s);case"auth":return function(e,t,i){let o=i?i.protocolVersion:4,s=e||{},a=s.reasonCode,l=s.properties,c=5===o?1:0;5!==o&&t.destroy(new Error("Invalid mqtt version for auth packet"));let u=A(t,l,i,c);return!!u&&(c+=u.length,t.write(n.from([r.codes.auth<<4])),b(t,c),t.write(n.from([a])),null!==u&&u.write(),!0)}(e,t,s);default:return t.destroy(new Error("Unknown command")),!1}}function m(e){e.uncork()}Object.defineProperty(y,"cacheNumbers",{get:()=>p===w,set(e){e?((!c||0===Object.keys(c).length)&&(g=!0),p=w):(g=!1,p=S)}});var v={};function b(e,t){if(t>r.VARBYTEINT_MAX)return e.destroy(new Error(`Invalid variable byte integer: ${t}`)),!1;let n=v[t];return n||(n=f(t),t<16384&&(v[t]=n)),l("writeVarByteInt: writing to stream: %o",n),e.write(n)}function _(e,t){let r=n.byteLength(t);return p(e,r),l("writeString: %s",t),e.write(t,"utf8")}function x(e,t,r){_(e,t),_(e,r)}function w(e,t){return l("writeNumberCached: number: %d",t),l("writeNumberCached: %o",c[t]),e.write(c[t])}function S(e,t){let r=u(t);return l("writeNumberGenerated: %o",r),e.write(r)}function T(e,t){"string"==typeof t?_(e,t):t?(p(e,t.length),e.write(t)):p(e,0)}function E(e,t){if("object"!=typeof t||null!=t.length)return{length:1,write(){C(e,{},0)}};let i=0;function o(t,i){let o=0;switch(r.propertiesTypes[t]){case"byte":if("boolean"!=typeof i)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=2;break;case"int8":if("number"!=typeof i||i<0||i>255)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=2;break;case"binary":if(i&&null===i)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=1+n.byteLength(i)+2;break;case"int16":if("number"!=typeof i||i<0||i>65535)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=3;break;case"int32":if("number"!=typeof i||i<0||i>4294967295)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=5;break;case"var":if("number"!=typeof i||i<0||i>268435455)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=1+n.byteLength(f(i));break;case"string":if("string"!=typeof i)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=3+n.byteLength(i.toString());break;case"pair":if("object"!=typeof i)return e.destroy(new Error(`Invalid ${t}: ${i}`)),!1;o+=Object.getOwnPropertyNames(i).reduce((e,t)=>{let r=i[t];return Array.isArray(r)?e+=r.reduce((e,r)=>e+=3+n.byteLength(t.toString())+2+n.byteLength(r.toString()),0):e+=3+n.byteLength(t.toString())+2+n.byteLength(i[t].toString()),e},0);break;default:return e.destroy(new Error(`Invalid property ${t}: ${i}`)),!1}return o}if(t)for(let r in t){let e=0,n=0,s=t[r];if(void 0!==s){if(Array.isArray(s))for(let t=0;t<s.length;t++){if(n=o(r,s[t]),!n)return!1;e+=n}else{if(n=o(r,s),!n)return!1;e=n}if(!e)return!1;i+=e}}return{length:n.byteLength(f(i))+i,write(){C(e,t,i)}}}function A(e,t,r,n){let i=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,s=E(e,t);if(o)for(;n+s.length>o;){let r=i.shift();if(!r||!t[r])return!1;delete t[r],s=E(e,t)}return s}function k(e,t,i){switch(r.propertiesTypes[t]){case"byte":e.write(n.from([r.properties[t]])),e.write(n.from([+i]));break;case"int8":e.write(n.from([r.properties[t]])),e.write(n.from([i]));break;case"binary":e.write(n.from([r.properties[t]])),T(e,i);break;case"int16":e.write(n.from([r.properties[t]])),p(e,i);break;case"int32":e.write(n.from([r.properties[t]])),function(e,t){let r=d(t);l("write4ByteNumber: %o",r),e.write(r)}(e,i);break;case"var":e.write(n.from([r.properties[t]])),b(e,i);break;case"string":e.write(n.from([r.properties[t]])),_(e,i);break;case"pair":Object.getOwnPropertyNames(i).forEach(o=>{let s=i[o];Array.isArray(s)?s.forEach(i=>{e.write(n.from([r.properties[t]])),x(e,o.toString(),i.toString())}):(e.write(n.from([r.properties[t]])),x(e,o.toString(),s.toString()))});break;default:return e.destroy(new Error(`Invalid property ${t} value: ${i}`)),!1}}function C(e,t,r){b(e,r);for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&null!=t[n]){let r=t[n];if(Array.isArray(r))for(let t=0;t<r.length;t++)k(e,n,r[t]);else k(e,n,r)}}function P(e){return e?e instanceof n?e.length:n.byteLength(e):0}function O(e){return"string"==typeof e||e instanceof n}t.exports=y}),Lx=Fv((e,t)=>{Wv(),L_(),v_();var r=Ix(),{EventEmitter:n}=(K_(),Nv(j_)),{Buffer:i}=(I_(),Nv(k_));var o=class extends n{constructor(){super(),this._array=new Array(20),this._i=0}write(e){return this._array[this._i++]=e,!0}concat(){let e,t=0,r=new Array(this._array.length),n=this._array,o=0;for(e=0;e<n.length&&void 0!==n[e];e++)"string"!=typeof n[e]?r[e]=n[e].length:r[e]=i.byteLength(n[e]),t+=r[e];let s=i.allocUnsafe(t);for(e=0;e<n.length&&void 0!==n[e];e++)"string"!=typeof n[e]?(n[e].copy(s,o),o+=r[e]):(s.write(n[e],o),o+=r[e]);return s}destroy(e){e&&this.emit("error",e)}};t.exports=function(e,t){let n=new o;return r(e,n,t),n.concat()}}),Rx=Fv(e=>{Wv(),L_(),v_(),e.parser=Px().parser,e.generate=Lx(),e.writeToStream=Ix()}),Dx=Fv((e,t)=>{function r(e){return e instanceof P_?P_.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}Wv(),L_(),v_(),t.exports=function(e){if((e=e||{}).circles)return function(e){let t=[],n=[],i=new Map;if(i.set(Date,e=>new Date(e)),i.set(Map,(e,t)=>new Map(s(Array.from(e),t))),i.set(Set,(e,t)=>new Set(s(Array.from(e),t))),e.constructorHandlers)for(let r of e.constructorHandlers)i.set(r[0],r[1]);let o=null;return e.proto?l:a;function s(e,s){let a=Object.keys(e),l=new Array(a.length);for(let c=0;c<a.length;c++){let u=a[c],h=e[u];if("object"!=typeof h||null===h)l[u]=h;else if(h.constructor!==Object&&(o=i.get(h.constructor)))l[u]=o(h,s);else if(ArrayBuffer.isView(h))l[u]=r(h);else{let e=t.indexOf(h);l[u]=-1!==e?n[e]:s(h)}}return l}function a(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return s(e,a);if(e.constructor!==Object&&(o=i.get(e.constructor)))return o(e,a);let l={};t.push(e),n.push(l);for(let s in e){if(!1===Object.hasOwnProperty.call(e,s))continue;let c=e[s];if("object"!=typeof c||null===c)l[s]=c;else if(c.constructor!==Object&&(o=i.get(c.constructor)))l[s]=o(c,a);else if(ArrayBuffer.isView(c))l[s]=r(c);else{let e=t.indexOf(c);l[s]=-1!==e?n[e]:a(c)}}return t.pop(),n.pop(),l}function l(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return s(e,l);if(e.constructor!==Object&&(o=i.get(e.constructor)))return o(e,l);let a={};t.push(e),n.push(a);for(let s in e){let c=e[s];if("object"!=typeof c||null===c)a[s]=c;else if(c.constructor!==Object&&(o=i.get(c.constructor)))a[s]=o(c,l);else if(ArrayBuffer.isView(c))a[s]=r(c);else{let e=t.indexOf(c);a[s]=-1!==e?n[e]:l(c)}}return t.pop(),n.pop(),a}}(e);let t=new Map;if(t.set(Date,e=>new Date(e)),t.set(Map,(e,t)=>new Map(i(Array.from(e),t))),t.set(Set,(e,t)=>new Set(i(Array.from(e),t))),e.constructorHandlers)for(let r of e.constructorHandlers)t.set(r[0],r[1]);let n=null;return e.proto?function e(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return i(o,e);if(o.constructor!==Object&&(n=t.get(o.constructor)))return n(o,e);let s={};for(let i in o){let a=o[i];"object"!=typeof a||null===a?s[i]=a:a.constructor!==Object&&(n=t.get(a.constructor))?s[i]=n(a,e):ArrayBuffer.isView(a)?s[i]=r(a):s[i]=e(a)}return s}:function e(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return i(o,e);if(o.constructor!==Object&&(n=t.get(o.constructor)))return n(o,e);let s={};for(let i in o){if(!1===Object.hasOwnProperty.call(o,i))continue;let a=o[i];"object"!=typeof a||null===a?s[i]=a:a.constructor!==Object&&(n=t.get(a.constructor))?s[i]=n(a,e):ArrayBuffer.isView(a)?s[i]=r(a):s[i]=e(a)}return s};function i(e,i){let o=Object.keys(e),s=new Array(o.length);for(let a=0;a<o.length;a++){let l=o[a],c=e[l];"object"!=typeof c||null===c?s[l]=c:c.constructor!==Object&&(n=t.get(c.constructor))?s[l]=n(c,i):ArrayBuffer.isView(c)?s[l]=r(c):s[l]=i(c)}return s}}}),Bx=Fv((e,t)=>{Wv(),L_(),v_(),t.exports=Dx()()}),Fx=Fv(e=>{function t(e){let t=e.split("/");for(let r=0;r<t.length;r++)if("+"!==t[r]){if("#"===t[r])return r===t.length-1;if(-1!==t[r].indexOf("+")||-1!==t[r].indexOf("#"))return!1}return!0}Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopic=t,e.validateTopics=function(e){if(0===e.length)return"empty_topic_list";for(let r=0;r<e.length;r++)if(!t(e[r]))return e[r];return null}}),jx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0});var r=_x(),n={objectMode:!0},i={clean:!0};e.default=class{constructor(e){t(this,"options"),t(this,"_inflights"),this.options=e||{},this.options={...i,...e},this._inflights=new Map}put(e,t){return this._inflights.set(e.messageId,e),t&&t(),this}createStream(){let e=new r.Readable(n),t=[],i=!1,o=0;return this._inflights.forEach((e,r)=>{t.push(e)}),e._read=()=>{!i&&o<t.length?e.push(t[o++]):e.push(null)},e.destroy=t=>{if(!i)return i=!0,setTimeout(()=>{e.emit("close")},0),e},e}del(e,t){let r=this._inflights.get(e.messageId);return r?(this._inflights.delete(e.messageId),t(null,r)):t&&t(new Error("missing packet")),this}get(e,t){let r=this._inflights.get(e.messageId);return r?t(null,r):t&&t(new Error("missing packet")),this}close(e){this.options.clean&&(this._inflights=null),e&&e()}}}),Nx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153];e.default=(e,r,n)=>{e.log("handlePublish: packet %o",r),n=typeof n<"u"?n:e.noop;let i=r.topic.toString(),o=r.payload,{qos:s}=r,{messageId:a}=r,{options:l}=e;if(5===e.options.protocolVersion){let t;if(r.properties&&(t=r.properties.topicAlias),typeof t<"u")if(0===i.length){if(!(t>0&&t<=65535))return e.log("handlePublish :: topic alias out of range. alias: %d",t),void e.emit("error",new Error("Received Topic Alias is out of range"));{let r=e.topicAliasRecv.getTopicByAlias(t);if(!r)return e.log("handlePublish :: unregistered topic alias. alias: %d",t),void e.emit("error",new Error("Received unregistered Topic Alias"));i=r,e.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",i,t)}}else{if(!e.topicAliasRecv.put(i,t))return e.log("handlePublish :: topic alias out of range. alias: %d",t),void e.emit("error",new Error("Received Topic Alias is out of range"));e.log("handlePublish :: registered topic: %s - alias: %d",i,t)}}switch(e.log("handlePublish: qos %d",s),s){case 2:l.customHandleAcks(i,o,r,(i,o)=>("number"==typeof i&&(o=i,i=null),i?e.emit("error",i):-1===t.indexOf(o)?e.emit("error",new Error("Wrong reason code for pubrec")):void(o?e._sendPacket({cmd:"pubrec",messageId:a,reasonCode:o},n):e.incomingStore.put(r,()=>{e._sendPacket({cmd:"pubrec",messageId:a},n)}))));break;case 1:l.customHandleAcks(i,o,r,(s,l)=>("number"==typeof s&&(l=s,s=null),s?e.emit("error",s):-1===t.indexOf(l)?e.emit("error",new Error("Wrong reason code for puback")):(l||e.emit("message",i,o,r),void e.handleMessage(r,t=>{if(t)return n&&n(t);e._sendPacket({cmd:"puback",messageId:a,reasonCode:l},n)}))));break;case 0:e.emit("message",i,o,r),e.handleMessage(r,n);break;default:e.log("handlePublish: unknown QoS. Doing nothing.")}}}),Wx=Fv((e,t)=>{t.exports={version:"5.14.1"}}),Ux=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.ErrorWithSubackPacket=e.ErrorWithReasonCode=void 0,e.applyMixin=function(e,t,r=!1){let n=[t];for(;;){let e=n[0],t=Object.getPrototypeOf(e);if(!(null==t?void 0:t.prototype))break;n.unshift(t)}for(let i of n)for(let t of Object.getOwnPropertyNames(i.prototype))(r||"constructor"!==t)&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(i.prototype,t)??Object.create(null))};var r=class e extends Error{constructor(r,n){super(r),t(this,"code"),this.code=n,Object.setPrototypeOf(this,e.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=r;var n=class e extends Error{constructor(r,n){super(r),t(this,"packet"),this.packet=n,Object.setPrototypeOf(this,e.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};e.ErrorWithSubackPacket=n,e.nextTick="function"==typeof(null==Uv?void 0:Uv.nextTick)?Uv.nextTick:e=>{setTimeout(e,0)},e.MQTTJS_VERSION=Wx().version}),$x=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=Ux();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};e.default=(r,n)=>{let{messageId:i}=n,o=n.cmd,s=null,a=r.outgoing[i]?r.outgoing[i].cb:null,l=null;if(a){switch(r.log("_handleAck :: packet type",o),o){case"pubcomp":case"puback":{let o=n.reasonCode;o&&o>0&&16!==o?(l=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[o]}`,o),r._removeOutgoingAndStoreMessage(i,()=>{a(l,n)})):r._removeOutgoingAndStoreMessage(i,a);break}case"pubrec":{s={cmd:"pubrel",qos:2,messageId:i};let o=n.reasonCode;o&&o>0&&16!==o?(l=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[o]}`,o),r._removeOutgoingAndStoreMessage(i,()=>{a(l,n)})):r._sendPacket(s);break}case"suback":{delete r.outgoing[i],r.messageIdProvider.deallocate(i);let t=n.granted;for(let n=0;n<t.length;n++){let o=t[n];if(128&o){l=new Error(`Subscribe error: ${e.ReasonCodes[o]}`),l.code=o;let t=r.messageIdToTopic[i];t&&t.forEach(e=>{delete r._resubscribeTopics[e]})}}delete r.messageIdToTopic[i],r._invokeStoreProcessingQueue(),a(l,n);break}case"unsuback":delete r.outgoing[i],r.messageIdProvider.deallocate(i),r._invokeStoreProcessingQueue(),a(null,n);break;default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&0===Object.keys(r.outgoing).length&&r.emit("outgoingEmpty")}else r.log("_handleAck :: Server sent an ack in error. Ignoring.")}}),zx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ux(),r=$x();e.default=(e,n)=>{let{options:i}=e,o=i.protocolVersion,s=5===o?n.reasonCode:n.returnCode;if(5!==o){let r=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,s);return void e.emit("error",r)}e.handleAuth(n,(n,i)=>{if(n)e.emit("error",n);else if(24===s)e.reconnecting=!1,e._sendPacket(i);else{let n=new t.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[s]}`,s);e.emit("error",n)}})}}),Vx=Fv(e=>{var r,l,c,u,h,f,d,p,g,y,m,v,b,_,x,w,S,T,E,A,k,C,P,O,M,I,L,R,D,B,F,j,N,W,U,$,z,V,H,q,G,Y,K,X,Q,J,Z,ee,te,re,ne,ie,oe,se,ae,le,ce,ue,he;Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var fe="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,de=new Set,pe="object"==typeof Uv&&Uv?Uv:{},ge=(e,t,r,n)=>{"function"==typeof pe.emitWarning?pe.emitWarning(e,t,r,n):console.error(`[${r}] ${t}: ${e}`)},ye=globalThis.AbortController,me=globalThis.AbortSignal;if(typeof ye>"u"){me=class{constructor(){t(this,"onabort"),t(this,"_onabort",[]),t(this,"reason"),t(this,"aborted",!1)}addEventListener(e,t){this._onabort.push(t)}},ye=class{constructor(){t(this,"signal",new me),n()}abort(e){var t,r;if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(let t of this.signal._onabort)t(e);null==(r=(t=this.signal).onabort)||r.call(t,e)}}};let e="1"!==(null==(r=pe.env)?void 0:r.LRU_CACHE_IGNORE_AC_WARNING),n=()=>{e&&(e=!1,ge("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",n))}}var ve=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),be=e=>ve(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?_e:null:null,_e=class extends Array{constructor(e){super(e),this.fill(0)}},xe=(l=class{constructor(e,r){if(t(this,"heap"),t(this,"length"),!n(l,c))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}static create(e){let t=be(e);if(!t)return[];o(l,c,!0);let r=new l(e,t);return o(l,c,!1),r}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},c=new WeakMap,i(l,c,!1),l),we=(he=class{constructor(e){i(this,L),i(this,N),i(this,V),i(this,q),i(this,Y),i(this,Q),i(this,Z),i(this,te),i(this,ne),i(this,oe),i(this,ae),i(this,ce),i(this,u,void 0),i(this,h,void 0),i(this,f,void 0),i(this,d,void 0),i(this,p,void 0),i(this,g,void 0),t(this,"ttl"),t(this,"ttlResolution"),t(this,"ttlAutopurge"),t(this,"updateAgeOnGet"),t(this,"updateAgeOnHas"),t(this,"allowStale"),t(this,"noDisposeOnSet"),t(this,"noUpdateTTL"),t(this,"maxEntrySize"),t(this,"sizeCalculation"),t(this,"noDeleteOnFetchRejection"),t(this,"noDeleteOnStaleGet"),t(this,"allowStaleOnFetchAbort"),t(this,"allowStaleOnFetchRejection"),t(this,"ignoreFetchAbort"),i(this,y,void 0),i(this,m,void 0),i(this,v,void 0),i(this,b,void 0),i(this,_,void 0),i(this,x,void 0),i(this,w,void 0),i(this,S,void 0),i(this,T,void 0),i(this,E,void 0),i(this,A,void 0),i(this,k,void 0),i(this,C,void 0),i(this,P,void 0),i(this,O,void 0),i(this,M,void 0),i(this,I,void 0),i(this,D,()=>{}),i(this,B,()=>{}),i(this,F,()=>{}),i(this,j,()=>!1),i(this,U,e=>{}),i(this,$,(e,t,r)=>{}),i(this,z,(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0}),t(this,X,"LRUCache");let{max:r=0,ttl:s,ttlResolution:l=1,ttlAutopurge:c,updateAgeOnGet:H,updateAgeOnHas:G,allowStale:K,dispose:J,disposeAfter:ee,noDisposeOnSet:re,noUpdateTTL:ie,maxSize:se=0,maxEntrySize:le=0,sizeCalculation:ue,fetchMethod:fe,memoMethod:pe,noDeleteOnFetchRejection:ye,noDeleteOnStaleGet:me,allowStaleOnFetchRejection:_e,allowStaleOnFetchAbort:we,ignoreFetchAbort:Se}=e;if(0!==r&&!ve(r))throw new TypeError("max option must be a nonnegative integer");let Te=r?be(r):Array;if(!Te)throw new Error("invalid max value: "+r);if(o(this,u,r),o(this,h,se),this.maxEntrySize=le||n(this,h),this.sizeCalculation=ue,this.sizeCalculation){if(!n(this,h)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==pe&&"function"!=typeof pe)throw new TypeError("memoMethod must be a function if defined");if(o(this,g,pe),void 0!==fe&&"function"!=typeof fe)throw new TypeError("fetchMethod must be a function if specified");if(o(this,p,fe),o(this,M,!!fe),o(this,v,new Map),o(this,b,new Array(r).fill(void 0)),o(this,_,new Array(r).fill(void 0)),o(this,x,new Te(r)),o(this,w,new Te(r)),o(this,S,0),o(this,T,0),o(this,E,xe.create(r)),o(this,y,0),o(this,m,0),"function"==typeof J&&o(this,f,J),"function"==typeof ee?(o(this,d,ee),o(this,A,[])):(o(this,d,void 0),o(this,A,void 0)),o(this,O,!!n(this,f)),o(this,I,!!n(this,d)),this.noDisposeOnSet=!!re,this.noUpdateTTL=!!ie,this.noDeleteOnFetchRejection=!!ye,this.allowStaleOnFetchRejection=!!_e,this.allowStaleOnFetchAbort=!!we,this.ignoreFetchAbort=!!Se,0!==this.maxEntrySize){if(0!==n(this,h)&&!ve(n(this,h)))throw new TypeError("maxSize must be a positive integer if specified");if(!ve(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");a(this,N,W).call(this)}if(this.allowStale=!!K,this.noDeleteOnStaleGet=!!me,this.updateAgeOnGet=!!H,this.updateAgeOnHas=!!G,this.ttlResolution=ve(l)||0===l?l:1,this.ttlAutopurge=!!c,this.ttl=s||0,this.ttl){if(!ve(this.ttl))throw new TypeError("ttl must be a positive integer if specified");a(this,L,R).call(this)}if(0===n(this,u)&&0===this.ttl&&0===n(this,h))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!n(this,u)&&!n(this,h)){let e="LRU_CACHE_UNBOUNDED";Ee=e,!de.has(Ee)&&(de.add(e),ge("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,he))}var Ee}static unsafeExposeInternals(e){return{starts:n(e,C),ttls:n(e,P),sizes:n(e,k),keyMap:n(e,v),keyList:n(e,b),valList:n(e,_),next:n(e,x),prev:n(e,w),get head(){return n(e,S)},get tail(){return n(e,T)},free:n(e,E),isBackgroundFetch:t=>{var r;return a(r=e,te,re).call(r,t)},backgroundFetch:(t,r,n,i)=>{var o;return a(o=e,Z,ee).call(o,t,r,n,i)},moveToTail:t=>{var r;return a(r=e,oe,se).call(r,t)},indexes:t=>{var r;return a(r=e,V,H).call(r,t)},rindexes:t=>{var r;return a(r=e,q,G).call(r,t)},isStale:t=>{var r;return n(r=e,j).call(r,t)}}}get max(){return n(this,u)}get maxSize(){return n(this,h)}get calculatedSize(){return n(this,m)}get size(){return n(this,y)}get fetchMethod(){return n(this,p)}get memoMethod(){return n(this,g)}get dispose(){return n(this,f)}get disposeAfter(){return n(this,d)}getRemainingTTL(e){return n(this,v).has(e)?1/0:0}*entries(){for(let e of a(this,V,H).call(this))void 0!==n(this,_)[e]&&void 0!==n(this,b)[e]&&!a(this,te,re).call(this,n(this,_)[e])&&(yield[n(this,b)[e],n(this,_)[e]])}*rentries(){for(let e of a(this,q,G).call(this))void 0!==n(this,_)[e]&&void 0!==n(this,b)[e]&&!a(this,te,re).call(this,n(this,_)[e])&&(yield[n(this,b)[e],n(this,_)[e]])}*keys(){for(let e of a(this,V,H).call(this)){let t=n(this,b)[e];void 0!==t&&!a(this,te,re).call(this,n(this,_)[e])&&(yield t)}}*rkeys(){for(let e of a(this,q,G).call(this)){let t=n(this,b)[e];void 0!==t&&!a(this,te,re).call(this,n(this,_)[e])&&(yield t)}}*values(){for(let e of a(this,V,H).call(this))void 0!==n(this,_)[e]&&!a(this,te,re).call(this,n(this,_)[e])&&(yield n(this,_)[e])}*rvalues(){for(let e of a(this,q,G).call(this))void 0!==n(this,_)[e]&&!a(this,te,re).call(this,n(this,_)[e])&&(yield n(this,_)[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(let r of a(this,V,H).call(this)){let i=n(this,_)[r],o=a(this,te,re).call(this,i)?i.__staleWhileFetching:i;if(void 0!==o&&e(o,n(this,b)[r],this))return this.get(n(this,b)[r],t)}}forEach(e,t=this){for(let r of a(this,V,H).call(this)){let i=n(this,_)[r],o=a(this,te,re).call(this,i)?i.__staleWhileFetching:i;void 0!==o&&e.call(t,o,n(this,b)[r],this)}}rforEach(e,t=this){for(let r of a(this,q,G).call(this)){let i=n(this,_)[r],o=a(this,te,re).call(this,i)?i.__staleWhileFetching:i;void 0!==o&&e.call(t,o,n(this,b)[r],this)}}purgeStale(){let e=!1;for(let t of a(this,q,G).call(this,{allowStale:!0}))n(this,j).call(this,t)&&(a(this,ae,le).call(this,n(this,b)[t],"expire"),e=!0);return e}info(e){let t=n(this,v).get(e);if(void 0===t)return;let r=n(this,_)[t],i=a(this,te,re).call(this,r)?r.__staleWhileFetching:r;if(void 0===i)return;let o={value:i};if(n(this,P)&&n(this,C)){let e=n(this,P)[t],r=n(this,C)[t];if(e&&r){let t=e-(fe.now()-r);o.ttl=t,o.start=Date.now()}}return n(this,k)&&(o.size=n(this,k)[t]),o}dump(){let e=[];for(let t of a(this,V,H).call(this,{allowStale:!0})){let r=n(this,b)[t],i=n(this,_)[t],o=a(this,te,re).call(this,i)?i.__staleWhileFetching:i;if(void 0===o||void 0===r)continue;let s={value:o};if(n(this,P)&&n(this,C)){s.ttl=n(this,P)[t];let e=fe.now()-n(this,C)[t];s.start=Math.floor(Date.now()-e)}n(this,k)&&(s.size=n(this,k)[t]),e.unshift([r,s])}return e}load(e){this.clear();for(let[t,r]of e){if(r.start){let e=Date.now()-r.start;r.start=fe.now()-e}this.set(t,r.value,r)}}set(e,t,r={}){var i,l,c,h,p;if(void 0===t)return this.delete(e),this;let{ttl:g=this.ttl,start:m,noDisposeOnSet:S=this.noDisposeOnSet,sizeCalculation:k=this.sizeCalculation,status:C}=r,{noUpdateTTL:D=this.noUpdateTTL}=r,j=n(this,z).call(this,e,t,r.size||0,k);if(this.maxEntrySize&&j>this.maxEntrySize)return C&&(C.set="miss",C.maxEntrySizeExceeded=!0),a(this,ae,le).call(this,e,"set"),this;let N=0===n(this,y)?void 0:n(this,v).get(e);if(void 0===N)N=0===n(this,y)?n(this,T):0!==n(this,E).length?n(this,E).pop():n(this,y)===n(this,u)?a(this,Q,J).call(this,!1):n(this,y),n(this,b)[N]=e,n(this,_)[N]=t,n(this,v).set(e,N),n(this,x)[n(this,T)]=N,n(this,w)[N]=n(this,T),o(this,T,N),s(this,y)._++,n(this,$).call(this,N,j,C),C&&(C.set="add"),D=!1;else{a(this,oe,se).call(this,N);let r=n(this,_)[N];if(t!==r){if(n(this,M)&&a(this,te,re).call(this,r)){r.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:t}=r;void 0!==t&&!S&&(n(this,O)&&(null==(i=n(this,f))||i.call(this,t,e,"set")),n(this,I)&&(null==(l=n(this,A))||l.push([t,e,"set"])))}else S||(n(this,O)&&(null==(c=n(this,f))||c.call(this,r,e,"set")),n(this,I)&&(null==(h=n(this,A))||h.push([r,e,"set"])));if(n(this,U).call(this,N),n(this,$).call(this,N,j,C),n(this,_)[N]=t,C){C.set="replace";let e=r&&a(this,te,re).call(this,r)?r.__staleWhileFetching:r;void 0!==e&&(C.oldValue=e)}}else C&&(C.set="update")}if(0!==g&&!n(this,P)&&a(this,L,R).call(this),n(this,P)&&(D||n(this,F).call(this,N,g,m),C&&n(this,B).call(this,C,N)),!S&&n(this,I)&&n(this,A)){let e,t=n(this,A);for(;e=null==t?void 0:t.shift();)null==(p=n(this,d))||p.call(this,...e)}return this}pop(){var e;try{for(;n(this,y);){let e=n(this,_)[n(this,S)];if(a(this,Q,J).call(this,!0),a(this,te,re).call(this,e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(n(this,I)&&n(this,A)){let t,r=n(this,A);for(;t=null==r?void 0:r.shift();)null==(e=n(this,d))||e.call(this,...t)}}}has(e,t={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=t,o=n(this,v).get(e);if(void 0!==o){let e=n(this,_)[o];if(a(this,te,re).call(this,e)&&void 0===e.__staleWhileFetching)return!1;if(!n(this,j).call(this,o))return r&&n(this,D).call(this,o),i&&(i.has="hit",n(this,B).call(this,i,o)),!0;i&&(i.has="stale",n(this,B).call(this,i,o))}else i&&(i.has="miss");return!1}peek(e,t={}){let{allowStale:r=this.allowStale}=t,i=n(this,v).get(e);if(void 0===i||!r&&n(this,j).call(this,i))return;let o=n(this,_)[i];return a(this,te,re).call(this,o)?o.__staleWhileFetching:o}async fetch(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:c=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:m=!1,status:b,signal:x}=t;if(!n(this,M))return b&&(b.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:o,status:b});let w={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:o,ttl:s,noDisposeOnSet:l,size:c,sizeCalculation:u,noUpdateTTL:h,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:g,ignoreFetchAbort:p,status:b,signal:x},S=n(this,v).get(e);if(void 0===S){b&&(b.fetch="miss");let t=a(this,Z,ee).call(this,e,S,w,y);return t.__returned=t}{let t=n(this,_)[S];if(a(this,te,re).call(this,t)){let e=r&&void 0!==t.__staleWhileFetching;return b&&(b.fetch="inflight",e&&(b.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}let o=n(this,j).call(this,S);if(!m&&!o)return b&&(b.fetch="hit"),a(this,oe,se).call(this,S),i&&n(this,D).call(this,S),b&&n(this,B).call(this,b,S),t;let s=a(this,Z,ee).call(this,e,S,w,y),l=void 0!==s.__staleWhileFetching&&r;return b&&(b.fetch=o?"stale":"refresh",l&&o&&(b.returnedStale=!0)),l?s.__staleWhileFetching:s.__returned=s}}async forceFetch(e,t={}){let r=await this.fetch(e,t);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(e,t={}){let r=n(this,g);if(!r)throw new Error("no memoMethod provided to constructor");let{context:i,forceRefresh:o,...s}=t,a=this.get(e,s);if(!o&&void 0!==a)return a;let l=r(e,a,{options:s,context:i});return this.set(e,l,s),l}get(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:s}=t,l=n(this,v).get(e);if(void 0!==l){let t=n(this,_)[l],c=a(this,te,re).call(this,t);return s&&n(this,B).call(this,s,l),n(this,j).call(this,l)?(s&&(s.get="stale"),c?(s&&r&&void 0!==t.__staleWhileFetching&&(s.returnedStale=!0),r?t.__staleWhileFetching:void 0):(o||a(this,ae,le).call(this,e,"expire"),s&&r&&(s.returnedStale=!0),r?t:void 0)):(s&&(s.get="hit"),c?t.__staleWhileFetching:(a(this,oe,se).call(this,l),i&&n(this,D).call(this,l),t))}s&&(s.get="miss")}delete(e){return a(this,ae,le).call(this,e,"delete")}clear(){return a(this,ce,ue).call(this,"delete")}},X=Symbol.toStringTag,u=new WeakMap,h=new WeakMap,f=new WeakMap,d=new WeakMap,p=new WeakMap,g=new WeakMap,y=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakMap,_=new WeakMap,x=new WeakMap,w=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakMap,A=new WeakMap,k=new WeakMap,C=new WeakMap,P=new WeakMap,O=new WeakMap,M=new WeakMap,I=new WeakMap,L=new WeakSet,R=function(){let e=new _e(n(this,u)),t=new _e(n(this,u));o(this,P,e),o(this,C,t),o(this,F,(r,i,o=fe.now())=>{if(t[r]=0!==i?o:0,e[r]=i,0!==i&&this.ttlAutopurge){let e=setTimeout(()=>{n(this,j).call(this,r)&&a(this,ae,le).call(this,n(this,b)[r],"expire")},i+1);e.unref&&e.unref()}}),o(this,D,r=>{t[r]=0!==e[r]?fe.now():0}),o(this,B,(n,o)=>{if(e[o]){let s=e[o],a=t[o];if(!s||!a)return;n.ttl=s,n.start=a,n.now=r||i();let l=n.now-a;n.remainingTTL=s-l}});let r=0,i=()=>{let e=fe.now();if(this.ttlResolution>0){r=e;let t=setTimeout(()=>r=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=o=>{let s=n(this,v).get(o);if(void 0===s)return 0;let a=e[s],l=t[s];return a&&l?a-((r||i())-l):1/0},o(this,j,n=>{let o=t[n],s=e[n];return!!s&&!!o&&(r||i())-o>s})},D=new WeakMap,B=new WeakMap,F=new WeakMap,j=new WeakMap,N=new WeakSet,W=function(){let e=new _e(n(this,u));o(this,m,0),o(this,k,e),o(this,U,t=>{o(this,m,n(this,m)-e[t]),e[t]=0}),o(this,z,(e,t,r,n)=>{if(a(this,te,re).call(this,t))return 0;if(!ve(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!ve(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r}),o(this,$,(t,r,i)=>{if(e[t]=r,n(this,h)){let r=n(this,h)-e[t];for(;n(this,m)>r;)a(this,Q,J).call(this,!0)}o(this,m,n(this,m)+e[t]),i&&(i.entrySize=r,i.totalCalculatedSize=n(this,m))})},U=new WeakMap,$=new WeakMap,z=new WeakMap,V=new WeakSet,H=function*({allowStale:e=this.allowStale}={}){if(n(this,y))for(let t=n(this,T);a(this,Y,K).call(this,t)&&((e||!n(this,j).call(this,t))&&(yield t),t!==n(this,S));)t=n(this,w)[t]},q=new WeakSet,G=function*({allowStale:e=this.allowStale}={}){if(n(this,y))for(let t=n(this,S);a(this,Y,K).call(this,t)&&((e||!n(this,j).call(this,t))&&(yield t),t!==n(this,T));)t=n(this,x)[t]},Y=new WeakSet,K=function(e){return void 0!==e&&n(this,v).get(n(this,b)[e])===e},Q=new WeakSet,J=function(e){var t,r;let i=n(this,S),l=n(this,b)[i],c=n(this,_)[i];return n(this,M)&&a(this,te,re).call(this,c)?c.__abortController.abort(new Error("evicted")):(n(this,O)||n(this,I))&&(n(this,O)&&(null==(t=n(this,f))||t.call(this,c,l,"evict")),n(this,I)&&(null==(r=n(this,A))||r.push([c,l,"evict"]))),n(this,U).call(this,i),e&&(n(this,b)[i]=void 0,n(this,_)[i]=void 0,n(this,E).push(i)),1===n(this,y)?(o(this,S,o(this,T,0)),n(this,E).length=0):o(this,S,n(this,x)[i]),n(this,v).delete(l),s(this,y)._--,i},Z=new WeakSet,ee=function(e,t,r,i){let o=void 0===t?void 0:n(this,_)[t];if(a(this,te,re).call(this,o))return o;let s=new ye,{signal:l}=r;null==l||l.addEventListener("abort",()=>s.abort(l.reason),{signal:s.signal});let c={signal:s.signal,options:r,context:i},u=(i,o=!1)=>{let{aborted:l}=s.signal,u=r.ignoreFetchAbort&&void 0!==i;if(r.status&&(l&&!o?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,u&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),l&&!u&&!o)return h(s.signal.reason);let d=f;return n(this,_)[t]===f&&(void 0===i?d.__staleWhileFetching?n(this,_)[t]=d.__staleWhileFetching:a(this,ae,le).call(this,e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(e,i,c.options))),i},h=i=>{let{aborted:o}=s.signal,l=o&&r.allowStaleOnFetchAbort,c=l||r.allowStaleOnFetchRejection,u=c||r.noDeleteOnFetchRejection,h=f;if(n(this,_)[t]===f&&(u&&void 0!==h.__staleWhileFetching?l||(n(this,_)[t]=h.__staleWhileFetching):a(this,ae,le).call(this,e,"fetch")),c)return r.status&&void 0!==h.__staleWhileFetching&&(r.status.returnedStale=!0),h.__staleWhileFetching;if(h.__returned===h)throw i};r.status&&(r.status.fetchDispatched=!0);let f=new Promise((t,i)=>{var a;let l=null==(a=n(this,p))?void 0:a.call(this,e,o,c);l&&l instanceof Promise&&l.then(e=>t(void 0===e?void 0:e),i),s.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>u(e,!0)))})}).then(u,e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),h(e))),d=Object.assign(f,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(e,d,{...c.options,status:void 0}),t=n(this,v).get(e)):n(this,_)[t]=d,d},te=new WeakSet,re=function(e){if(!n(this,M))return!1;let t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof ye},ne=new WeakSet,ie=function(e,t){n(this,w)[t]=e,n(this,x)[e]=t},oe=new WeakSet,se=function(e){e!==n(this,T)&&(e===n(this,S)?o(this,S,n(this,x)[e]):a(this,ne,ie).call(this,n(this,w)[e],n(this,x)[e]),a(this,ne,ie).call(this,n(this,T),e),o(this,T,e))},ae=new WeakSet,le=function(e,t){var r,i,l,c;let u=!1;if(0!==n(this,y)){let l=n(this,v).get(e);if(void 0!==l)if(u=!0,1===n(this,y))a(this,ce,ue).call(this,t);else{n(this,U).call(this,l);let c=n(this,_)[l];if(a(this,te,re).call(this,c)?c.__abortController.abort(new Error("deleted")):(n(this,O)||n(this,I))&&(n(this,O)&&(null==(r=n(this,f))||r.call(this,c,e,t)),n(this,I)&&(null==(i=n(this,A))||i.push([c,e,t]))),n(this,v).delete(e),n(this,b)[l]=void 0,n(this,_)[l]=void 0,l===n(this,T))o(this,T,n(this,w)[l]);else if(l===n(this,S))o(this,S,n(this,x)[l]);else{let e=n(this,w)[l];n(this,x)[e]=n(this,x)[l];let t=n(this,x)[l];n(this,w)[t]=n(this,w)[l]}s(this,y)._--,n(this,E).push(l)}}if(n(this,I)&&(null==(l=n(this,A))?void 0:l.length)){let e,t=n(this,A);for(;e=null==t?void 0:t.shift();)null==(c=n(this,d))||c.call(this,...e)}return u},ce=new WeakSet,ue=function(e){var t,r,i;for(let o of a(this,q,G).call(this,{allowStale:!0})){let i=n(this,_)[o];if(a(this,te,re).call(this,i))i.__abortController.abort(new Error("deleted"));else{let s=n(this,b)[o];n(this,O)&&(null==(t=n(this,f))||t.call(this,i,s,e)),n(this,I)&&(null==(r=n(this,A))||r.push([i,s,e]))}}if(n(this,v).clear(),n(this,_).fill(void 0),n(this,b).fill(void 0),n(this,P)&&n(this,C)&&(n(this,P).fill(0),n(this,C).fill(0)),n(this,k)&&n(this,k).fill(0),o(this,S,0),o(this,T,0),n(this,E).length=0,o(this,m,0),o(this,y,0),n(this,I)&&n(this,A)){let e,t=n(this,A);for(;e=null==t?void 0:t.shift();)null==(i=n(this,d))||i.call(this,...e)}},he);e.LRUCache=we}),Hx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;e.ContainerIterator=class{constructor(e=0){this.iteratorType=e}equals(e){return this.o===e.o}};var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return 0===this.i}};e.Base=t;e.Container=class extends t{}}),qx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Hx(),r=class extends t.Base{constructor(e=[]){super(),this.S=[];let t=this;e.forEach(function(e){t.push(e)})}clear(){this.i=0,this.S=[]}push(e){return this.S.push(e),this.i+=1,this.i}pop(){if(0!==this.i)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}};e.default=r}),Gx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Hx(),r=class extends t.Base{constructor(e=[]){super(),this.j=0,this.q=[];let t=this;e.forEach(function(e){t.push(e)})}clear(){this.q=[],this.i=this.j=0}push(e){let t=this.q.length;if(this.j/t>.5&&this.j+this.i>=t&&t>4096){let t=this.i;for(let e=0;e<t;++e)this.q[e]=this.q[this.j+e];this.j=0,this.q[this.i]=e}else this.q[this.j+this.i]=e;return++this.i}pop(){if(0===this.i)return;let e=this.q[this.j++];return this.i-=1,e}front(){if(0!==this.i)return this.q[this.j]}};e.default=r}),Yx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Hx(),r=class extends t.Base{constructor(e=[],t=function(e,t){return e>t?-1:e<t?1:0},r=!0){if(super(),this.v=t,Array.isArray(e))this.C=r?[...e]:e;else{this.C=[];let t=this;e.forEach(function(e){t.C.push(e)})}this.i=this.C.length;let n=this.i>>1;for(let i=this.i-1>>1;i>=0;--i)this.k(i,n)}m(e){let t=this.C[e];for(;e>0;){let r=e-1>>1,n=this.C[r];if(this.v(n,t)<=0)break;this.C[e]=n,e=r}this.C[e]=t}k(e,t){let r=this.C[e];for(;e<t;){let t=e<<1|1,n=t+1,i=this.C[t];if(n<this.i&&this.v(i,this.C[n])>0&&(t=n,i=this.C[n]),this.v(i,r)>=0)break;this.C[e]=i,e=t}this.C[e]=r}clear(){this.i=0,this.C.length=0}push(e){this.C.push(e),this.m(this.i),this.i+=1}pop(){if(0===this.i)return;let e=this.C[0],t=this.C.pop();return this.i-=1,this.i&&(this.C[0]=t,this.k(0,this.i>>1)),e}top(){return this.C[0]}find(e){return this.C.indexOf(e)>=0}remove(e){let t=this.C.indexOf(e);return!(t<0)&&(0===t?this.pop():t===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(t,1,this.C.pop()),this.i-=1,this.m(t),this.k(t,this.i>>1)),!0)}updateItem(e){let t=this.C.indexOf(e);return!(t<0)&&(this.m(t),this.k(t,this.i>>1),!0)}toArray(){return[...this.C]}};e.default=r}),Kx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Hx(),r=class extends t.Container{};e.default=r}),Xx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=function(){throw new RangeError("Iterator access denied!")}}),Qx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=Hx(),r=Xx(),n=class extends t.ContainerIterator{constructor(e,t){super(t),this.o=e,0===this.iteratorType?(this.pre=function(){return 0===this.o&&(0,r.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return-1===this.o&&(0,r.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(e){this.container.setElementByPos(this.o,e)}};e.RandomIterator=n}),Jx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t,r=(t=Kx())&&t.t?t:{default:t},n=Qx();var i=class e extends n.RandomIterator{constructor(e,t,r){super(e,r),this.container=t}copy(){return new e(this.o,this.container,this.iteratorType)}},o=class extends r.default{constructor(e=[],t=!0){if(super(),Array.isArray(e))this.J=t?[...e]:e,this.i=e.length;else{this.J=[];let t=this;e.forEach(function(e){t.pushBack(e)})}}clear(){this.i=0,this.J.length=0}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J[e]}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J.splice(e,1),this.i-=1,this.i}eraseElementByValue(e){let t=0;for(let r=0;r<this.i;++r)this.J[r]!==e&&(this.J[t++]=this.J[r]);return this.i=this.J.length=t,this.i}eraseElementByIterator(e){let t=e.o;return e=e.next(),this.eraseElementByPos(t),e}pushBack(e){return this.J.push(e),this.i+=1,this.i}popBack(){if(0!==this.i)return this.i-=1,this.J.pop()}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;this.J[e]=t}insert(e,t,r=1){if(e<0||e>this.i)throw new RangeError;return this.J.splice(e,0,...new Array(r).fill(t)),this.i+=r,this.i}find(e){for(let t=0;t<this.i;++t)if(this.J[t]===e)return new i(t,this);return this.end()}reverse(){this.J.reverse()}unique(){let e=1;for(let t=1;t<this.i;++t)this.J[t]!==this.J[t-1]&&(this.J[e++]=this.J[t]);return this.i=this.J.length=e,this.i}sort(e){this.J.sort(e)}forEach(e){for(let t=0;t<this.i;++t)e(this.J[t],t,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}};e.default=o}),Zx=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t,r=(t=Kx())&&t.t?t:{default:t},n=Hx(),i=Xx();var o=class e extends n.ContainerIterator{constructor(e,t,r,n){super(n),this.o=e,this.h=t,this.container=r,0===this.iteratorType?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l}set pointer(e){this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l=e}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends r.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let t=this;e.forEach(function(e){t.pushBack(e)})}V(e){let{L:t,B:r}=e;t.B=r,r.L=t,e===this.p&&(this.p=r),e===this._&&(this._=t),this.i-=1}G(e,t){let r=t.B,n={l:e,L:t,B:r};t.B=n,r.L=n,t===this.h&&(this.p=n),r===this.h&&(this._=n),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return t.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return this.V(t),this.i}eraseElementByValue(e){let t=this.p;for(;t!==this.h;)t.l===e&&this.V(t),t=t.B;return this.i}eraseElementByIterator(e){let t=e.o;return t===this.h&&(0,i.throwIteratorAccessError)(),e=e.next(),this.V(t),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(0===this.i)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(0===this.i)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;r.l=t}insert(e,t,r=1){if(e<0||e>this.i)throw new RangeError;if(r<=0)return this.i;if(0===e)for(;r--;)this.pushFront(t);else if(e===this.i)for(;r--;)this.pushBack(t);else{let n=this.p;for(let t=1;t<e;++t)n=n.B;let i=n.B;for(this.i+=r;r--;)n.B={l:t,L:n},n.B.L=n,n=n.B;n.B=i,i.L=n}return this.i}find(e){let t=this.p;for(;t!==this.h;){if(t.l===e)return new o(t,this.h,this);t=t.B}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,t=this._,r=0;for(;r<<1<this.i;){let n=e.l;e.l=t.l,t.l=n,e=e.B,t=t.L,r+=1}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let t=e;for(;t.B!==this.h&&t.l===t.B.l;)t=t.B,this.i-=1;e.B=t.B,e.B.L=e,e=e.B}return this.i}sort(e){if(this.i<=1)return;let t=[];this.forEach(function(e){t.push(e)}),t.sort(e);let r=this.p;t.forEach(function(e){r.l=e,r=r.B})}merge(e){let t=this;if(0===this.i)e.forEach(function(e){t.pushBack(e)});else{let r=this.p;e.forEach(function(e){for(;r!==t.h&&r.l<=e;)r=r.B;t.G(e,r.L)})}return this.i}forEach(e){let t=this.p,r=0;for(;t!==this.h;)e(t.l,r++,this),t=t.B}[Symbol.iterator](){return function*(){if(0===this.i)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B}.bind(this)()}};e.default=s}),ew=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t,r=(t=Kx())&&t.t?t:{default:t},n=Qx();var i=class e extends n.RandomIterator{constructor(e,t,r){super(e,r),this.container=t}copy(){return new e(this.o,this.container,this.iteratorType)}},o=class extends r.default{constructor(e=[],t=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let r=(()=>{if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("function"==typeof e.size)return e.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=t,this.P=Math.max(Math.ceil(r/this.F),1);for(let o=0;o<this.P;++o)this.A.push(new Array(this.F));let n=Math.ceil(r/this.F);this.j=this.R=(this.P>>1)-(n>>1),this.D=this.N=this.F-r%this.F>>1;let i=this;e.forEach(function(e){i.pushBack(e)})}T(){let e=[],t=Math.max(this.P>>1,1);for(let r=0;r<t;++r)e[r]=new Array(this.F);for(let r=this.j;r<this.P;++r)e[e.length]=this.A[r];for(let r=0;r<this.R;++r)e[e.length]=this.A[r];e[e.length]=[...this.A[this.R]],this.j=t,this.R=e.length-1;for(let r=0;r<t;++r)e[e.length]=new Array(this.F);this.A=e,this.P=e.length}O(e){let t=this.D+e+1,r=t%this.F,n=r-1,i=this.j+(t-r)/this.F;return 0===r&&(i-=1),i%=this.P,n<0&&(n+=this.F),{curNodeBucketIndex:i,curNodePointerIndex:n}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){if(0!==this.i)return this.A[this.j][this.D]}back(){if(0!==this.i)return this.A[this.R][this.N]}pushBack(e){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=e,this.i}popBack(){if(0===this.i)return;let e=this.A[this.R][this.N];return 1!==this.i&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,e}pushFront(e){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=e,this.i}popFront(){if(0===this.i)return;let e=this.A[this.j][this.D];return 1!==this.i&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,e}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:t,curNodePointerIndex:r}=this.O(e);return this.A[t][r]}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:r,curNodePointerIndex:n}=this.O(e);this.A[r][n]=t}insert(e,t,r=1){if(e<0||e>this.i)throw new RangeError;if(0===e)for(;r--;)this.pushFront(t);else if(e===this.i)for(;r--;)this.pushBack(t);else{let n=[];for(let t=e;t<this.i;++t)n.push(this.getElementByPos(t));this.cut(e-1);for(let e=0;e<r;++e)this.pushBack(t);for(let e=0;e<n.length;++e)this.pushBack(n[e])}return this.i}cut(e){if(e<0)return this.clear(),0;let{curNodeBucketIndex:t,curNodePointerIndex:r}=this.O(e);return this.R=t,this.N=r,this.i=e+1,this.i}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;if(0===e)this.popFront();else if(e===this.i-1)this.popBack();else{let t=[];for(let n=e+1;n<this.i;++n)t.push(this.getElementByPos(n));this.cut(e),this.popBack();let r=this;t.forEach(function(e){r.pushBack(e)})}return this.i}eraseElementByValue(e){if(0===this.i)return 0;let t=[];for(let n=0;n<this.i;++n){let r=this.getElementByPos(n);r!==e&&t.push(r)}let r=t.length;for(let n=0;n<r;++n)this.setElementByPos(n,t[n]);return this.cut(r-1)}eraseElementByIterator(e){let t=e.o;return this.eraseElementByPos(t),e=e.next()}find(e){for(let t=0;t<this.i;++t)if(this.getElementByPos(t)===e)return new i(t,this);return this.end()}reverse(){let e=0,t=this.i-1;for(;e<t;){let r=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,r),e+=1,t-=1}}unique(){if(this.i<=1)return this.i;let e=1,t=this.getElementByPos(0);for(let r=1;r<this.i;++r){let n=this.getElementByPos(r);n!==t&&(t=n,this.setElementByPos(e++,n))}for(;this.i>e;)this.popBack();return this.i}sort(e){let t=[];for(let r=0;r<this.i;++r)t.push(this.getElementByPos(r));t.sort(e);for(let r=0;r<this.i;++r)this.setElementByPos(r,t[r])}shrinkToFit(){if(0===this.i)return;let e=[];this.forEach(function(t){e.push(t)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let t=0;t<this.P;++t)this.A.push(new Array(this.F));for(let t=0;t<e.length;++t)this.pushBack(e[t])}forEach(e){for(let t=0;t<this.i;++t)e(this.getElementByPos(t),t,this)}[Symbol.iterator](){return function*(){for(let e=0;e<this.i;++e)yield this.getElementByPos(e)}.bind(this)()}};e.default=o}),tw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(e,t){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=e,this.l=t}L(){let e=this;if(1===e.ee&&e.tt.tt===e)e=e.W;else if(e.U)for(e=e.U;e.W;)e=e.W;else{let t=e.tt;for(;t.U===e;)e=t,t=e.tt;e=t}return e}B(){let e=this;if(e.W){for(e=e.W;e.U;)e=e.U;return e}{let t=e.tt;for(;t.W===e;)e=t,t=e.tt;return e.W!==t?t:e}}te(){let e=this.tt,t=this.W,r=t.U;return e.tt===this?e.tt=t:e.U===this?e.U=t:e.W=t,t.tt=e,t.U=this,this.tt=t,this.W=r,r&&(r.tt=this),t}se(){let e=this.tt,t=this.U,r=t.W;return e.tt===this?e.tt=t:e.U===this?e.U=t:e.W=t,t.tt=e,t.W=this,this.tt=t,this.U=r,r&&(r.tt=this),t}};e.TreeNode=t;e.TreeNodeEnableIndex=class extends t{constructor(){super(...arguments),this.rt=1}te(){let e=super.te();return this.ie(),e.ie(),e}se(){let e=super.se();return this.ie(),e.ie(),e}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}}),rw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=tw(),r=Hx(),n=Xx(),i=class extends r.Container{constructor(e=function(e,t){return e<t?-1:e>t?1:0},r=!1){super(),this.Y=void 0,this.v=e,r?(this.re=t.TreeNodeEnableIndex,this.M=function(e,t,r){let n=this.ne(e,t,r);if(n){let e=n.tt;for(;e!==this.h;)e.rt+=1,e=e.tt;let t=this.he(n);if(t){let{parentNode:e,grandParent:r,curNode:n}=t;e.ie(),r.ie(),n.ie()}}return this.i},this.V=function(e){let t=this.fe(e);for(;t!==this.h;)t.rt-=1,t=t.tt}):(this.re=t.TreeNode,this.M=function(e,t,r){let n=this.ne(e,t,r);return n&&this.he(n),this.i},this.V=this.fe),this.h=new this.re}X(e,t){let r=this.h;for(;e;){let n=this.v(e.u,t);if(n<0)e=e.W;else{if(!(n>0))return e;r=e,e=e.U}}return r}Z(e,t){let r=this.h;for(;e;)this.v(e.u,t)<=0?e=e.W:(r=e,e=e.U);return r}$(e,t){let r=this.h;for(;e;){let n=this.v(e.u,t);if(n<0)r=e,e=e.W;else{if(!(n>0))return e;e=e.U}}return r}rr(e,t){let r=this.h;for(;e;)this.v(e.u,t)<0?(r=e,e=e.W):e=e.U;return r}ue(e){for(;;){let t=e.tt;if(t===this.h)return;if(1===e.ee)return void(e.ee=0);if(e===t.U){let r=t.W;if(1===r.ee)r.ee=0,t.ee=1,t===this.Y?this.Y=t.te():t.te();else{if(r.W&&1===r.W.ee)return r.ee=t.ee,t.ee=0,r.W.ee=0,void(t===this.Y?this.Y=t.te():t.te());r.U&&1===r.U.ee?(r.ee=1,r.U.ee=0,r.se()):(r.ee=1,e=t)}}else{let r=t.U;if(1===r.ee)r.ee=0,t.ee=1,t===this.Y?this.Y=t.se():t.se();else{if(r.U&&1===r.U.ee)return r.ee=t.ee,t.ee=0,r.U.ee=0,void(t===this.Y?this.Y=t.se():t.se());r.W&&1===r.W.ee?(r.ee=1,r.W.ee=0,r.te()):(r.ee=1,e=t)}}}}fe(e){if(1===this.i)return this.clear(),this.h;let t=e;for(;t.U||t.W;){if(t.W)for(t=t.W;t.U;)t=t.U;else t=t.U;[e.u,t.u]=[t.u,e.u],[e.l,t.l]=[t.l,e.l],e=t}this.h.U===t?this.h.U=t.tt:this.h.W===t&&(this.h.W=t.tt),this.ue(t);let r=t.tt;return t===r.U?r.U=void 0:r.W=void 0,this.i-=1,this.Y.ee=0,r}oe(e,t){return void 0!==e&&(!(!this.oe(e.U,t)&&!t(e))||this.oe(e.W,t))}he(e){for(;;){let t=e.tt;if(0===t.ee)return;let r=t.tt;if(t===r.U){let n=r.W;if(n&&1===n.ee){if(n.ee=t.ee=0,r===this.Y)return;r.ee=1,e=r;continue}if(e===t.W){if(e.ee=0,e.U&&(e.U.tt=t),e.W&&(e.W.tt=r),t.W=e.U,r.U=e.W,e.U=t,e.W=r,r===this.Y)this.Y=e,this.h.tt=e;else{let t=r.tt;t.U===r?t.U=e:t.W=e}return e.tt=r.tt,t.tt=e,r.tt=e,r.ee=1,{parentNode:t,grandParent:r,curNode:e}}t.ee=0,r===this.Y?this.Y=r.se():r.se(),r.ee=1}else{let n=r.U;if(n&&1===n.ee){if(n.ee=t.ee=0,r===this.Y)return;r.ee=1,e=r;continue}if(e===t.U){if(e.ee=0,e.U&&(e.U.tt=r),e.W&&(e.W.tt=t),r.W=e.U,t.U=e.W,e.U=r,e.W=t,r===this.Y)this.Y=e,this.h.tt=e;else{let t=r.tt;t.U===r?t.U=e:t.W=e}return e.tt=r.tt,t.tt=e,r.tt=e,r.ee=1,{parentNode:t,grandParent:r,curNode:e}}t.ee=0,r===this.Y?this.Y=r.te():r.te(),r.ee=1}return}}ne(e,t,r){if(void 0===this.Y)return this.i+=1,this.Y=new this.re(e,t),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,void(this.h.W=this.Y);let n,i=this.h.U,o=this.v(i.u,e);if(0!==o){if(o>0)i.U=new this.re(e,t),i.U.tt=i,n=i.U,this.h.U=n;else{let i=this.h.W,o=this.v(i.u,e);if(0===o)return void(i.l=t);if(o<0)i.W=new this.re(e,t),i.W.tt=i,n=i.W,this.h.W=n;else{if(void 0!==r){let i=r.o;if(i!==this.h){let r=this.v(i.u,e);if(0===r)return void(i.l=t);if(r>0){let r=i.L(),o=this.v(r.u,e);if(0===o)return void(r.l=t);o<0&&(n=new this.re(e,t),void 0===r.W?(r.W=n,n.tt=r):(i.U=n,n.tt=i))}}}if(void 0===n)for(n=this.Y;;){let r=this.v(n.u,e);if(r>0){if(void 0===n.U){n.U=new this.re(e,t),n.U.tt=n,n=n.U;break}n=n.U}else{if(!(r<0))return void(n.l=t);if(void 0===n.W){n.W=new this.re(e,t),n.W.tt=n,n=n.W;break}n=n.W}}}}return this.i+=1,n}i.l=t}I(e,t){for(;e;){let r=this.v(e.u,t);if(r<0)e=e.W;else{if(!(r>0))return e;e=e.U}}return e||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(e,t){let r=e.o;if(r===this.h&&(0,n.throwIteratorAccessError)(),1===this.i)return r.u=t,!0;if(r===this.h.U)return this.v(r.B().u,t)>0&&(r.u=t,!0);if(r===this.h.W)return this.v(r.L().u,t)<0&&(r.u=t,!0);let i=r.L().u;if(this.v(i,t)>=0)return!1;let o=r.B().u;return!(this.v(o,t)<=0)&&(r.u=t,!0)}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=0,r=this;return this.oe(this.Y,function(n){return e===t?(r.V(n),!0):(t+=1,!1)}),this.i}eraseElementByKey(e){if(0===this.i)return!1;let t=this.I(this.Y,e);return t!==this.h&&(this.V(t),!0)}eraseElementByIterator(e){let t=e.o;t===this.h&&(0,n.throwIteratorAccessError)();let r=void 0===t.W;return 0===e.iteratorType?r&&e.next():(!r||void 0===t.U)&&e.next(),this.V(t),e}forEach(e){let t=0;for(let r of this)e(r,t++,this)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t,r=0;for(let n of this){if(r===e){t=n;break}r+=1}return t}getHeight(){if(0===this.i)return 0;let e=function(t){return t?Math.max(e(t.U),e(t.W))+1:0};return e(this.Y)}};e.default=i}),nw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Hx(),r=Xx(),n=class extends t.ContainerIterator{constructor(e,t,n){super(n),this.o=e,this.h=t,0===this.iteratorType?(this.pre=function(){return this.o===this.h.U&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let e=this.o,t=this.h.tt;if(e===this.h)return t?t.rt-1:0;let r=0;for(e.U&&(r+=e.U.rt);e!==t;){let t=e.tt;e===t.W&&(r+=1,t.U&&(r+=t.U.rt)),e=t}return r}};e.default=n}),iw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(rw()),r=i(nw()),n=Xx();function i(e){return e&&e.t?e:{default:e}}var o=class e extends r.default{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(e=[],t,r){super(t,r);let n=this;e.forEach(function(e){n.insert(e)})}*K(e){void 0!==e&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,t){return this.M(e,void 0,t)}find(e){let t=this.I(this.Y,e);return new o(t,this.h,this)}lowerBound(e){let t=this.X(this.Y,e);return new o(t,this.h,this)}upperBound(e){let t=this.Z(this.Y,e);return new o(t,this.h,this)}reverseLowerBound(e){let t=this.$(this.Y,e);return new o(t,this.h,this)}reverseUpperBound(e){let t=this.rr(this.Y,e);return new o(t,this.h,this)}union(e){let t=this;return e.forEach(function(e){t.insert(e)}),this.i}[Symbol.iterator](){return this.K(this.Y)}};e.default=s}),ow=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(rw()),r=i(nw()),n=Xx();function i(e){return e&&e.t?e:{default:e}}var o=class e extends r.default{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let e=this;return new Proxy([],{get:(t,r)=>"0"===r?e.o.u:"1"===r?e.o.l:void 0,set(t,r,n){if("1"!==r)throw new TypeError("props must be 1");return e.o.l=n,!0}})}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(e=[],t,r){super(t,r);let n=this;e.forEach(function(e){n.setElement(e[0],e[1])})}*K(e){void 0!==e&&(yield*this.K(e.U),yield[e.u,e.l],yield*this.K(e.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(0===this.i)return;let e=this.h.U;return[e.u,e.l]}back(){if(0===this.i)return;let e=this.h.W;return[e.u,e.l]}lowerBound(e){let t=this.X(this.Y,e);return new o(t,this.h,this)}upperBound(e){let t=this.Z(this.Y,e);return new o(t,this.h,this)}reverseLowerBound(e){let t=this.$(this.Y,e);return new o(t,this.h,this)}reverseUpperBound(e){let t=this.rr(this.Y,e);return new o(t,this.h,this)}setElement(e,t,r){return this.M(e,t,r)}find(e){let t=this.I(this.Y,e);return new o(t,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let t=this;return e.forEach(function(e){t.setElement(e[0],e[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}};e.default=s}),sw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=function(e){let t=typeof e;return"object"===t&&null!==e||"function"===t}}),aw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t,r=Hx(),n=(t=sw())&&t.t?t:{default:t},i=Xx();var o=class extends r.ContainerIterator{constructor(e,t,r){super(r),this.o=e,this.h=t,0===this.iteratorType?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=o;var s=class extends r.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(e){let{L:t,B:r}=e;t.B=r,r.L=t,e===this.p&&(this.p=r),e===this._&&(this._=t),this.i-=1}M(e,t,r){let i;if(void 0===r&&(r=(0,n.default)(e)),r){let r=e[this.HASH_TAG];if(void 0!==r)return this.H[r].l=t,this.i;Object.defineProperty(e,this.HASH_TAG,{value:this.H.length,configurable:!0}),i={u:e,l:t,L:this._,B:this.h},this.H.push(i)}else{let r=this.g[e];if(r)return r.l=t,this.i;i={u:e,l:t,L:this._,B:this.h},this.g[e]=i}return 0===this.i?(this.p=i,this.h.B=i):this._.B=i,this._=i,this.h.L=i,++this.i}I(e,t){if(void 0===t&&(t=(0,n.default)(e)),t){let t=e[this.HASH_TAG];return void 0===t?this.h:this.H[t]}return this.g[e]||this.h}clear(){let e=this.HASH_TAG;this.H.forEach(function(t){delete t.u[e]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(e,t){let r;if(void 0===t&&(t=(0,n.default)(e)),t){let t=e[this.HASH_TAG];if(void 0===t)return!1;delete e[this.HASH_TAG],r=this.H[t],delete this.H[t]}else{if(r=this.g[e],void 0===r)return!1;delete this.g[e]}return this.V(r),!0}eraseElementByIterator(e){let t=e.o;return t===this.h&&(0,i.throwIteratorAccessError)(),this.V(t),e.next()}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return this.V(t),this.i}};e.HashContainer=s}),lw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=aw(),r=Xx(),n=class e extends t.HashContainerIterator{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.HashContainer{constructor(e=[]){super();let t=this;e.forEach(function(e){t.insert(e)})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(e,t){return this.M(e,void 0,t)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return t.u}find(e,t){let r=this.I(e,t);return new n(r,this.h,this)}forEach(e){let t=0,r=this.p;for(;r!==this.h;)e(r.u,t++,this),r=r.B}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield e.u,e=e.B}.bind(this)()}};e.default=i}),cw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t,r=aw(),n=(t=sw())&&t.t?t:{default:t},i=Xx();var o=class e extends r.HashContainerIterator{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let e=this;return new Proxy([],{get:(t,r)=>"0"===r?e.o.u:"1"===r?e.o.l:void 0,set(t,r,n){if("1"!==r)throw new TypeError("props must be 1");return e.o.l=n,!0}})}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends r.HashContainer{constructor(e=[]){super();let t=this;e.forEach(function(e){t.setElement(e[0],e[1])})}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(0!==this.i)return[this.p.u,this.p.l]}back(){if(0!==this.i)return[this._.u,this._.l]}setElement(e,t,r){return this.M(e,t,r)}getElementByKey(e,t){if(void 0===t&&(t=(0,n.default)(e)),t){let t=e[this.HASH_TAG];return void 0!==t?this.H[t].l:void 0}let r=this.g[e];return r?r.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return[t.u,t.l]}find(e,t){let r=this.I(e,t);return new o(r,this.h,this)}forEach(e){let t=0,r=this.p;for(;r!==this.h;)e([r.u,r.l],t++,this),r=r.B}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield[e.u,e.l],e=e.B}.bind(this)()}};e.default=s}),uw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return i.default}});var t=h(qx()),r=h(Gx()),n=h(Yx()),i=h(Jx()),o=h(Zx()),s=h(ew()),a=h(iw()),l=h(ow()),c=h(lw()),u=h(cw());function h(e){return e&&e.t?e:{default:e}}}),hw=Fv((e,t)=>{Wv(),L_(),v_();var r=uw().OrderedSet,n=Cx()("number-allocator:trace"),i=Cx()("number-allocator:error");function o(e,t){this.low=e,this.high=t}function s(e,t){if(!(this instanceof s))return new s(e,t);this.min=e,this.max=t,this.ss=new r([],(e,t)=>e.compare(t)),n("Create"),this.clear()}o.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},o.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},s.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},s.prototype.alloc=function(){if(0===this.ss.size())return n("alloc():empty"),null;let e=this.ss.begin(),t=e.pointer.low,r=e.pointer.high,i=t;return i+1<=r?this.ss.updateKeyByIterator(e,new o(t+1,r)):this.ss.eraseElementByPos(0),n("alloc():"+i),i},s.prototype.use=function(e){let t=new o(e,e),r=this.ss.lowerBound(t);if(!r.equals(this.ss.end())){let i=r.pointer.low,s=r.pointer.high;return r.pointer.equals(t)?(this.ss.eraseElementByIterator(r),n("use():"+e),!0):!(i>e)&&(i===e?(this.ss.updateKeyByIterator(r,new o(i+1,s)),n("use():"+e),!0):s===e?(this.ss.updateKeyByIterator(r,new o(i,s-1)),n("use():"+e),!0):(this.ss.updateKeyByIterator(r,new o(e+1,s)),this.ss.insert(new o(i,e-1)),n("use():"+e),!0))}return n("use():failed"),!1},s.prototype.free=function(e){if(e<this.min||e>this.max)return void i("free():"+e+" is out of range");let t=new o(e,e),r=this.ss.upperBound(t);if(r.equals(this.ss.end())){if(r.equals(this.ss.begin()))return void this.ss.insert(t);r.pre();let n=r.pointer.high;r.pointer.high+1===e?this.ss.updateKeyByIterator(r,new o(n,e)):this.ss.insert(t)}else if(r.equals(this.ss.begin()))if(e+1===r.pointer.low){let t=r.pointer.high;this.ss.updateKeyByIterator(r,new o(e,t))}else this.ss.insert(t);else{let n=r.pointer.low,i=r.pointer.high;r.pre();let s=r.pointer.low;r.pointer.high+1===e?e+1===n?(this.ss.eraseElementByIterator(r),this.ss.updateKeyByIterator(r,new o(s,i))):this.ss.updateKeyByIterator(r,new o(s,e)):e+1===n?(this.ss.eraseElementByIterator(r.next()),this.ss.insert(new o(e,i))):this.ss.insert(t)}n("free():"+e)},s.prototype.clear=function(){n("clear()"),this.ss.clear(),this.ss.insert(new o(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(let e of this.ss)console.log(e)},t.exports=s}),fw=Fv((e,t)=>{Wv(),L_(),v_();var r=hw();t.exports.NumberAllocator=r}),dw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0});var r=Vx(),n=fw();e.default=class{constructor(e){t(this,"aliasToTopic"),t(this,"topicToAlias"),t(this,"max"),t(this,"numberAllocator"),t(this,"length"),e>0&&(this.aliasToTopic=new r.LRUCache({max:e}),this.topicToAlias={},this.numberAllocator=new n.NumberAllocator(1,e),this.max=e,this.length=0)}put(e,t){if(0===t||t>this.max)return!1;let r=this.aliasToTopic.get(t);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(t,e),this.topicToAlias[e]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.size,!0}getTopicByAlias(e){return this.aliasToTopic.get(e)}getAliasByTopic(e){let t=this.topicToAlias[e];return typeof t<"u"&&this.aliasToTopic.get(t),t}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}}}),pw=Fv(e=>{Wv(),L_(),v_();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=$x(),n=t(dw()),i=Ux();e.default=(e,t)=>{e.log("_handleConnack");let{options:o}=e,s=5===o.protocolVersion?t.reasonCode:t.returnCode;if(clearTimeout(e.connackTimer),delete e.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535)return void e.emit("error",new Error("topicAliasMaximum from broker is out of range"));t.properties.topicAliasMaximum>0&&(e.topicAliasSend=new n.default(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&o.keepalive&&(o.keepalive=t.properties.serverKeepAlive),t.properties.maximumPacketSize&&(o.properties||(o.properties={}),o.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(0===s)e.reconnecting=!1,e._onConnect(t);else if(s>0){let t=new i.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[s]}`,s);e.emit("error",t),e.options.reconnectOnConnackError&&e._cleanUp(!0)}}}),gw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0});e.default=(e,t,r)=>{e.log("handling pubrel packet");let n=typeof r<"u"?r:e.noop,{messageId:i}=t,o={cmd:"pubcomp",messageId:i};e.incomingStore.get(t,(t,r)=>{t?e._sendPacket(o,n):(e.emit("message",r.topic,r.payload,r),e.handleMessage(r,t=>{if(t)return n(t);e.incomingStore.del(r,e.noop),e._sendPacket(o,n)}))})}}),yw=Fv(e=>{Wv(),L_(),v_();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(Nx()),n=t(zx()),i=t(pw()),o=t($x()),s=t(gw());e.default=(e,t,a)=>{let{options:l}=e;if(5===l.protocolVersion&&l.properties&&l.properties.maximumPacketSize&&l.properties.maximumPacketSize<t.length)return e.emit("error",new Error(`exceeding packets size ${t.cmd}`)),e.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),e;switch(e.log("_handlePacket :: emitting packetreceive"),e.emit("packetreceive",t),t.cmd){case"publish":(0,r.default)(e,t,a);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":e.reschedulePing(),(0,o.default)(e,t),a();break;case"pubrel":e.reschedulePing(),(0,s.default)(e,t,a);break;case"connack":(0,i.default)(e,t),a();break;case"auth":e.reschedulePing(),(0,n.default)(e,t),a();break;case"pingresp":e.log("_handlePacket :: received pingresp"),e.reschedulePing(!0),a();break;case"disconnect":e.emit("disconnect",t),a();break;default:e.log("_handlePacket :: unknown command"),a()}}}),mw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){t(this,"nextId"),this.nextId=Math.max(1,Math.floor(65535*Math.random()))}allocate(){let e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e}getLastAllocated(){return 1===this.nextId?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}}}),vw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(e){t(this,"aliasToTopic"),t(this,"max"),t(this,"length"),this.aliasToTopic={},this.max=e}put(e,t){return!(0===t||t>this.max)&&(this.aliasToTopic[t]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}}}),bw=Fv(e=>{Wv(),L_(),v_();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var r=t((K_(),Nv(j_))),n=Ux(),i=class{};e.TypedEventEmitter=i,(0,n.applyMixin)(i,r.default)}),_w=Fv((e,t)=>{function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}Wv(),L_(),v_(),t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),xw=Fv((e,t)=>{Wv(),L_(),v_();var r=_w().default;t.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},t.exports.__esModule=!0,t.exports.default=t.exports}),ww=Fv((e,t)=>{Wv(),L_(),v_();var r=_w().default,n=xw();t.exports=function(e){var t=n(e,"string");return"symbol"==r(t)?t:t+""},t.exports.__esModule=!0,t.exports.default=t.exports}),Sw=Fv((e,t)=>{Wv(),L_(),v_();var r=ww();t.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.exports.__esModule=!0,t.exports.default=t.exports}),Tw=Fv((e,t)=>{Wv(),L_(),v_(),t.exports=function(e){if(Array.isArray(e))return e},t.exports.__esModule=!0,t.exports.default=t.exports}),Ew=Fv((e,t)=>{Wv(),L_(),v_(),t.exports=function(e,t){var r=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports}),Aw=Fv((e,t)=>{Wv(),L_(),v_(),t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports}),kw=Fv((e,t)=>{Wv(),L_(),v_();var r=Aw();t.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}),Cw=Fv((e,t)=>{Wv(),L_(),v_(),t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports}),Pw=Fv((e,t)=>{Wv(),L_(),v_();var r=Tw(),n=Ew(),i=kw(),o=Cw();t.exports=function(e,t){return r(e)||n(e,t)||i(e,t)||o()},t.exports.__esModule=!0,t.exports.default=t.exports}),Ow=Fv((e,t)=>{var r,n;Wv(),L_(),v_(),r=e,n=function(e){var t,r=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,i=2*n,o=new WeakMap,s=function(e,t){return function(o){var s=t.get(o),a=void 0===s?o.size:s<i?s+1:0;if(!o.has(a))return e(o,a);if(o.size<n){for(;o.has(a);)a=Math.floor(Math.random()*i);return e(o,a)}if(o.size>r)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;o.has(a);)a=Math.floor(Math.random()*r);return e(o,a)}}((t=o,function(e,r){return t.set(e,r),r}),o),a=function(e){return function(t){var r=e(t);return t.add(r),r}}(s);e.addUniqueNumber=a,e.generateUniqueNumber=s},"object"==typeof e&&typeof t<"u"?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).fastUniqueNumbers={})}),Mw=Fv((e,t)=>{function r(e,t,r,n,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?t(l):Promise.resolve(l).then(n,i)}Wv(),L_(),v_(),t.exports=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,l,"next",e)}function l(e){r(s,i,o,a,l,"throw",e)}a(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports}),Iw=Fv((e,t)=>{Wv(),L_(),v_(),t.exports=function(e,t){this.v=e,this.k=t},t.exports.__esModule=!0,t.exports.default=t.exports}),Lw=Fv((e,t)=>{function r(e,n,i,o){var s=Object.defineProperty;try{s({},"",{})}catch{s=0}t.exports=r=function(e,t,n,i){function o(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?s?s(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,r(e,n,i,o)}Wv(),L_(),v_(),t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),Rw=Fv((e,t)=>{Wv(),L_(),v_();var r=Lw();function n(){var e,i,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function l(t,n,o,s){var a=n&&n.prototype instanceof u?n:u,l=Object.create(a.prototype);return r(l,"_invoke",function(t,r,n){var o,s,a,l=0,u=n||[],h=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,s=0,a=e,f.n=r,c}};function d(t,r){for(s=t,a=r,i=0;!h&&l&&!n&&i<u.length;i++){var n,o=u[i],d=f.p,p=o[2];t>3?(n=p===r)&&(a=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=d&&((n=t<2&&d<o[1])?(s=0,f.v=r,f.n=o[1]):d<p&&(n=t<3||o[0]>r||r>p)&&(o[4]=t,o[5]=r,f.n=p,s=0))}if(n||t>1)return c;throw h=!0,r}return function(n,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&d(u,p),s=u,a=p;(i=s<2?e:a)||!h;){o||(s?s<3?(s>1&&(f.n=-1),d(s,a)):f.n=a:f.v=a);try{if(l=2,o){if(s||(n="next"),i=o[n]){if(!(i=i.call(o,a)))throw TypeError("iterator result is not an object");if(!i.done)return i;a=i.value,s<2&&(s=0)}else 1===s&&(i=o.return)&&i.call(o),s<2&&(a=TypeError("The iterator does not provide a '"+n+"' method"),s=1);o=e}else if((i=(h=f.n<0)?a:t.call(r,f))!==c)break}catch(g){o=e,s=1,a=g}finally{l=1}}return{value:i,done:h}}}(t,o,s),!0),l}var c={};function u(){}function h(){}function f(){}i=Object.getPrototypeOf;var d=[][s]?i(i([][s]())):(r(i={},s,function(){return this}),i),p=f.prototype=u.prototype=Object.create(d);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return h.prototype=f,r(p,"constructor",f),r(f,"constructor",h),h.displayName="GeneratorFunction",r(f,a,"GeneratorFunction"),r(p),r(p,a,"Generator"),r(p,s,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(t.exports=n=function(){return{w:l,m:g}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}),Dw=Fv((e,t)=>{Wv(),L_(),v_();var r=Iw(),n=Lw();t.exports=function e(t,i){function o(e,n,s,a){try{var l=t[e](n),c=l.value;return c instanceof r?i.resolve(c.v).then(function(e){o("next",e,s,a)},function(e){o("throw",e,s,a)}):i.resolve(c).then(function(e){l.value=e,s(l)},function(e){return o("throw",e,s,a)})}catch(u){a(u)}}var s;this.next||(n(e.prototype),n(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),n(this,"_invoke",function(e,t,r){function n(){return new i(function(t,n){o(e,r,t,n)})}return s=s?s.then(n,n):n()},!0)},t.exports.__esModule=!0,t.exports.default=t.exports}),Bw=Fv((e,t)=>{Wv(),L_(),v_();var r=Rw(),n=Dw();t.exports=function(e,t,i,o,s){return new n(r().w(e,t,i,o),s||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports}),Fw=Fv((e,t)=>{Wv(),L_(),v_();var r=Bw();t.exports=function(e,t,n,i,o){var s=r(e,t,n,i,o);return s.next().then(function(e){return e.done?e.value:s.next()})},t.exports.__esModule=!0,t.exports.default=t.exports}),jw=Fv((e,t)=>{Wv(),L_(),v_(),t.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.exports.__esModule=!0,t.exports.default=t.exports}),Nw=Fv((e,t)=>{Wv(),L_(),v_();var r=_w().default;t.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(r(e)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports}),Ww=Fv((e,t)=>{Wv(),L_(),v_();var r=Iw(),n=Rw(),i=Fw(),o=Bw(),s=Dw(),a=jw(),l=Nw();function c(){var e=n(),u=e.m(c),h=(Object.getPrototypeOf?Object.getPrototypeOf(u):u.__proto__).constructor;function f(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function p(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,i,o){return t.resultName=i,r(n.d,l(e),o)},finish:function(e){return r(n.f,e)}},r=function(e,r,i){n.p=t.prev,n.n=t.next;try{return e(r,i)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(t.exports=c=function(){return{wrap:function(t,r,n,i){return e.w(p(t),r,n,i&&i.reverse())},isGeneratorFunction:f,mark:e.m,awrap:function(e,t){return new r(e,t)},AsyncIterator:s,async:function(e,t,r,n,s){return(f(t)?o:i)(p(e),t,r,n,s)},keys:a,values:l}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports}),Uw=Fv((e,t)=>{Wv(),L_(),v_();var r=Ww()();t.exports=r;try{regeneratorRuntime=r}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}),$w=Fv((e,t)=>{var r,n;Wv(),L_(),v_(),r=e,n=function(e,t,r,n,i,o){var s=new WeakMap;function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach(function(r){t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?c(Object(n),!0).forEach(function(r){t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=new WeakMap;e.createBroker=function(e){var a=function(e){return l(l({},e),{},{connect:function(e){var t=e.call;return i(o.mark(function e(){var r,n,i,a;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new MessageChannel,n=r.port1,i=r.port2,e.next=1,t("connect",{port:n},[n]);case 1:return a=e.sent,s.set(i,a),e.abrupt("return",i);case 2:case"end":return e.stop()}},e)}))},disconnect:function(e){var t,r=e.call;return t=i(o.mark(function e(t){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=s.get(t))){e.next=1;break}throw new Error("The given port is not connected.");case 1:return e.next=2,r("disconnect",{portId:n});case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},isSupported:function(e){var t=e.call;return function(){return t("isSupported")}}})}(e);return function(e){var i=function(e){if(h.has(e))return h.get(e);var t=new Map;return h.set(e,t),t}(e);e.addEventListener("message",function(e){var t=e.data,r=t.id;if(null!==r&&i.has(r)){var n=i.get(r),o=n.reject,s=n.resolve;i.delete(r),void 0===t.error?s(t.result):o(new Error(t.error.message))}}),function(e){return"function"==typeof e.start}(e)&&e.start();for(var o=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(s,a){var l=n.generateUniqueNumber(i);i.set(l,{reject:a,resolve:s}),null===r?e.postMessage({id:l,method:t},o):e.postMessage({id:l,method:t,params:r},o)})},s=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.postMessage({id:null,method:t,params:r},n)},l={},c=0,f=Object.entries(a);c<f.length;c++){var d=r(f[c],2),p=d[0],g=d[1];l=u(u({},l),{},t({},p,g({call:o,notify:s})))}return u({},l)}}},"object"==typeof e&&typeof t<"u"?n(e,Sw(),Pw(),Ow(),Mw(),Uw()):"function"==typeof define&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],n):n((r=typeof globalThis<"u"?globalThis:r||self).brokerFactory={},r._defineProperty,r._slicedToArray,r.fastUniqueNumbers,r._asyncToGenerator,r._regeneratorRuntime)}),zw=Fv((e,t)=>{var r,n;Wv(),L_(),v_(),r=e,n=function(e,t,r,n){var i=new Map([[0,null]]),o=new Map([[0,null]]),s=r.createBroker({clearInterval:function(e){var r=e.call;return function(e){"symbol"===t(i.get(e))&&(i.set(e,null),r("clear",{timerId:e,timerType:"interval"}).then(function(){i.delete(e)}))}},clearTimeout:function(e){var r=e.call;return function(e){"symbol"===t(o.get(e))&&(o.set(e,null),r("clear",{timerId:e,timerType:"timeout"}).then(function(){o.delete(e)}))}},setInterval:function(e){var t=e.call;return function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length,s=new Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];var l=Symbol(),c=n.generateUniqueNumber(i);i.set(c,l);var u=function(){return t("set",{delay:r,now:performance.timeOrigin+performance.now(),timerId:c,timerType:"interval"}).then(function(){var t=i.get(c);if(void 0===t)throw new Error("The timer is in an undefined state.");t===l&&(e.apply(void 0,s),i.get(c)===l&&u())})};return u(),c}},setTimeout:function(e){var t=e.call;return function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];var l=Symbol(),c=n.generateUniqueNumber(o);return o.set(c,l),t("set",{delay:r,now:performance.timeOrigin+performance.now(),timerId:c,timerType:"timeout"}).then(function(){var t=o.get(c);if(void 0===t)throw new Error("The timer is in an undefined state.");t===l&&(o.delete(c),e.apply(void 0,s))}),c}}});e.load=function(e){var t=new Worker(e);return s(t)},e.wrap=s},"object"==typeof e&&typeof t<"u"?n(e,_w(),$w(),Ow()):"function"==typeof define&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],n):n((r=typeof globalThis<"u"?globalThis:r||self).workerTimersBroker={},r._typeof,r.brokerFactory,r.fastUniqueNumbers)}),Vw=Fv((e,t)=>{var r,n;Wv(),L_(),v_(),r=e,n=function(e,t){var r,n,i,o=(r=t.load,n='(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a(\'The requested method called "\'.concat(e,\'" is not supported.\'),u.METHOD_NOT_FOUND)},s=function(e){return a(\'The handler of the method called "\'.concat(e,\'" returned no required result.\'),u.INTERNAL_ERROR)},c=function(e){return a(\'The handler of the method called "\'.concat(e,\'" returned an unexpected result.\'),u.INTERNAL_ERROR)},f=function(e){return a(\'The specified parameter called "portId" with the given value "\'.concat(e,\'" does not identify a port connected to this worker.\'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a \'"+o+"\' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();',i=null,function(){if(null!==i)return i;var e=new Blob([n],{type:"application/javascript; charset=utf-8"}),t=URL.createObjectURL(e);return i=r(t),setTimeout(function(){return URL.revokeObjectURL(t)}),i});e.clearInterval=function(e){return o().clearInterval(e)},e.clearTimeout=function(e){return o().clearTimeout(e)},e.setInterval=function(){var e;return(e=o()).setInterval.apply(e,arguments)},e.setTimeout=function(){var e;return(e=o()).setTimeout.apply(e,arguments)}},"object"==typeof e&&typeof t<"u"?n(e,zw()):"function"==typeof define&&define.amd?define(["exports","worker-timers-broker"],n):n((r=typeof globalThis<"u"?globalThis:r||self).workerTimers={},r.workerTimersBroker)}),Hw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t,r=()=>{var e,t;return!!("object"==typeof self&&(null==(t=null==(e=null==self?void 0:self.constructor)?void 0:e.name)?void 0:t.includes("WorkerGlobalScope"))&&typeof Deno>"u")},n=()=>typeof navigator<"u"&&"ReactNative"===navigator.product,i=typeof window<"u"&&(typeof navigator<"u"&&(null==(t=navigator.userAgent)?void 0:t.toLowerCase().indexOf(" electron/"))>-1&&(null==Uv?void 0:Uv.versions)?!Object.prototype.hasOwnProperty.call(Uv.versions,"electron"):typeof window.document<"u")||r()||n();e.isWebWorker=r(),e.isReactNativeBrowser=n(),e.default=i}),qw=Fv(e=>{Wv(),L_(),v_();var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=e&&e.__importStar||function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(n){if(n&&n.__esModule)return n;var i={};if(null!=n)for(var o=e(n),s=0;s<o.length;s++)"default"!==o[s]&&t(i,n,o[s]);return r(i,n),i}}();Object.defineProperty(e,"__esModule",{value:!0});var i=Vw(),o=n(Hw()),s={set:i.setInterval,clear:i.clearInterval},a={set:(e,t)=>setInterval(e,t),clear:e=>clearInterval(e)};e.default=e=>{switch(e){case"native":return a;case"worker":return s;default:return!o.default||o.isWebWorker||o.isReactNativeBrowser?a:s}}}),Gw=Fv(e=>{Wv(),L_(),v_();var r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(qw());e.default=class{constructor(e,r){t(this,"_keepalive"),t(this,"timerId"),t(this,"timer"),t(this,"destroyed",!1),t(this,"counter"),t(this,"client"),t(this,"_keepaliveTimeoutTimestamp"),t(this,"_intervalEvery"),this.client=e,this.timer="object"==typeof r&&"set"in r&&"clear"in r?r:(0,n.default)(r),this.setKeepalive(e.options.keepalive)}get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(e){if(e*=1e3,isNaN(e)||e<=0||e>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${e}`);this._keepalive=e,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${e}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let e=Math.ceil(1.5*this._keepalive);this._keepaliveTimeoutTimestamp=Date.now()+e,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,2===this.counter?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}}}),Yw=Fv(e=>{var r;Wv(),L_(),v_();var n=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e&&e.__importStar||function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var o=e(t),s=0;s<o.length;s++)"default"!==o[s]&&n(r,t,o[s]);return i(r,t),r}}(),s=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(Rx()),l=_x(),c=s(Bx()),u=s(Cx()),h=o(Fx()),f=s(jx()),d=s(yw()),p=s(mw()),g=s(vw()),y=Ux(),m=bw(),v=s(Gw()),b=o(Hw()),_=globalThis.setImmediate||((...e)=>{let t=e.shift();(0,y.nextTick)(()=>{t(...e)})}),x={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},w=(r=class extends m.TypedEventEmitter{constructor(e,n){super(),t(this,"connected"),t(this,"disconnecting"),t(this,"disconnected"),t(this,"reconnecting"),t(this,"incomingStore"),t(this,"outgoingStore"),t(this,"options"),t(this,"queueQoSZero"),t(this,"_reconnectCount"),t(this,"log"),t(this,"messageIdProvider"),t(this,"outgoing"),t(this,"messageIdToTopic"),t(this,"noop"),t(this,"keepaliveManager"),t(this,"stream"),t(this,"queue"),t(this,"streamBuilder"),t(this,"_resubscribeTopics"),t(this,"connackTimer"),t(this,"reconnectTimer"),t(this,"_storeProcessing"),t(this,"_packetIdsDuringStoreProcessing"),t(this,"_storeProcessingQueue"),t(this,"_firstConnection"),t(this,"topicAliasRecv"),t(this,"topicAliasSend"),t(this,"_deferredReconnect"),t(this,"connackPacket"),this.options=n||{};for(let t in x)typeof this.options[t]>"u"?this.options[t]=x[t]:this.options[t]=n[t];this.log=this.options.log||(0,u.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",r.VERSION),b.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",b.default?"browser":"node"),this.log("MqttClient :: options.protocol",n.protocol),this.log("MqttClient :: options.protocolVersion",n.protocolVersion),this.log("MqttClient :: options.username",n.username),this.log("MqttClient :: options.keepalive",n.keepalive),this.log("MqttClient :: options.reconnectPeriod",n.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",n.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",n.properties?n.properties.topicAliasMaximum:void 0),this.options.clientId="string"==typeof n.clientId?n.clientId:r.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===n.protocolVersion&&n.customHandleAcks?n.customHandleAcks:(...e)=>{e[3](null,0)},this.options.writeCache||(a.default.writeToStream.cacheNumbers=!1),this.streamBuilder=e,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new p.default:this.options.messageIdProvider,this.outgoingStore=n.outgoingStore||new f.default,this.incomingStore=n.incomingStore||new f.default,this.queueQoSZero=void 0===n.queueQoSZero||n.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,n.properties&&n.properties.topicAliasMaximum>0&&(n.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new g.default(n.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:e}=this,t=()=>{let r=e.shift();this.log("deliver :: entry %o",r);let n=null;if(!r)return void this._resubscribe();n=r.packet,this.log("deliver :: call _sendPacket for %o",n);let i=!0;n.messageId&&0!==n.messageId&&(this.messageIdProvider.register(n.messageId)||(i=!1)),i?this._sendPacket(n,e=>{r.cb&&r.cb(e),t()}):(this.log("messageId: %d has already used. The message is skipped and removed.",n.messageId),t())};this.log("connect :: sending queued packets"),t()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}handleAuth(e,t){t()}handleMessage(e,t){t()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var e;let t=new l.Writable,r=a.default.parser(this.options),n=null,i=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),r.on("packet",e=>{this.log("parser :: on packet push to packets array."),i.push(e)});let o=()=>{this.log("work :: getting next packet in queue");let e=i.shift();if(e)this.log("work :: packet pulled from queue"),(0,d.default)(this,e,s);else{this.log("work :: no packets in queue");let e=n;n=null,this.log("work :: done flag is %s",!!e),e&&e()}},s=()=>{if(i.length)(0,y.nextTick)(o);else{let e=n;n=null,e()}};t._write=(e,t,i)=>{n=i,this.log("writable stream :: parsing buffer"),r.parse(e),o()};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(t),this.stream.on("error",e=>{this.log("streamErrorHandler :: error",e.message),e.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",e)):this.noop(e)}),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let c={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(c.will={...this.options.will,payload:null==(e=this.options.will)?void 0:e.payload}),this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(c),r.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket){let e={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(e)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(e,t,r,n){this.log("publish :: message `%s` to topic `%s`",t,e);let{options:i}=this;"function"==typeof r&&(n=r,r=null),r=r||{},r={qos:0,retain:!1,dup:!1,...r};let{qos:o,retain:s,dup:a,properties:l,cbStorePut:c}=r;if(this._checkDisconnecting(n))return this;let u=()=>{let r=0;if((1===o||2===o)&&(r=this._nextId(),null===r))return this.log("No messageId left"),!1;let u={cmd:"publish",topic:e,payload:t,qos:o,retain:s,messageId:r,dup:a};switch(5===i.protocolVersion&&(u.properties=l),this.log("publish :: qos",o),o){case 1:case 2:this.outgoing[u.messageId]={volatile:!1,cb:n||this.noop},this.log("MqttClient:publish: packet cmd: %s",u.cmd),this._sendPacket(u,void 0,c);break;default:this.log("MqttClient:publish: packet cmd: %s",u.cmd),this._sendPacket(u,n,c)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!u())&&this._storeProcessingQueue.push({invoke:u,cbStorePut:r.cbStorePut,callback:n}),this}publishAsync(e,t,r){return new Promise((n,i)=>{this.publish(e,t,r,(e,t)=>{e?i(e):n(t)})})}subscribe(e,t,r){let n=this.options.protocolVersion;"function"==typeof t&&(r=t),r=r||this.noop;let i=!1,o=[];"string"==typeof e?o=e=[e]:Array.isArray(e)?o=e:"object"==typeof e&&(i=e.resubscribe,delete e.resubscribe,o=Object.keys(e));let s=h.validateTopics(o);if(null!==s)return _(r,new Error(`Invalid topic ${s}`)),this;if(this._checkDisconnecting(r))return this.log("subscribe: discconecting true"),this;let a={qos:0};5===n&&(a.nl=!1,a.rap=!1,a.rh=0),t={...a,...t};let{properties:l}=t,c=[],u=(e,r)=>{if(r=r||t,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,e)||this._resubscribeTopics[e].qos<r.qos||i){let t={topic:e,qos:r.qos};5===n&&(t.nl=r.nl,t.rap=r.rap,t.rh=r.rh,t.properties=l),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",t.topic,t.qos),c.push(t)}};if(Array.isArray(e)?e.forEach(e=>{this.log("subscribe: array topic %s",e),u(e)}):Object.keys(e).forEach(t=>{this.log("subscribe: object topic %s, %o",t,e[t]),u(t,e[t])}),!c.length)return r(null,[]),this;let f=(e,t)=>{let r={cmd:"subscribe",subscriptions:e,messageId:t};if(l&&(r.properties=l),this.options.resubscribe){this.log("subscribe :: resubscribe true");let t=[];e.forEach(e=>{if(this.options.reconnectPeriod>0){let r={qos:e.qos};5===n&&(r.nl=e.nl||!1,r.rap=e.rap||!1,r.rh=e.rh||0,r.properties=e.properties),this._resubscribeTopics[e.topic]=r,t.push(e.topic)}}),this.messageIdToTopic[r.messageId]=t}let i=new Promise((t,n)=>{this.outgoing[r.messageId]={volatile:!0,cb(r,i){if(!r){let{granted:t}=i;for(let r=0;r<t.length;r+=1)e[r].qos=t[r]}r?n(new y.ErrorWithSubackPacket(r.message,i)):t(i)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(r),i},d=()=>{let e=this.options.subscribeBatchSize??c.length,t=[];for(let r=0;r<c.length;r+=e){let n=c.slice(r,r+e),i=this._nextId();if(null===i)return this.log("No messageId left"),!1;t.push(f(n,i))}return Promise.all(t).then(e=>{r(null,c,e.at(-1))}).catch(e=>{r(e,c,e.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!d())&&this._storeProcessingQueue.push({invoke:d,callback:r}),this}subscribeAsync(e,t){return new Promise((r,n)=>{this.subscribe(e,t,(e,t)=>{e?n(e):r(t)})})}unsubscribe(e,t,r){"string"==typeof e&&(e=[e]),"function"==typeof t&&(r=t),r=r||this.noop;let n=h.validateTopics(e);if(null!==n)return _(r,new Error(`Invalid topic ${n}`)),this;if(this._checkDisconnecting(r))return this;let i=()=>{let n=this._nextId();if(null===n)return this.log("No messageId left"),!1;let i={cmd:"unsubscribe",messageId:n,unsubscriptions:[]};return"string"==typeof e?i.unsubscriptions=[e]:Array.isArray(e)&&(i.unsubscriptions=e),this.options.resubscribe&&i.unsubscriptions.forEach(e=>{delete this._resubscribeTopics[e]}),"object"==typeof t&&t.properties&&(i.properties=t.properties),this.outgoing[i.messageId]={volatile:!0,cb:r},this.log("unsubscribe: call _sendPacket"),this._sendPacket(i),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!i())&&this._storeProcessingQueue.push({invoke:i,callback:r}),this}unsubscribeAsync(e,t){return new Promise((r,n)=>{this.unsubscribe(e,t,(e,t)=>{e?n(e):r(t)})})}end(e,t,r){this.log("end :: (%s)",this.options.clientId),(null==e||"boolean"!=typeof e)&&(r=r||t,t=e,e=!1),"object"!=typeof t&&(r=r||t,t=null),this.log("end :: cb? %s",!!r),(!r||"function"!=typeof r)&&(r=this.noop);let n=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(e=>{this.outgoingStore.close(t=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),r){let n=e||t;this.log("end :: closeStores: invoking callback with args"),r(n)}})}),this._deferredReconnect?this._deferredReconnect():(0===this.options.reconnectPeriod||this.options.manualConnect)&&(this.disconnecting=!1)},i=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,e),this._cleanUp(e,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,y.nextTick)(n)},t)};return this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,i,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),i()),this)}endAsync(e,t){return new Promise((r,n)=>{this.end(e,t,e=>{e?n(e):r()})})}removeOutgoingMessage(e){if(this.outgoing[e]){let{cb:t}=this.outgoing[e];this._removeOutgoingAndStoreMessage(e,()=>{t(new Error("Message removed"))})}return this}reconnect(e){this.log("client reconnect");let t=()=>{e?(this.options.incomingStore=e.incomingStore,this.options.outgoingStore=e.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=t:t(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(e=>{this.outgoing[e].volatile&&"function"==typeof this.outgoing[e].cb&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(e=>{"function"==typeof this.outgoing[e].cb&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e])}))}_removeTopicAliasAndRecoverTopicName(e){let t;e.properties&&(t=e.properties.topicAlias);let r=e.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",t,r),0===r.length){if(typeof t>"u")return new Error("Unregistered Topic Alias");if(r=this.topicAliasSend.getTopicByAlias(t),typeof r>"u")return new Error("Unregistered Topic Alias");e.topic=r}t&&delete e.properties.topicAlias}_checkDisconnecting(e){return this.disconnecting&&(e&&e!==this.noop?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(e,t,r={}){if(t&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",t)),this.log("_cleanUp :: forced? %s",e),e)0===this.options.reconnectPeriod&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let e={cmd:"disconnect",...r};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(e,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),_(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),t&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",t),t())}_storeAndSend(e,t,r){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);let n,i=e;if("publish"===i.cmd&&(i=(0,c.default)(e),n=this._removeTopicAliasAndRecoverTopicName(i),n))return t&&t(n);this.outgoingStore.put(i,n=>{if(n)return t&&t(n);r(),this._writePacket(e,t)})}_applyTopicAlias(e){if(5===this.options.protocolVersion&&"publish"===e.cmd){let t;e.properties&&(t=e.properties.topicAlias);let r=e.topic.toString();if(this.topicAliasSend)if(t){if(0!==r.length&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",r,t),!this.topicAliasSend.put(r,t)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",r,t),new Error("Sending Topic Alias out of range")}else 0!==r.length&&(this.options.autoAssignTopicAlias?(t=this.topicAliasSend.getAliasByTopic(r),t?(e.topic="",e.properties={...e.properties,topicAlias:t},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",r,t)):(t=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(r,t),e.properties={...e.properties,topicAlias:t},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",r,t))):this.options.autoUseTopicAlias&&(t=this.topicAliasSend.getAliasByTopic(r),t&&(e.topic="",e.properties={...e.properties,topicAlias:t},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",r,t))));else if(t)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",r,t),new Error("Sending Topic Alias out of range")}}_noop(e){this.log("noop ::",e)}_writePacket(e,t){this.log("_writePacket :: packet: %O",e),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",e),this.log("_writePacket :: writing to stream");let r=a.default.writeToStream(e,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",r),!r&&t&&t!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",t)):t&&(this.log("_writePacket :: invoking cb"),t())}_sendPacket(e,t,r,n){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||this.noop,t=t||this.noop;let i=this._applyTopicAlias(e);if(i)t(i);else{if(!this.connected)return"auth"===e.cmd?void this._writePacket(e,t):(this.log("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(e,t,r));if(n)this._writePacket(e,t);else{switch(e.cmd){case"publish":break;case"pubrel":return void this._storeAndSend(e,t,r);default:return void this._writePacket(e,t)}switch(e.qos){case 2:case 1:this._storeAndSend(e,t,r);break;default:this._writePacket(e,t)}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}}}_storePacket(e,t,r){this.log("_storePacket :: packet: %o",e),this.log("_storePacket :: cb? %s",!!t),r=r||this.noop;let n=e;if("publish"===n.cmd){n=(0,c.default)(e);let r=this._removeTopicAliasAndRecoverTopicName(n);if(r)return t&&t(r)}let i=n.qos||0;0===i&&this.queueQoSZero||"publish"!==n.cmd?this.queue.push({packet:n,cb:t}):i>0?(t=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,e=>{if(e)return t&&t(e);r()})):t&&t(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new v.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(e=!1){this.keepaliveManager&&this.options.keepalive&&(e||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){this.log("_resubscribe: protocolVersion 5");for(let t=0;t<e.length;t++){let r={};r[e[t]]=this._resubscribeTopics[e[t]],r.resubscribe=!0,this.subscribe(r,{properties:r[e[t]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(e){if(this.disconnected)return void this.emit("connect",e);this.connackPacket=e,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let t=()=>{let r=this.outgoingStore.createStream(),n=()=>{r.destroy(),r=null,this._flushStoreProcessingQueue(),i()},i=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",n),r.on("error",e=>{i(),this._flushStoreProcessingQueue(),this.removeListener("close",n),this.emit("error",e)});let o=()=>{if(!r)return;let e,t=r.read(1);t?(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[t.messageId]?o():this.disconnecting||this.reconnectTimer?r.destroy&&r.destroy():(e=this.outgoing[t.messageId]?this.outgoing[t.messageId].cb:null,this.outgoing[t.messageId]={volatile:!1,cb(t,r){e&&e(t,r),o()}},this._packetIdsDuringStoreProcessing[t.messageId]=!0,this.messageIdProvider.register(t.messageId)?this._sendPacket(t,void 0,void 0,!0):this.log("messageId: %d has already used.",t.messageId))):r.once("readable",o)};r.on("end",()=>{let r=!0;for(let e in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[e]){r=!1;break}this.removeListener("close",n),r?(i(),this._invokeAllStoreProcessingQueue(),this.emit("connect",e)):t()}),o()};t()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error("Connection closed")),e.callback&&e.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(e,t){delete this.outgoing[e],this.outgoingStore.del({messageId:e},(r,n)=>{t(r,n),this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue()})}},t(r,"VERSION",y.MQTTJS_VERSION),r);e.default=w}),Kw=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0});var r=fw();e.default=class{constructor(){t(this,"numberAllocator"),t(this,"lastId"),this.numberAllocator=new r.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(e){return this.numberAllocator.use(e)}deallocate(e){this.numberAllocator.free(e)}clear(){this.numberAllocator.clear()}}});var Xw,Qw,Jw,Zw=Bv(()=>{Wv(),L_(),v_(),Xw={},Qw=!1,(Jw=function(){if(Qw)return Xw;Qw=!0;let e=2147483647,t=36,r=/^xn--/,n=/[^\0-\x7F]/,i=/[\x2E\u3002\uFF0E\uFF61]/g,o={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},s=Math.floor,a=String.fromCharCode;function l(e){throw new RangeError(o[e])}function c(e,t){let r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);let o=function(e,t){let r=[],n=e.length;for(;n--;)r[n]=t(e[n]);return r}((e=e.replace(i,".")).split("."),t).join(".");return n+o}function u(e){let t=[],r=0,n=e.length;for(;r<n;){let i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let n=e.charCodeAt(r++);56320==(64512&n)?t.push(((1023&i)<<10)+(1023&n)+65536):(t.push(i),r--)}else t.push(i)}return t}let h=function(e){return e>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:t},f=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},d=function(e,r,n){let i=0;for(e=n?s(e/700):e>>1,e+=s(e/r);e>455;i+=t)e=s(e/35);return s(i+36*e/(e+38))},p=function(r){let n=[],i=r.length,o=0,a=128,c=72,u=r.lastIndexOf("-");u<0&&(u=0);for(let e=0;e<u;++e)r.charCodeAt(e)>=128&&l("not-basic"),n.push(r.charCodeAt(e));for(let f=u>0?u+1:0;f<i;){let u=o;for(let n=1,a=t;;a+=t){f>=i&&l("invalid-input");let u=h(r.charCodeAt(f++));u>=t&&l("invalid-input"),u>s((e-o)/n)&&l("overflow"),o+=u*n;let d=a<=c?1:a>=c+26?26:a-c;if(u<d)break;let p=t-d;n>s(e/p)&&l("overflow"),n*=p}let p=n.length+1;c=d(o-u,p,0==u),s(o/p)>e-a&&l("overflow"),a+=s(o/p),o%=p,n.splice(o++,0,a)}return String.fromCodePoint(...n)},g=function(r){let n=[],i=(r=u(r)).length,o=128,c=0,h=72;for(let e of r)e<128&&n.push(a(e));let p=n.length,g=p;for(p&&n.push("-");g<i;){let i=e;for(let e of r)e>=o&&e<i&&(i=e);let u=g+1;i-o>s((e-c)/u)&&l("overflow"),c+=(i-o)*u,o=i;for(let y of r)if(y<o&&++c>e&&l("overflow"),y===o){let e=c;for(let r=t;;r+=t){let i=r<=h?1:r>=h+26?26:r-h;if(e<i)break;let o=e-i,l=t-i;n.push(a(f(i+o%l,0))),e=s(o/l)}n.push(a(f(e,0))),h=d(c,u,g===p),c=0,++g}++c,++o}return n.join("")};return Xw={version:"2.3.1",ucs2:{decode:u,encode:e=>String.fromCodePoint(...e)},decode:p,encode:g,toASCII:function(e){return c(e,function(e){return n.test(e)?"xn--"+g(e):e})},toUnicode:function(e){return c(e,function(e){return r.test(e)?p(e.slice(4).toLowerCase()):e})}}}()).decode,Jw.encode,Jw.toASCII,Jw.toUnicode,Jw.ucs2,Jw.version});function eS(){return _S||(_S=!0,bS=SyntaxError),bS}function tS(){return wS||(wS=!0,xS=TypeError),xS}function rS(){if(AS)return ES;AS=!0;var e=typeof Symbol<"u"&&Symbol,t=(uS||(uS=!0,cS=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}),cS);return ES=function(){return"function"==typeof e&&"function"==typeof Symbol&&"symbol"==typeof e("foo")&&"symbol"==typeof Symbol("bar")&&t()}}function nS(){if(IS)return MS;IS=!0;var e=function(){if(OS)return PS;OS=!0;var e=Object.prototype.toString,t=Math.max,r=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};return PS=function(n){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),a=t(0,i.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(l,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var e=i.apply(this,r(s,arguments));return Object(e)===e?e:this}return i.apply(n,r(s,arguments))}),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o},PS}();return MS=Function.prototype.bind||e}function iS(){if(BS)return DS;BS=!0;var e,t=(fS||(fS=!0,hS=Error),hS),r=(pS||(pS=!0,dS=EvalError),dS),n=(yS||(yS=!0,gS=RangeError),gS),i=(vS||(vS=!0,mS=ReferenceError),mS),o=eS(),s=tS(),a=(TS||(TS=!0,SS=URIError),SS),l=Function,c=function(e){try{return l('"use strict"; return ('+e+").constructor;")()}catch{}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch{u=null}var h=function(){throw new s},f=u?function(){try{return h}catch{try{return u(arguments,"callee").get}catch{return h}}}():h,d=rS()(),p=function(){if(CS)return kS;CS=!0;var e={__proto__:null,foo:{}},t=Object;return kS=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)}}()(),g=Object.getPrototypeOf||(p?function(e){return e.__proto__}:null),y={},m=typeof Uint8Array>"u"||!g?e:g(Uint8Array),v={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":d&&g?g([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":y,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&g?g(g([][Symbol.iterator]())):e,"%JSON%":"object"==typeof JSON?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!d||!g?e:g((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!d||!g?e:g((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&g?g(""[Symbol.iterator]()):e,"%Symbol%":d?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":f,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(g)try{null.error}catch(I){var b=g(g(I));v["%Error.prototype%"]=b}var _=function e(t){var r;if("%AsyncFunction%"===t)r=c("async function () {}");else if("%GeneratorFunction%"===t)r=c("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=c("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&g&&(r=g(i.prototype))}return v[t]=r,r},x={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=nS(),S=function(){if(RS)return LS;RS=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=nS();return LS=r.call(e,t)}(),T=w.call(Function.call,Array.prototype.concat),E=w.call(Function.apply,Array.prototype.splice),A=w.call(Function.call,String.prototype.replace),k=w.call(Function.call,String.prototype.slice),C=w.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,M=function(e,t){var r,n=e;if(S(x,n)&&(n="%"+(r=x[n])[0]+"%"),S(v,n)){var i=v[n];if(i===y&&(i=_(n)),typeof i>"u"&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};return DS=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=k(e,0,1),r=k(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return A(e,P,function(e,t,r,i){n[n.length]=r?A(i,O,"$1"):t||e}),n}(e),n=r.length>0?r[0]:"",i=M("%"+n+"%",t),a=i.name,l=i.value,c=!1,h=i.alias;h&&(n=h[0],E(r,T([0,1],h)));for(var f=1,d=!0;f<r.length;f+=1){var p=r[f],g=k(p,0,1),y=k(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new o("property names with quotes must have matching quotes");if(("constructor"===p||!d)&&(c=!0),S(v,a="%"+(n+="."+p)+"%"))l=v[a];else if(null!=l){if(!(p in l)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&f+1>=r.length){var m=u(l,p);l=(d=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:l[p]}else d=S(l,p),l=l[p];d&&!c&&(v[a]=l)}}return l},DS}function oS(){if(jS)return FS;jS=!0;var e=iS()("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return FS=e}function sS(){if(WS)return NS;WS=!0;var e=iS()("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return NS=e}function aS(){if(qS)return HS;qS=!0;var e=iS(),t=function(){if($S)return US;$S=!0;var e=oS(),t=eS(),r=tS(),n=sS();return US=function(i,o,s){if(!i||"object"!=typeof i&&"function"!=typeof i)throw new r("`obj` must be an object or a function`");if("string"!=typeof o&&"symbol"!=typeof o)throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new r("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!n&&n(i,o);if(e)e(i,o,{configurable:null===c&&h?h.configurable:!c,enumerable:null===a&&h?h.enumerable:!a,value:s,writable:null===l&&h?h.writable:!l});else{if(!u&&(a||l||c))throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");i[o]=s}},US}(),r=function(){if(VS)return zS;VS=!0;var e=oS(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return 1!==e([],"length",{value:1}).length}catch{return!0}},zS=t}()(),n=sS(),i=tS(),o=e("%Math.floor%");return HS=function(e,s){if("function"!=typeof e)throw new i("`fn` is not a function");if("number"!=typeof s||s<0||s>4294967295||o(s)!==s)throw new i("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],l=!0,c=!0;if("length"in e&&n){var u=n(e,"length");u&&!u.configurable&&(l=!1),u&&!u.writable&&(c=!1)}return(l||c||!a)&&(r?t(e,"length",s,!0,!0):t(e,"length",s)),e},HS}function lS(){if(XS)return KS;XS=!0;var e=iS(),t=function(){if(YS)return GS;YS=!0;var e=nS(),t=iS(),r=aS(),n=tS(),i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||e.call(o,i),a=oS(),l=t("%Math.max%");GS=function(t){if("function"!=typeof t)throw new n("a function is required");var i=s(e,o,arguments);return r(i,1+l(0,t.length-(arguments.length-1)),!0)};var c=function(){return s(e,i,arguments)};return a?a(GS,"apply",{value:c}):GS.apply=c,GS}(),r=t(e("String.prototype.indexOf"));return KS=function(n,i){var o=e(n,!!i);return"function"==typeof o&&r(n,".prototype.")>-1?t(o):o}}var cS,uS,hS,fS,dS,pS,gS,yS,mS,vS,bS,_S,xS,wS,SS,TS,ES,AS,kS,CS,PS,OS,MS,IS,LS,RS,DS,BS,FS,jS,NS,WS,US,$S,zS,VS,HS,qS,GS,YS,KS,XS,QS=Bv(()=>{Wv(),L_(),v_(),cS={},uS=!1,hS={},fS=!1,dS={},pS=!1,gS={},yS=!1,mS={},vS=!1,bS={},_S=!1,xS={},wS=!1,SS={},TS=!1,ES={},AS=!1,kS={},CS=!1,PS={},OS=!1,MS={},IS=!1,LS={},RS=!1,DS={},BS=!1,FS={},jS=!1,NS={},WS=!1,US={},$S=!1,zS={},VS=!1,HS={},qS=!1,GS={},YS=!1,KS={},XS=!1});function JS(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function ZS(){!gT||!yT||(gT=!1,yT.length?pT=yT.concat(pT):mT=-1,pT.length&&eT())}function eT(){if(!gT){var e=setTimeout(ZS,0);gT=!0;for(var t=pT.length;t;){for(yT=pT,pT=[];++mT<t;)yT&&yT[mT].run();mT=-1,t=pT.length}yT=null,gT=!1,clearTimeout(e)}}function tT(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];pT.push(new rT(e,t)),1===pT.length&&!gT&&setTimeout(eT,0)}function rT(e,t){this.fun=e,this.array=t}function nT(){}function iT(e){JS("_linkedBinding")}function oT(e){JS("dlopen")}function sT(){return[]}function aT(){return[]}function lT(e,t){if(!e)throw new Error(t||"assertion error")}function cT(){return!1}function uT(){return JT.now()/1e3}function hT(e){var t=Math.floor(.001*(Date.now()-JT.now())),r=.001*JT.now(),n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n-=e[0],(i-=e[1])<0&&(n--,i+=eE)),[n,i]}function fT(){return tE}function dT(e){return[]}var pT,gT,yT,mT,vT,bT,_T,xT,wT,ST,TT,ET,AT,kT,CT,PT,OT,MT,IT,LT,RT,DT,BT,FT,jT,NT,WT,UT,$T,zT,VT,HT,qT,GT,YT,KT,XT,QT,JT,ZT,eE,tE,rE=Bv(()=>{Wv(),L_(),v_(),pT=[],gT=!1,mT=-1,rT.prototype.run=function(){this.fun.apply(null,this.array)},vT={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},bT=["/usr/bin/node"],_T=[],xT={},wT=function(e,t){console.warn((t?t+": ":"")+e)},ST=function(e){JS("binding")},TT=function(e){return 0},ET=function(){return"/"},AT=function(e){},kT={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},CT=nT,PT=[],OT={},MT={},IT=nT,LT=nT,DT=RT=function(){return{}},BT=RT,FT=nT,jT=nT,NT=nT,WT={},UT={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},$T=nT,zT=nT,VT=nT,HT=nT,qT=nT,GT=nT,YT=nT,KT=nT,XT=[],QT=nT,void 0===(JT={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0}).now&&(ZT=Date.now(),JT.timing&&JT.timing.navigationStart&&(ZT=JT.timing.navigationStart),JT.now=()=>Date.now()-ZT),eE=1e9,hT.bigint=function(e){var t=hT(e);return typeof BigInt>"u"?t[0]*eE+t[1]:BigInt(t[0]*eE)+BigInt(t[1])},tE={version:"v16.8.0",versions:xT,arch:"x64",platform:"browser",release:kT,_rawDebug:CT,moduleLoadList:PT,binding:ST,_linkedBinding:iT,_events:{},_eventsCount:0,_maxListeners:10,on:fT,addListener:fT,once:fT,off:fT,removeListener:fT,removeAllListeners:fT,emit:nT,prependListener:fT,prependOnceListener:fT,listeners:dT,domain:OT,_exiting:false,config:MT,dlopen:oT,uptime:uT,_getActiveRequests:sT,_getActiveHandles:aT,reallyExit:IT,_kill:LT,cpuUsage:RT,resourceUsage:DT,memoryUsage:BT,kill:FT,exit:jT,openStdin:NT,allowedNodeEnvironmentFlags:WT,assert:lT,features:UT,_fatalExceptions:$T,setUncaughtExceptionCaptureCallback:zT,hasUncaughtExceptionCaptureCallback:cT,emitWarning:wT,nextTick:tT,_tickCallback:VT,_debugProcess:HT,_debugEnd:qT,_startProfilerIdleNotifier:GT,_stopProfilerIdleNotifier:YT,stdout:undefined,stdin:undefined,stderr:undefined,abort:KT,umask:TT,chdir:AT,cwd:ET,env:vT,title:"browser",argv:bT,execArgv:_T,pid:2,ppid:1,execPath:"/bin/usr/node",debugPort:9229,hrtime:hT,argv0:"node",_preload_modules:XT,setSourceMapsEnabled:QT}});var nE,iE,oE,sE=Bv(()=>{Wv(),L_(),v_(),rE(),nE={},iE=!1,oE=function(){if(iE)return nE;iE=!0;var e=tE;function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var n,i="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var a;s>=0?a=arguments[s]:(void 0===n&&(n=e.cwd()),a=n),t(a),0!==a.length&&(i=a+"/"+i,o=47===a.charCodeAt(0))}return i=r(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0===(e=r(e,!n)).length&&!n&&(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var l=r.length-a,c=s<l?s:l,u=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===r.charCodeAt(a+h))return r.slice(a+h+1);if(0===h)return r.slice(a+h)}else s>c&&(47===e.charCodeAt(i+h)?u=h:0===h&&(u=0));break}var f=e.charCodeAt(i+h);if(f!==r.charCodeAt(a+h))break;47===f&&(u=h)}var d="";for(h=i+u+1;h<=o;++h)(h===o||47===e.charCodeAt(h))&&(0===d.length?d+="..":d+="/..");return d.length>0?d+r.slice(a+u):(a+=u,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(r=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!s){i=n+1;break}}else-1===l&&(s=!1,l=n+1),a>=0&&(c===r.charCodeAt(a)?-1===--a&&(o=n):(a=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){i=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===i&&(o=!1,i=a+1),46===l?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){n=a+1;break}}return-1===r||-1===i||0===s||1===s&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),o=47===i;o?(r.root="/",n=1):n=0;for(var s=-1,a=0,l=-1,c=!0,u=e.length-1,h=0;u>=n;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===s?s=u:1!==h&&(h=1):-1!==s&&(h=-1);else if(!c){a=u+1;break}return-1===s||-1===l||0===h||1===h&&s===l-1&&s===a+1?-1!==l&&(r.base=r.name=0===a&&o?e.slice(1,l):e.slice(a,l)):(0===a&&o?(r.name=e.slice(1,s),r.base=e.slice(1,l)):(r.name=e.slice(a,s),r.base=e.slice(a,l)),r.ext=e.slice(s,l)),a>0?r.dir=e.slice(0,a-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,nE=n}()}),aE={};function lE(){if(bE)return vE;bE=!0;var e="function"==typeof Map&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&"function"==typeof t.get?t.get:null,n=e&&Map.prototype.forEach,i="function"==typeof Set&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&o&&"function"==typeof o.get?o.get:null,a=i&&Set.prototype.forEach,l="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,c="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,u="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,f=Object.prototype.toString,d=Function.prototype.toString,p=String.prototype.match,g=String.prototype.slice,y=String.prototype.replace,m=String.prototype.toUpperCase,v=String.prototype.toLowerCase,b=RegExp.prototype.test,_=Array.prototype.concat,x=Array.prototype.join,w=Array.prototype.slice,S=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,k="function"==typeof Symbol&&"object"==typeof Symbol.iterator,C="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,P=Object.prototype.propertyIsEnumerable,O=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function M(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||b.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-S(-e):S(e);if(n!==e){var i=String(n),o=g.call(t,i.length+1);return y.call(i,r,"$&_")+"."+y.call(y.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(t,r,"$&_")}var I=mE,L=I.custom,R=N(L)?L:null;function D(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function B(e){return y.call(String(e),/"/g,"&quot;")}function F(e){return!("[object Array]"!==$(e)||C&&"object"==typeof e&&C in e)}function j(e){return!("[object RegExp]"!==$(e)||C&&"object"==typeof e&&C in e)}function N(e){if(k)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch{}return!1}vE=function e(t,i,o,f){var m=i||{};if(U(m,"quoteStyle")&&"single"!==m.quoteStyle&&"double"!==m.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(U(m,"maxStringLength")&&("number"==typeof m.maxStringLength?m.maxStringLength<0&&m.maxStringLength!==1/0:null!==m.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var b=!U(m,"customInspect")||m.customInspect;if("boolean"!=typeof b&&"symbol"!==b)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(U(m,"indent")&&null!==m.indent&&"\t"!==m.indent&&!(parseInt(m.indent,10)===m.indent&&m.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(U(m,"numericSeparator")&&"boolean"!=typeof m.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var S=m.numericSeparator;if(typeof t>"u")return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return V(t,m);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var E=String(t);return S?M(t,E):E}if("bigint"==typeof t){var L=String(t)+"n";return S?M(t,L):L}var W=typeof m.depth>"u"?5:m.depth;if(typeof o>"u"&&(o=0),o>=W&&W>0&&"object"==typeof t)return F(t)?"[Array]":"[Object]";var H=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=x.call(Array(e.indent+1)," ")}return{base:r,prev:x.call(Array(t+1),r)}}(m,o);if(typeof f>"u")f=[];else if(z(f,t)>=0)return"[Circular]";function Q(t,r,n){if(r&&(f=w.call(f)).push(r),n){var i={depth:m.depth};return U(m,"quoteStyle")&&(i.quoteStyle=m.quoteStyle),e(t,i,o+1,f)}return e(t,m,o+1,f)}if("function"==typeof t&&!j(t)){var J=function(e){if(e.name)return e.name;var t=p.call(d.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),Z=X(t,Q);return"[Function"+(J?": "+J:" (anonymous)")+"]"+(Z.length>0?" { "+x.call(Z,", ")+" }":"")}if(N(t)){var ee=k?y.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(t);return"object"!=typeof t||k?ee:q(ee)}if(function(e){return!(!e||"object"!=typeof e)&&(typeof HTMLElement<"u"&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}(t)){for(var te="<"+v.call(String(t.nodeName)),re=t.attributes||[],ne=0;ne<re.length;ne++)te+=" "+re[ne].name+"="+D(B(re[ne].value),"double",m);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+v.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var ie=X(t,Q);return H&&!function(e){for(var t=0;t<e.length;t++)if(z(e[t],"\n")>=0)return!1;return!0}(ie)?"["+K(ie,H)+"]":"[ "+x.call(ie,", ")+" ]"}if(function(e){return!("[object Error]"!==$(e)||C&&"object"==typeof e&&C in e)}(t)){var oe=X(t,Q);return"cause"in Error.prototype||!("cause"in t)||P.call(t,"cause")?0===oe.length?"["+String(t)+"]":"{ ["+String(t)+"] "+x.call(oe,", ")+" }":"{ ["+String(t)+"] "+x.call(_.call("[cause]: "+Q(t.cause),oe),", ")+" }"}if("object"==typeof t&&b){if(R&&"function"==typeof t[R]&&I)return I(t,{depth:W-o});if("symbol"!==b&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!r||!e||"object"!=typeof e)return!1;try{r.call(e);try{s.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}(t)){var se=[];return n&&n.call(t,function(e,r){se.push(Q(r,t,!0)+" => "+Q(e,t))}),Y("Map",r.call(t),se,H)}if(function(e){if(!s||!e||"object"!=typeof e)return!1;try{s.call(e);try{r.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}(t)){var ae=[];return a&&a.call(t,function(e){ae.push(Q(e,t))}),Y("Set",s.call(t),ae,H)}if(function(e){if(!l||!e||"object"!=typeof e)return!1;try{l.call(e,l);try{c.call(e,c)}catch{return!0}return e instanceof WeakMap}catch{}return!1}(t))return G("WeakMap");if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e,c);try{l.call(e,l)}catch{return!0}return e instanceof WeakSet}catch{}return!1}(t))return G("WeakSet");if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{return u.call(e),!0}catch{}return!1}(t))return G("WeakRef");if(function(e){return!("[object Number]"!==$(e)||C&&"object"==typeof e&&C in e)}(t))return q(Q(Number(t)));if(function(e){if(!e||"object"!=typeof e||!T)return!1;try{return T.call(e),!0}catch{}return!1}(t))return q(Q(T.call(t)));if(function(e){return!("[object Boolean]"!==$(e)||C&&"object"==typeof e&&C in e)}(t))return q(h.call(t));if(function(e){return!("[object String]"!==$(e)||C&&"object"==typeof e&&C in e)}(t))return q(Q(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof _E<"u"&&t===_E)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==$(e)||C&&"object"==typeof e&&C in e)}(t)&&!j(t)){var le=X(t,Q),ce=O?O(t)===Object.prototype:t instanceof Object||t.constructor===Object,ue=t instanceof Object?"":"null prototype",he=!ce&&C&&Object(t)===t&&C in t?g.call($(t),8,-1):ue?"Object":"",fe=(ce||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(he||ue?"["+x.call(_.call([],he||[],ue||[]),": ")+"] ":"");return 0===le.length?fe+"{}":H?fe+"{"+K(le,H)+"}":fe+"{ "+x.call(le,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in(this||_E)};function U(e,t){return W.call(e,t)}function $(e){return f.call(e)}function z(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function V(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return V(g.call(e,0,t.maxStringLength),t)+n}return D(y.call(y.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,H),"single",t)}function H(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+m.call(t.toString(16))}function q(e){return"Object("+e+")"}function G(e){return e+" { ? }"}function Y(e,t,r,n){return e+" ("+t+") {"+(n?K(r,n):x.call(r,", "))+"}"}function K(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+x.call(e,","+r)+"\n"+t.prev}function X(e,t){var r=F(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=U(e,i)?t(e[i],e):""}var o,s="function"==typeof E?E(e):[];if(k){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in e)U(e,l)&&(r&&String(Number(l))===l&&l<e.length||k&&o["$"+l]instanceof Symbol||(b.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof E)for(var c=0;c<s.length;c++)P.call(e,s[c])&&n.push("["+t(s[c])+"]: "+t(e[s[c]],e));return n}return vE}function cE(){if(wE)return xE;wE=!0;var e=iS(),t=lS(),r=lE(),n=tS(),i=e("%WeakMap%",!0),o=e("%Map%",!0),s=t("WeakMap.prototype.get",!0),a=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),c=t("Map.prototype.get",!0),u=t("Map.prototype.set",!0),h=t("Map.prototype.has",!0),f=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};return xE=function(){var e,t,d,p={assert:function(e){if(!p.has(e))throw new n("Side channel does not contain "+r(e))},get:function(r){if(i&&r&&("object"==typeof r||"function"==typeof r)){if(e)return s(e,r)}else if(o){if(t)return c(t,r)}else if(d)return function(e,t){var r=f(e,t);return r&&r.value}(d,r)},has:function(r){if(i&&r&&("object"==typeof r||"function"==typeof r)){if(e)return l(e,r)}else if(o){if(t)return h(t,r)}else if(d)return function(e,t){return!!f(e,t)}(d,r);return!1},set:function(r,n){i&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new i),a(e,r,n)):o?(t||(t=new o),u(t,r,n)):(d||(d={key:{},next:null}),function(e,t,r){var n=f(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(d,r,n))}};return p}}function uE(){if(TE)return SE;TE=!0;var e=String.prototype.replace,t=/%20/g,r="RFC3986";return SE={default:r,formatters:{RFC1738:function(r){return e.call(r,t,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}}function hE(){if(AE)return EE;AE=!0;var e=uE(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(r[n]=e[n]);return r},o=1024;return EE={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var o=t[i],s=o.obj[o.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:s,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(r(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},encode:function(t,r,i,s,a){if(0===t.length)return t;var l=t;if("symbol"==typeof t?l=Symbol.prototype.toString.call(t):"string"!=typeof t&&(l=String(t)),"iso-8859-1"===i)return escape(l).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var c="",u=0;u<l.length;u+=o){for(var h=l.length>=o?l.slice(u,u+o):l,f=[],d=0;d<h.length;++d){var p=h.charCodeAt(d);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||a===e.RFC1738&&(40===p||41===p)?f[f.length]=h.charAt(d):p<128?f[f.length]=n[p]:p<2048?f[f.length]=n[192|p>>6]+n[128|63&p]:p<55296||p>=57344?f[f.length]=n[224|p>>12]+n[128|p>>6&63]+n[128|63&p]:(d+=1,p=65536+((1023&p)<<10|1023&h.charCodeAt(d)),f[f.length]=n[240|p>>18]+n[128|p>>12&63]+n[128|p>>6&63]+n[128|63&p])}c+=f.join("")}return c},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(r(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},merge:function e(n,o,s){if(!o)return n;if("object"!=typeof o){if(r(n))n.push(o);else{if(!n||"object"!=typeof n)return[n,o];(s&&(s.plainObjects||s.allowPrototypes)||!t.call(Object.prototype,o))&&(n[o]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(o);var a=n;return r(n)&&!r(o)&&(a=i(n,s)),r(n)&&r(o)?(o.forEach(function(r,i){if(t.call(n,i)){var o=n[i];o&&"object"==typeof o&&r&&"object"==typeof r?n[i]=e(o,r,s):n.push(r)}else n[i]=r}),n):Object.keys(o).reduce(function(r,n){var i=o[n];return t.call(r,n)?r[n]=e(r[n],i,s):r[n]=i,r},a)}}}function fE(){if(CE)return kE;CE=!0;var e=cE(),t=hE(),r=uE(),n=Object.prototype.hasOwnProperty,i={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,s=Array.prototype.push,a=function(e,t){s.apply(e,o(t)?t:[t])},l=Date.prototype.toISOString,c=r.default,u={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:c,formatter:r.formatters[c],indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},h={},f=function r(n,i,s,l,c,f,d,p,g,y,m,v,b,_,x,w,S,T){for(var E=n,A=T,k=0,C=!1;void 0!==(A=A.get(h))&&!C;){var P=A.get(n);if(k+=1,typeof P<"u"){if(P===k)throw new RangeError("Cyclic object value");C=!0}typeof A.get(h)>"u"&&(k=0)}if("function"==typeof y?E=y(i,E):E instanceof Date?E=b(E):"comma"===s&&o(E)&&(E=t.maybeMap(E,function(e){return e instanceof Date?b(e):e})),null===E){if(f)return g&&!w?g(i,u.encoder,S,"key",_):i;E=""}if(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e}(E)||t.isBuffer(E))return g?[x(w?i:g(i,u.encoder,S,"key",_))+"="+x(g(E,u.encoder,S,"value",_))]:[x(i)+"="+x(String(E))];var O,M=[];if(typeof E>"u")return M;if("comma"===s&&o(E))w&&g&&(E=t.maybeMap(E,g)),O=[{value:E.length>0?E.join(",")||null:void 0}];else if(o(y))O=y;else{var I=Object.keys(E);O=m?I.sort(m):I}var L=p?i.replace(/\./g,"%2E"):i,R=l&&o(E)&&1===E.length?L+"[]":L;if(c&&o(E)&&0===E.length)return R+"[]";for(var D=0;D<O.length;++D){var B=O[D],F="object"==typeof B&&typeof B.value<"u"?B.value:E[B];if(!d||null!==F){var j=v&&p?B.replace(/\./g,"%2E"):B,N=o(E)?"function"==typeof s?s(R,j):R:R+(v?"."+j:"["+j+"]");T.set(n,k);var W=e();W.set(h,T),a(M,r(F,N,s,l,c,f,d,p,"comma"===s&&w&&o(E)?null:g,y,m,v,b,_,x,w,S,W))}}return M};return kE=function(t,s){var l,c=t,h=function(e){if(!e)return u;if(typeof e.allowEmptyArrays<"u"&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&typeof e.encoder<"u"&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||u.charset;if(typeof e.charset<"u"&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var s=r.default;if(typeof e.format<"u"){if(!n.call(r.formatters,e.format))throw new TypeError("Unknown format option provided.");s=e.format}var a,l=r.formatters[s],c=u.filter;if(("function"==typeof e.filter||o(e.filter))&&(c=e.filter),a=e.arrayFormat in i?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":u.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=typeof e.allowDots>"u"?!0===e.encodeDotInKeys||u.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:u.addQueryPrefix,allowDots:h,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:u.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:u.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?u.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:u.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:u.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:u.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:u.encodeValuesOnly,filter:c,format:s,formatter:l,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:u.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:u.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:u.strictNullHandling}}(s);"function"==typeof h.filter?c=(0,h.filter)("",c):o(h.filter)&&(l=h.filter);var d=[];if("object"!=typeof c||null===c)return"";var p=i[h.arrayFormat],g="comma"===p&&h.commaRoundTrip;l||(l=Object.keys(c)),h.sort&&l.sort(h.sort);for(var y=e(),m=0;m<l.length;++m){var v=l[m];h.skipNulls&&null===c[v]||a(d,f(c[v],v,p,g,h.allowEmptyArrays,h.strictNullHandling,h.skipNulls,h.encodeDotInKeys,h.encode?h.encoder:null,h.filter,h.sort,h.allowDots,h.serializeDate,h.format,h.formatter,h.encodeValuesOnly,h.charset,y))}var b=d.join(h.delimiter),_=!0===h.addQueryPrefix?"?":"";return h.charsetSentinel&&("iso-8859-1"===h.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}}function dE(){if(OE)return PE;OE=!0;var e=hE(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},o=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},s=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,l=n.depth>0&&/(\[[^[\]]*])/.exec(s),c=l?s.slice(0,l.index):s,u=[];if(c){if(!n.plainObjects&&t.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var h=0;n.depth>0&&null!==(l=a.exec(s))&&h<n.depth;){if(h+=1,!n.plainObjects&&t.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(l[1])}if(l){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+s.slice(l.index)+"]")}return function(e,t,r,n){for(var i=n?t:o(t,r),s=e.length-1;s>=0;--s){var a,l=e[s];if("[]"===l&&r.parseArrays)a=r.allowEmptyArrays&&(""===i||r.strictNullHandling&&null===i)?[]:[].concat(i);else{a=r.plainObjects?Object.create(null):{};var c="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,u=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,h=parseInt(u,10);r.parseArrays||""!==u?!isNaN(h)&&l!==u&&String(h)===u&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(a=[])[h]=i:"__proto__"!==u&&(a[u]=i):a={0:i}}i=a}return i}(u,r,n,i)}};return PE=function(a,l){var c=function(t){if(!t)return n;if(typeof t.allowEmptyArrays<"u"&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&"boolean"!=typeof t.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.decoder&&typeof t.decoder<"u"&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?n.charset:t.charset,i=typeof t.duplicates>"u"?n.duplicates:t.duplicates;if("combine"!==i&&"first"!==i&&"last"!==i)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof t.allowDots>"u"?!0===t.decodeDotInKeys||n.allowDots:!!t.allowDots,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:n.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:n.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:n.arrayLimit,charset:r,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:n.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:n.comma,decodeDotInKeys:"boolean"==typeof t.decodeDotInKeys?t.decodeDotInKeys:n.decodeDotInKeys,decoder:"function"==typeof t.decoder?t.decoder:n.decoder,delimiter:"string"==typeof t.delimiter||e.isRegExp(t.delimiter)?t.delimiter:n.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:n.depth,duplicates:i,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:n.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:n.plainObjects,strictDepth:"boolean"==typeof t.strictDepth?!!t.strictDepth:n.strictDepth,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:n.strictNullHandling}}(l);if(""===a||null===a||typeof a>"u")return c.plainObjects?Object.create(null):{};for(var u="string"==typeof a?function(s,a){var l={__proto__:null},c=a.ignoreQueryPrefix?s.replace(/^\?/,""):s;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u,h=a.parameterLimit===1/0?void 0:a.parameterLimit,f=c.split(a.delimiter,h),d=-1,p=a.charset;if(a.charsetSentinel)for(u=0;u<f.length;++u)0===f[u].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[u]?p="utf-8":"utf8=%26%2310003%3B"===f[u]&&(p="iso-8859-1"),d=u,u=f.length);for(u=0;u<f.length;++u)if(u!==d){var g,y,m=f[u],v=m.indexOf("]="),b=-1===v?m.indexOf("="):v+1;-1===b?(g=a.decoder(m,n.decoder,p,"key"),y=a.strictNullHandling?null:""):(g=a.decoder(m.slice(0,b),n.decoder,p,"key"),y=e.maybeMap(o(m.slice(b+1),a),function(e){return a.decoder(e,n.decoder,p,"value")})),y&&a.interpretNumericEntities&&"iso-8859-1"===p&&(y=i(y)),m.indexOf("[]=")>-1&&(y=r(y)?[y]:y);var _=t.call(l,g);_&&"combine"===a.duplicates?l[g]=e.combine(l[g],y):(!_||"last"===a.duplicates)&&(l[g]=y)}return l}(a,c):a,h=c.plainObjects?Object.create(null):{},f=Object.keys(u),d=0;d<f.length;++d){var p=f[d],g=s(p,u[p],c,"string"==typeof a);h=e.merge(h,g,c)}return!0===c.allowSparse?h:e.compact(h)}}function pE(){if(RE)return LE;RE=!0;var e=Jw;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),s=["'"].concat(o),a=["%","/","?",";","#"].concat(s),l=["/","?","#"],c=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},p=function(){if(IE)return ME;IE=!0;var e=fE(),t=dE(),r=uE();return ME={formats:r,parse:t,stringify:e}}();function g(e,r,n){if(e&&"object"==typeof e&&e instanceof t)return e;var i=new t;return i.parse(e,r,n),i}return t.prototype.parse=function(t,n,o){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var g=t.indexOf("?"),y=-1!==g&&g<t.indexOf("#")?"?":"#",m=t.split(y);m[0]=m[0].replace(/\\/g,"/");var v=t=m.join(y);if(v=v.trim(),!o&&1===t.split("#").length){var b=i.exec(v);if(b)return this.path=v,this.href=v,this.pathname=b[1],b[2]?(this.search=b[2],this.query=n?p.parse(this.search.substr(1)):this.search.substr(1)):n&&(this.search="",this.query={}),this}var _=r.exec(v);if(_){var x=(_=_[0]).toLowerCase();this.protocol=x,v=v.substr(_.length)}if(o||_||v.match(/^\/\/[^@/]+@[^@/]+/)){var w="//"===v.substr(0,2);w&&(!_||!f[_])&&(v=v.substr(2),this.slashes=!0)}if(!f[_]&&(w||_&&!d[_])){for(var S=-1,T=0;T<l.length;T++){-1!==(k=v.indexOf(l[T]))&&(-1===S||k<S)&&(S=k)}var E,A;-1!==(A=-1===S?v.lastIndexOf("@"):v.lastIndexOf("@",S))&&(E=v.slice(0,A),v=v.slice(A+1),this.auth=decodeURIComponent(E)),S=-1;for(T=0;T<a.length;T++){var k;-1!==(k=v.indexOf(a[T]))&&(-1===S||k<S)&&(S=k)}-1===S&&(S=v.length),this.host=v.slice(0,S),v=v.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var P=this.hostname.split(/\./),O=(T=0,P.length);T<O;T++){var M=P[T];if(M&&!M.match(c)){for(var I="",L=0,R=M.length;L<R;L++)M.charCodeAt(L)>127?I+="x":I+=M[L];if(!I.match(c)){var D=P.slice(0,T),B=P.slice(T+1),F=M.match(u);F&&(D.push(F[1]),B.unshift(F[2])),B.length&&(v="/"+B.join(".")+v),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=e.toASCII(this.hostname));var j=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+j,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!h[x])for(T=0,O=s.length;T<O;T++){var W=s[T];if(-1!==v.indexOf(W)){var U=encodeURIComponent(W);U===W&&(U=escape(W)),v=v.split(W).join(U)}}var $=v.indexOf("#");-1!==$&&(this.hash=v.substr($),v=v.slice(0,$));var z=v.indexOf("?");if(-1!==z?(this.search=v.substr(z),this.query=v.substr(z+1),n&&(this.query=p.parse(this.query)),v=v.slice(0,z)):n&&(this.search="",this.query={}),v&&(this.pathname=v),d[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var V=this.search||"";this.path=j+V}return this.href=this.format(),this},t.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=p.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||d[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+n},t.prototype.resolve=function(e){return this.resolveObject(g(e,!1,!0)).format()},t.prototype.resolveObject=function(e){if("string"==typeof e){var r=new t;r.parse(e,!1,!0),e=r}for(var n=new t,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),l=0;l<a.length;l++){var c=a[l];"protocol"!==c&&(n[c]=e[c])}return d[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!d[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var p=u[h];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||f[e.protocol])n.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==g[0]&&g.unshift(""),g.length<2&&g.unshift(""),n.pathname=g.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var y=n.pathname||"",m=n.search||"";n.path=y+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=b||v||n.host&&e.pathname,x=_,w=n.pathname&&n.pathname.split("/")||[],S=(g=e.pathname&&e.pathname.split("/")||[],n.protocol&&!d[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host=null),_=_&&(""===g[0]||""===w[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=g;else if(g.length)w||(w=[]),w.pop(),w=w.concat(g),n.search=e.search,n.query=e.query;else if(null!=e.search){if(S)n.host=w.shift(),n.hostname=n.host,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname);return n.search=e.search,n.query=e.query,(null!==n.pathname||null!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=w.slice(-1)[0],E=(n.host||e.host||w.length>1)&&("."===T||".."===T)||""===T,A=0,k=w.length;k>=0;k--)"."===(T=w[k])?w.splice(k,1):".."===T?(w.splice(k,1),A++):A&&(w.splice(k,1),A--);if(!_&&!x)for(;A--;A)w.unshift("..");_&&""!==w[0]&&(!w[0]||"/"!==w[0].charAt(0))&&w.unshift(""),E&&"/"!==w.join("/").substr(-1)&&w.push("");var C,P=""===w[0]||w[0]&&"/"===w[0].charAt(0);S&&(n.hostname=P?"":w.length?w.shift():"",n.host=n.hostname,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname));return(_=_||n.host&&w.length)&&!P&&w.unshift(""),w.length>0?n.pathname=w.join("/"):(n.pathname=null,n.path=null),(null!==n.pathname||null!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},t.prototype.parseHost=function(){var e=this.host,t=n.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},LE.parse=g,LE.resolve=function(e,t){return g(e,!1,!0).resolve(t)},LE.resolveObject=function(e,t){return e?g(e,!1,!0).resolveObject(t):t},LE.format=function(e){return"string"==typeof e&&(e=g(e)),e instanceof t?e.format():t.prototype.format.call(e)},LE.Url=t,LE}function gE(e){if("string"==typeof e)e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if("file:"!==e.protocol)throw new Deno.errors.InvalidData("invalid url scheme");return GE?function(e){let t=e.hostname,r=e.pathname;for(let n=0;n<r.length;n++)if("%"===r[n]){let e=r.codePointAt(n+2)||32;if("2"===r[n+1]&&102===e||"5"===r[n+1]&&99===e)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(YE,"\\"),r=decodeURIComponent(r),""!==t)return`\\\\${t}${r}`;{let e=32|r.codePointAt(1),t=r[2];if(e<HE||e>qE||":"!==t)throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}(e):function(e){if(""!==e.hostname)throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if("%"===t[r]){let e=t.codePointAt(r+2)||32;if("2"===t[r+1]&&102===e)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}(e)}function yE(e){let t=oE.resolve(e),r=e.charCodeAt(e.length-1);(r===VE||GE&&r===zE)&&t[t.length-1]!==oE.sep&&(t+="/");let n=new URL("file://");return t.includes("%")&&(t=t.replace(KE,"%25")),!GE&&t.includes("\\")&&(t=t.replace(XE,"%5C")),t.includes("\n")&&(t=t.replace(QE,"%0A")),t.includes("\r")&&(t=t.replace(JE,"%0D")),t.includes("\t")&&(t=t.replace(ZE,"%09")),n.pathname=t,n}jv(aE,{URL:()=>$E,Url:()=>FE,default:()=>DE,fileURLToPath:()=>gE,format:()=>jE,parse:()=>UE,pathToFileURL:()=>yE,resolve:()=>NE,resolveObject:()=>WE});var mE,vE,bE,_E,xE,wE,SE,TE,EE,AE,kE,CE,PE,OE,ME,IE,LE,RE,DE,BE,FE,jE,NE,WE,UE,$E,zE,VE,HE,qE,GE,YE,KE,XE,QE,JE,ZE,eA=Bv(()=>{Wv(),L_(),v_(),Zw(),QS(),sE(),rE(),mE=Object.freeze(Object.create(null)),vE={},bE=!1,_E=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,xE={},wE=!1,SE={},TE=!1,EE={},AE=!1,kE={},CE=!1,PE={},OE=!1,ME={},IE=!1,LE={},RE=!1,(DE=pE()).parse,DE.resolve,DE.resolveObject,DE.format,DE.Url,BE=typeof Deno<"u"?"windows"===Deno.build.os?"win32":Deno.build.os:void 0,DE.URL=typeof URL<"u"?URL:null,DE.pathToFileURL=yE,DE.fileURLToPath=gE,FE=DE.Url,jE=DE.format,NE=DE.resolve,WE=DE.resolveObject,UE=DE.parse,$E=DE.URL,zE=92,VE=47,HE=97,qE=122,GE="win32"===BE,YE=/\//g,KE=/%/g,XE=/\\/g,QE=/\n/g,JE=/\r/g,ZE=/\t/g}),tA=Fv((e,t)=>{Wv(),L_(),v_(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),rA=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=void 0,e.writev=i;var r=_x(),n=(I_(),Nv(k_));function i(e,t){let r=new Array(e.length);for(let i=0;i<e.length;i++)"string"==typeof e[i].chunk?r[i]=n.Buffer.from(e[i].chunk,"utf8"):r[i]=e[i].chunk;this._write(n.Buffer.concat(r),"binary",t)}var o=class extends r.Duplex{constructor(e,r,n){super({objectMode:!0}),t(this,"socket"),t(this,"proxy"),t(this,"isSocketOpen"),t(this,"writeQueue"),this.proxy=r,this.socket=n,this.writeQueue=[],e.objectMode||(this._writev=i.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",e=>{!this.destroyed&&this.readable&&this.push(e)})}_read(e){this.proxy.read(e)}_write(e,t,r){this.isSocketOpen?this.writeToProxy(e,t,r):this.writeQueue.push({chunk:e,encoding:t,cb:r})}_final(e){this.writeQueue=[],this.proxy.end(e)}_destroy(e,t){this.writeQueue=[],this.proxy.destroy(),t(e)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(e,t,r){!1===this.proxy.write(e,t)?this.proxy.once("drain",r):r()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:e,encoding:t,cb:r}=this.writeQueue.shift();this.writeToProxy(e,t,r)}}};e.BufferedDuplex=o}),nA=Fv(e=>{Wv(),L_(),v_();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var r=(I_(),Nv(k_)),n=t(tA()),i=t(Cx()),o=_x(),s=t(Hw()),a=rA(),l=(0,i.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function u(e,t){let r=`${e.protocol}://${e.hostname}:${e.port}${e.path}`;return"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function h(e){let t=e;return e.port||("wss"===e.protocol?t.port=443:t.port=80),e.path||(t.path="/"),e.wsOptions||(t.wsOptions={}),!s.default&&!e.forceNativeWebSocket&&"wss"===e.protocol&&c.forEach(r=>{Object.prototype.hasOwnProperty.call(e,r)&&!Object.prototype.hasOwnProperty.call(e.wsOptions,r)&&(t.wsOptions[r]=e[r])}),t}e.streamBuilder=(e,t)=>{l("streamBuilder");let r=h(t);r.hostname=r.hostname||r.host||"localhost";let i=u(r,e),o=function(e,t,r){l("createWebSocket"),l(`protocol: ${r.protocolId} ${r.protocolVersion}`);let i,o="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";return l(`creating new Websocket for url: ${t} and protocol: ${o}`),i=r.createWebsocket?r.createWebsocket(t,[o],r):new n.default(t,[o],r.wsOptions),i}(0,i,r),s=n.default.createWebSocketStream(o,r.wsOptions);return s.url=i,o.on("close",()=>{s.destroy()}),s};e.browserStreamBuilder=(e,t)=>{l("browserStreamBuilder");let n,i=function(e){let t=h(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let e=new URL(document.URL);t.hostname=e.hostname,t.port||(t.port=Number(e.port))}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}(t).browserBufferSize||524288,s=t.browserBufferTimeout||1e3,c=!t.objectMode,f=function(e,t){let r,n="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",i=u(t,e);return r=t.createWebsocket?t.createWebsocket(i,[n],t):new WebSocket(i,[n]),r.binaryType="arraybuffer",r}(e,t),d=function(e,t,r){let n=new o.Transform({objectMode:e.objectMode});return n._write=t,n._flush=r,n}(t,function e(t,n,o){if(f.bufferedAmount>i)return void setTimeout(e,s,t,n,o);c&&"string"==typeof t&&(t=r.Buffer.from(t,"utf8"));try{f.send(t)}catch(a){return o(a)}o()},function(e){f.close(),e()});t.objectMode||(d._writev=a.writev.bind(d)),d.on("close",()=>{f.close()});let p=typeof f.addEventListener<"u";function g(){l("WebSocket onOpen"),n instanceof a.BufferedDuplex&&n.socketReady()}function y(e){l("WebSocket onClose",e),n.end(),n.destroy()}function m(e){l("WebSocket onError",e);let t=new Error("WebSocket error");t.event=e,n.destroy(t)}async function v(e){if(!d||!d.readable||!d.writable)return;let{data:t}=e;t=t instanceof ArrayBuffer?r.Buffer.from(t):t instanceof Blob?r.Buffer.from(await new Response(t).arrayBuffer()):r.Buffer.from(t,"utf8"),d.push(t)}return f.readyState===f.OPEN?(n=d,n.socket=f):(n=new a.BufferedDuplex(t,d,f),p?f.addEventListener("open",g):f.onopen=g),p?(f.addEventListener("close",y),f.addEventListener("error",m),f.addEventListener("message",v)):(f.onclose=y,f.onerror=m,f.onmessage=v),n}}),iA={};function oA(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}jv(iA,{Server:()=>oA,Socket:()=>oA,Stream:()=>oA,_createServerHandle:()=>oA,_normalizeArgs:()=>oA,_setSimultaneousAccepts:()=>oA,connect:()=>oA,createConnection:()=>oA,createServer:()=>oA,default:()=>sA,isIP:()=>oA,isIPv4:()=>oA,isIPv6:()=>oA});var sA,aA=Bv(()=>{Wv(),L_(),v_(),sA={_createServerHandle:oA,_normalizeArgs:oA,_setSimultaneousAccepts:oA,connect:oA,createConnection:oA,createServer:oA,isIP:oA,isIPv4:oA,isIPv6:oA,Server:oA,Socket:oA,Stream:oA}}),lA=Fv((e,t)=>{Wv(),L_(),v_(),t.exports={}}),cA=Fv(e=>{Wv(),L_(),v_();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((aA(),Nv(iA))),n=t(Cx()),i=t(lA()),o=(0,n.default)("mqttjs:tcp");e.default=(e,t)=>{if(t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",t.socksProxy)return(0,i.default)(t.hostname,t.port,t.socksProxy,{timeout:t.socksTimeout});let{port:n,path:s}=t,a=t.hostname;return o("port %d and host %s",n,a),r.default.createConnection({port:n,host:a,path:s})}}),uA={};jv(uA,{default:()=>hA});var hA,fA=Bv(()=>{Wv(),L_(),v_(),hA={}}),dA=Fv(e=>{Wv(),L_(),v_();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=(fA(),Nv(uA)),n=t((aA(),Nv(iA))),i=t(Cx()),o=t(lA()),s=(0,i.default)("mqttjs:tls");e.default=(e,t)=>{t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",0===n.default.isIP(t.host)&&(t.servername=t.host),t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,s("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);let i=function(e){let{host:t,port:n,socksProxy:i,...s}=e;if(void 0!==i){let a=(0,o.default)(t,n,i,{timeout:e.socksTimeout});return(0,r.connect)({...s,socket:a})}return(0,r.connect)(e)}(t);function a(r){t.rejectUnauthorized&&e.emit("error",r),i.end()}return i.on("secureConnect",()=>{t.rejectUnauthorized&&!i.authorized?i.emit("error",new Error("TLS not authorized")):i.removeListener("error",a)}),i.on("error",a),i}}),pA=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0});var t,r,n,i=(I_(),Nv(k_)),o=_x(),s=rA();e.default=(e,a)=>{if(a.hostname=a.hostname||a.host,!a.hostname)throw new Error("Could not determine host. Specify host manually.");let l="MQIsdp"===a.protocolId&&3===a.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(a);let c=function(e,t){let r="wxs"===e.protocol?"wss":"ws",n=`${r}://${e.hostname}${e.path}`;return e.port&&80!==e.port&&443!==e.port&&(n=`${r}://${e.hostname}:${e.port}${e.path}`),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(a,e);t=Ng({url:c,protocols:[l]}),r=function(){let e=new o.Transform;return e._write=(e,r,n)=>{t.send({data:e.buffer,success(){n()},fail(e){n(new Error(e))}})},e._flush=e=>{t.close({success(){e()}})},e}(),(n=new s.BufferedDuplex(a,r,t))._destroy=(e,r)=>{t.close({success(){r&&r(e)}})};let u=n.destroy;return n.destroy=(e,r)=>(n.destroy=u,setTimeout(()=>{t.close({fail(){n._destroy(e,r)}})},0),n),t.onOpen(()=>{n.socketReady()}),t.onMessage(e=>{let{data:t}=e;t=t instanceof ArrayBuffer?i.Buffer.from(t):i.Buffer.from(t,"utf8"),r.push(t)}),t.onClose(()=>{n.emit("close"),n.end(),n.destroy()}),t.onError(e=>{let t=new Error(e.errMsg);n.destroy(t)}),n}}),gA=Fv(e=>{Wv(),L_(),v_(),Object.defineProperty(e,"__esModule",{value:!0});var t,r,n,i=(I_(),Nv(k_)),o=_x(),s=rA(),a=!1;e.default=(e,l)=>{if(l.hostname=l.hostname||l.host,!l.hostname)throw new Error("Could not determine host. Specify host manually.");let c="MQIsdp"===l.protocolId&&3===l.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(l);let u=function(e,t){let r="alis"===e.protocol?"wss":"ws",n=`${r}://${e.hostname}${e.path}`;return e.port&&80!==e.port&&443!==e.port&&(n=`${r}://${e.hostname}:${e.port}${e.path}`),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(l,e);return(t=l.my).connectSocket({url:u,protocols:c}),r=function(){let e=new o.Transform;return e._write=(e,r,n)=>{t.sendSocketMessage({data:e.buffer,success(){n()},fail(){n(new Error)}})},e._flush=e=>{t.closeSocket({success(){e()}})},e}(),n=new s.BufferedDuplex(l,r,t),a||(a=!0,t.onSocketOpen(()=>{n.socketReady()}),t.onSocketMessage(e=>{if("string"==typeof e.data){let t=i.Buffer.from(e.data,"base64");r.push(t)}else{let t=new FileReader;t.addEventListener("load",()=>{t.result instanceof ArrayBuffer?r.push(i.Buffer.from(t.result)):r.push(i.Buffer.from(t.result,"utf-8"))}),t.readAsArrayBuffer(e.data)}}),t.onSocketClose(()=>{n.end(),n.destroy()}),t.onSocketError(e=>{n.destroy(e)})),n}}),yA=Fv(e=>{Wv(),L_(),v_();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=function(e,t,r=!0){return new Promise((n,i)=>{let o=l(e,t),s={connect:e=>{a(),n(o)},end:()=>{a(),n(o)},error:e=>{a(),o.end(),i(e)}};function a(){Object.keys(s).forEach(e=>{o.off(e,s[e])})}!1===r&&(s.close=()=>{s.error(new Error("Couldn't connect to server"))}),Object.keys(s).forEach(e=>{o.on(e,s[e])})})};var r=t(Cx()),n=t((eA(),Nv(aE))),i=t(Yw()),o=t(Hw());"function"!=typeof(null==Uv?void 0:Uv.nextTick)&&(Uv.nextTick=setImmediate);var s=(0,r.default)("mqttjs"),a=null;function l(e,t){var r,l,c;if(s("connecting to an MQTT broker..."),"object"==typeof e&&!t&&(t=e,e=""),t=t||{},e&&"string"==typeof e){let r=n.default.parse(e,!0),i={};if(null!=r.port&&(i.port=Number(r.port)),i.host=r.hostname,i.query=r.query,i.auth=r.auth,i.protocol=r.protocol,i.path=r.path,!(t={...i,...t}).protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(t.unixSocket=t.unixSocket||(null==(r=t.protocol)?void 0:r.includes("+unix")),t.unixSocket?t.protocol=t.protocol.replace("+unix",""):!(null==(l=t.protocol)?void 0:l.startsWith("ws"))&&!(null==(c=t.protocol)?void 0:c.startsWith("wx"))&&delete t.path,function(e){let t;if(e.auth)if(t=e.auth.match(/^(.+):(.+)$/),t){let[,r,n]=t;e.username=r,e.password=n}else e.username=e.auth}(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),o.default||t.unixSocket?t.socksProxy=void 0:void 0===t.socksProxy&&typeof Uv<"u"&&(t.socksProxy=Uv.env.MQTTJS_SOCKS_PROXY),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${t.protocol}"!`)}}if(a||(a={},o.default||t.forceNativeWebSocket?(a.ws=nA().browserStreamBuilder,a.wss=nA().browserStreamBuilder,a.wx=pA().default,a.wxs=pA().default,a.ali=gA().default,a.alis=gA().default):(a.ws=nA().streamBuilder,a.wss=nA().streamBuilder,a.mqtt=cA().default,a.tcp=cA().default,a.ssl=dA().default,a.tls=a.ssl,a.mqtts=dA().default)),!a[t.protocol]){let e=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((t,r)=>(!e||r%2!=0)&&"function"==typeof a[t])[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");t.protocol&&(t.defaultProtocol=t.protocol);let u=new i.default(function(e){return t.servers&&((!e._reconnectCount||e._reconnectCount===t.servers.length)&&(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),s("calling streambuilder for",t.protocol),a[t.protocol](e,t)},t);return u.on("error",()=>{}),u}e.default=l}),mA=Fv(e=>{Wv(),L_(),v_();var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=e&&e.__importStar||function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(n){if(n&&n.__esModule)return n;var i={};if(null!=n)for(var o=e(n),s=0;s<o.length;s++)"default"!==o[s]&&t(i,n,o[s]);return r(i,n),i}}(),i=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)},o=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var s=o(Yw());e.MqttClient=s.default;var a=o(mw());e.DefaultMessageIdProvider=a.default;var l=o(Kw());e.UniqueMessageIdProvider=l.default;var c=o(jx());e.Store=c.default;var u=n(yA());e.connect=u.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return u.connectAsync}});var h=o(Gw());e.KeepaliveManager=h.default,e.Client=s.default,i(Yw(),e),i(Ux(),e);var f=$x();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return f.ReasonCodes}})});Fv(e=>{Wv(),L_(),v_();var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=e&&e.__importStar||function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(n){if(n&&n.__esModule)return n;var i={};if(null!=n)for(var o=e(n),s=0;s<o.length;s++)"default"!==o[s]&&t(i,n,o[s]);return r(i,n),i}}(),i=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(mA());e.default=o,i(mA(),e)})();
/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/
let vA=!1;function bA(){return vA}const _A=Xy(ni({__name:"device-home",setup(e){const t=$r(!1),r=$r("worn"),n=$r("00:30"),i=$r(Sv.targetTime),o=$r("21:30"),s=$r([]),a=()=>{switch(r.value){case"worn":return"";case"not-worn":return"";case"abnormal":return"";default:return""}},l=()=>{switch(r.value){case"worn":return"worn";case"not-worn":return"not-worn";case"abnormal":return"abnormal";default:return""}},c=()=>{Ug({url:"/pages/parent/realtime-monitor/realtime-monitor"})},u=()=>{Ug({url:"/pages/parent/daily-chart/daily-chart"})},h=()=>{Ug({url:"/pages/parent/report-setting/report-setting"})},f=()=>{s.value=[{id:1,type:"pressure",title:"",time:"14:30"},{id:2,type:"battery",title:"",time:"15:45"}];const e=function(e){const t=Sv.targetTime-e,r=Math.floor(t);return`${r}${Math.round(60*(t-r))}`}(.5);o.value=e};let d,p;return Si(()=>{t.value=bA(),f(),d=setInterval(()=>{t.value=bA()},5e3),p=setInterval(()=>{const e=Math.random();r.value=e>.95?"abnormal":e>.9?"not-worn":"worn"},1e4)}),ki(()=>{d&&clearInterval(d),p&&clearInterval(p)}),(e,f)=>{const d=Fp,p=Gd;return Oo(),Do(d,{class:"device-home-page"},{default:Tn(()=>[$o(d,{class:"page-header"},{default:Tn(()=>[t.value?(Oo(),Do(d,{key:0,class:"device-status"},{default:Tn(()=>[$o(d,{class:"status-dot connected"}),$o(d,{class:"status-text"},{default:Tn(()=>[Vo("")]),_:1})]),_:1})):Ho("",!0)]),_:1}),$o(d,{class:"device-info-section"},{default:Tn(()=>[$o(d,{class:"device-image-container"},{default:Tn(()=>[$o(p,{class:"device-image",src:Mv,mode:"aspectFit"}),$o(d,{class:"device-name"},{default:Tn(()=>[Vo("")]),_:1}),$o(d,{class:"device-status-tag battery"},{default:Tn(()=>[$o(d,{class:"status-dot"}),$o(d,{class:"status-text"},{default:Tn(()=>[Vo(": 75%")]),_:1})]),_:1}),$o(d,{class:"device-status-tag wear"},{default:Tn(()=>[$o(d,{class:Xe(["status-dot",l()])},null,8,["class"]),$o(d,{class:"status-text"},{default:Tn(()=>[Vo(te(a()),1)]),_:1})]),_:1})]),_:1})]),_:1}),$o(d,{class:"device-overview"},{default:Tn(()=>[$o(d,{class:"wear-status-card"},{default:Tn(()=>[$o(d,{class:"card-title"},{default:Tn(()=>[Vo("")]),_:1}),$o(d,{class:"status-content"},{default:Tn(()=>[$o(d,{class:Xe(["status-icon",l()])},null,8,["class"]),$o(d,{class:"status-text"},{default:Tn(()=>[Vo(te(a()),1)]),_:1})]),_:1}),"abnormal"===r.value?(Oo(),Do(d,{key:0,class:"wear-alert"},{default:Tn(()=>[Vo("")]),_:1})):Ho("",!0)]),_:1}),$o(d,{class:"time-card"},{default:Tn(()=>[$o(d,{class:"card-title"},{default:Tn(()=>[Vo("")]),_:1}),$o(d,{class:"time-content"},{default:Tn(()=>[$o(d,{class:"current-time"},{default:Tn(()=>[Vo(te(n.value),1)]),_:1}),$o(d,{class:"total-required"},{default:Tn(()=>[Vo(te(i.value)+"/",1)]),_:1})]),_:1})]),_:1}),$o(d,{class:"remaining-card"},{default:Tn(()=>[$o(d,{class:"card-title"},{default:Tn(()=>[Vo("")]),_:1}),$o(d,{class:"remaining-content"},{default:Tn(()=>[$o(d,{class:"remaining-time"},{default:Tn(()=>[Vo(te(o.value),1)]),_:1}),$o(d,{class:"time-unit"},{default:Tn(()=>[Vo("")]),_:1})]),_:1})]),_:1})]),_:1}),$o(d,{class:"warning-section"},{default:Tn(()=>[Uo("h2",{class:"section-title"},""),s.value.length>0?(Oo(),Do(d,{key:0,class:"warning-list"},{default:Tn(()=>[(Oo(!0),Ro(To,null,Ii(s.value,e=>(Oo(),Do(d,{key:e.id,class:Xe(["warning-item",e.type])},{default:Tn(()=>[$o(d,{class:"warning-icon"}),$o(d,{class:"warning-content"},{default:Tn(()=>[$o(d,{class:"warning-title"},{default:Tn(()=>[Vo(te(e.title),1)]),_:2},1024),$o(d,{class:"warning-time"},{default:Tn(()=>[Vo(te(e.time),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})):(Oo(),Do(d,{key:1,class:"no-warning"},{default:Tn(()=>[Vo("  ")]),_:1}))]),_:1}),$o(d,{class:"quick-actions"},{default:Tn(()=>[$o(d,{class:"action-button",onClick:c},{default:Tn(()=>[$o(d,{class:"action-icon realtime"}),$o(d,{class:"action-text"},{default:Tn(()=>[Vo("")]),_:1})]),_:1}),$o(d,{class:"action-button",onClick:u},{default:Tn(()=>[$o(d,{class:"action-icon chart"}),$o(d,{class:"action-text"},{default:Tn(()=>[Vo("")]),_:1})]),_:1}),$o(d,{class:"action-button",onClick:h},{default:Tn(()=>[$o(d,{class:"action-icon setting"}),$o(d,{class:"action-text"},{default:Tn(()=>[Vo("")]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-cc624aa1"]]),xA=Object.freeze(Object.defineProperty({__proto__:null,default:_A},Symbol.toStringTag,{value:"Module"})),wA=Xy(ni({__name:"realtime-monitor",setup(e){const t=$r(!1),r=$r(0),n=$r("safe"),i=$r("worn"),o=$r(75),s=$r("01:30"),a=$r("00:00"),l=$r([]),u=$r(null);let h=null,f=!1;const d=hs(()=>{if(0===l.value.length)return 0;const e=l.value.slice(-20),t=e.reduce((e,t)=>e+t,0);return Math.round(t/e.length*10)/10}),p=hs(()=>{switch(n.value){case"safe":default:return"safe";case"warning":return"warning";case"danger":return"danger"}}),g=hs(()=>{switch(n.value){case"safe":return"";case"warning":return"";case"danger":return"";default:return""}}),y=hs(()=>{switch(i.value){case"worn":default:return"worn";case"not-worn":return"not-worn";case"abnormal":return"abnormal"}}),m=hs(()=>{switch(i.value){case"worn":return"";case"not-worn":return"";case"abnormal":return"";default:return""}}),v=hs(()=>{const e=wv,t=e.normalMax-e.normalMin;let n=(r.value-e.normalMin)/t*100;return n=Math.max(0,Math.min(100,n)),{left:`${n}%`}}),b=hs(()=>({width:`${o.value}%`})),_=()=>{const e=wv.normalMin,t=wv.normalMax,i=Math.floor(Math.random()*(t-e+1))+e;r.value=i;const o=wv;n.value=i>o.warningMax?"danger":i<o.warningMin?"warning":"safe";const s=new Date,c=s.getHours().toString().padStart(2,"0"),u=s.getMinutes().toString().padStart(2,"0");a.value=`${c}:${u}`,l.value.length>50&&l.value.shift(),l.value.push(i),x()},x=()=>{try{if(!h)return f?void console.warn(""):(console.warn("..."),f=!0,void w().then(e=>{f=!1,e?x():console.error("")}).catch(e=>{f=!1,console.error(":",e)}));if(0===l.value.length)return;const e=l.value.slice(-20),t={categories:e.map((e,t)=>`#${t+1}`),series:[{name:"",data:e,color:"#1890ff"}]};console.log(":",Object.keys(h)),"function"==typeof h.updateData?(console.log("updateData"),h.updateData(t)):"function"==typeof h.setData?(console.log("setData"),h.setData(t)):"function"==typeof h.draw?(console.log("draw"),h.draw(t)):console.error("")}catch(e){console.error(":",e)}},w=async()=>{if(f)return console.warn(""),!1;f=!0;try{console.log("..."),await cn();const e=await new Promise((e,t)=>{if(u.value){const r=u.value.canvas||u.value;r?e({node:r,width:r.width||300,height:r.height||200}):t(new Error("refcanvas"))}else{af().select("#pressureChart").fields({node:!0,size:!0}).exec(r=>{Array.isArray(r)&&r.length>0&&r[0]&&r[0].node?e({node:r[0].node,width:r[0].width||300,height:r[0].height||200}):t(new Error("canvas"))})}});console.log("canvas:",e);const t=e.node,r=t.getContext("2d");if(!r)throw new Error("canvas 2D");let n=e.width,i=e.height;0!==n&&0!==i||(console.warn("Canvas0"),n=300,i=200,t.width=n,t.height=i),console.log("Canvas:",{width:n,height:i,ctx:!!r});const o=l.value.length>0?l.value.slice(-20):Array.from({length:20},(e,t)=>Math.floor(20*Math.random())+10),s={categories:o.map((e,t)=>`#${t+1}`),series:[{name:"",data:o,color:"#1890ff"}]};console.log(":",s);const a=await c(()=>Promise.resolve().then(()=>xv),void 0,import.meta.url),f=a.default||a;if(console.log("uCharts:",typeof f),"function"!=typeof f)throw new Error("uCharts");const d={context:r,type:"line",fontSize:12,legend:!1,dataLabel:!1,dataPointShape:!1,background:"#FFFFFF",pixelRatio:Pg().pixelRatio,categories:s.categories,series:s.series,animation:!0,xAxis:{disableGrid:!0,axisLine:!1,axisLabel:!1},yAxis:{gridType:"dash",dashLength:2,splitNumber:5,min:wv.normalMin,max:wv.normalMax},width:n,height:i,extra:{line:{type:"straight",width:2}}};return console.log(":",JSON.stringify(d,(e,t)=>"context"===e?"[CanvasRenderingContext2D]":t)),h=new f(d),console.log(":",h),console.log(":",Object.keys(h)),!0}catch(e){return console.error(":",e),h=null,!1}finally{f=!1}};let S;return Si(async()=>{new Promise(e=>{try{vA=!0,console.log("MQTT"),e(!0)}catch(t){console.error("MQTT:",t),vA=!1,ey({title:"MQTT",icon:"none",duration:2e3}),e(!1)}}),t.value=bA();try{await w(),console.log("")}catch(r){console.error(":",r)}_();let e=Date.now();S=setInterval(()=>{if(_(),Math.random()>.98&&(t.value=!t.value),Math.random()>.97){const t=["worn","not-worn","abnormal"],r=t[Math.floor(Math.random()*t.length)];"worn"!==i.value&&"worn"===r&&(e=Date.now()),i.value=r}if("worn"===i.value){const t=Date.now()-e,r=Math.floor(t/36e5),n=Math.floor(t%36e5/6e4);s.value=`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}Math.random()>.99&&(o.value=Math.max(0,o.value-1))},2e3)}),ki(()=>{S&&clearInterval(S)}),(e,n)=>{const i=Fp;return Oo(),Do(i,{class:"realtime-monitor-page"},{default:Tn(()=>[$o(i,{class:"page-header"},{default:Tn(()=>[t.value?(Oo(),Do(i,{key:0,class:"monitor-status"},{default:Tn(()=>[$o(i,{class:"status-dot connected"}),$o(i,{class:"status-text"},{default:Tn(()=>[Vo("")]),_:1})]),_:1})):Ho("",!0)]),_:1}),$o(i,{class:"main-content"},{default:Tn(()=>[$o(i,{class:"pressure-section"},{default:Tn(()=>[$o(i,{class:"pressure-header"},{default:Tn(()=>[Uo("h2",{class:"section-title"},""),$o(i,{class:"update-time"},{default:Tn(()=>[Vo(": "+te(a.value),1)]),_:1})]),_:1}),$o(i,{class:"pressure-display"},{default:Tn(()=>[$o(i,{class:"pressure-value"},{default:Tn(()=>[Vo(te(r.value),1)]),_:1}),$o(i,{class:"pressure-unit"},{default:Tn(()=>[Vo("kPa")]),_:1})]),_:1}),$o(i,{class:Xe(["pressure-status",p.value])},{default:Tn(()=>[$o(i,{class:"status-icon"}),$o(i,{class:"status-text"},{default:Tn(()=>[Vo(te(g.value),1)]),_:1})]),_:1},8,["class"]),$o(i,{class:"pressure-range"},{default:Tn(()=>[$o(i,{class:"range-bar"},{default:Tn(()=>[$o(i,{class:"range-section safe"}),$o(i,{class:"range-section warning"}),$o(i,{class:"range-section danger"})]),_:1}),$o(i,{class:"range-indicator",style:Ke(v.value)},null,8,["style"])]),_:1})]),_:1}),$o(i,{class:"wear-info-section"},{default:Tn(()=>[Uo("h2",{class:"section-title"},""),$o(i,{class:"info-cards"},{default:Tn(()=>[$o(i,{class:"info-card"},{default:Tn(()=>[$o(i,{class:"card-label"},{default:Tn(()=>[Vo("")]),_:1}),$o(i,{class:Xe(["card-value",y.value])},{default:Tn(()=>[Vo(te(m.value),1)]),_:1},8,["class"])]),_:1}),$o(i,{class:"info-card"},{default:Tn(()=>[$o(i,{class:"card-label"},{default:Tn(()=>[Vo("")]),_:1}),$o(i,{class:"card-value battery"},{default:Tn(()=>[$o(i,{class:"battery-icon"},{default:Tn(()=>[$o(i,{class:"battery-fill",style:Ke(b.value)},null,8,["style"])]),_:1}),$o(i,{class:"battery-percent"},{default:Tn(()=>[Vo(te(o.value)+"%",1)]),_:1})]),_:1})]),_:1}),$o(i,{class:"info-card"},{default:Tn(()=>[$o(i,{class:"card-label"},{default:Tn(()=>[Vo("")]),_:1}),$o(i,{class:"card-value"},{default:Tn(()=>[Vo(te(s.value),1)]),_:1})]),_:1}),$o(i,{class:"info-card"},{default:Tn(()=>[$o(i,{class:"card-label"},{default:Tn(()=>[Vo("")]),_:1}),$o(i,{class:"card-value"},{default:Tn(()=>[Vo(te(d.value)+" kPa",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-85803938"]]),SA=Object.freeze(Object.defineProperty({__proto__:null,default:wA},Symbol.toStringTag,{value:"Module"})),TA=Xy(ni({__name:"daily-chart",setup(e){const t=$r([]),r=$r("00:00"),n=$r(0),i=$r("00:00"),o=$r(0),s=$r(null),a=$r(null);let l=null,c=null;const u=e=>{const t={categories:e.map(e=>e.dateLabel),series:[{name:"",data:e.map(e=>e.wearTimeMinutes/60),color:"#1890ff"},{name:"",data:e.map(()=>Sv.targetTime),color:"#ff4d4f",type:"line"}]},r=80*e.length+100,n=af();n.select("#wearTimeChart").fields({node:!0,size:!0}),n.exec(e=>{if(e&&e[0]&&e[0].node){const i=e[0].node,o=i.getContext("2d",{alpha:!0});if(Pg(),!o)return void console.error("canvas");e[0].width;const s=e[0].height,a=300,c=200,u=Math.max(r,a),h=Math.max(s||0,c);i.width=u,i.height=h;try{const e={context:o,canvas:i,width:u,height:h,type:"column",fontSize:12,legend:!0,dataLabel:!0,dataPointShape:!0,background:"#FFFFFF",pixelRatio:1,categories:t.categories,series:t.series,animation:!0,xAxis:{disableGrid:!0,rotateLabel:30},yAxis:{gridType:"dash",dashLength:2,splitNumber:5},extra:{column:{width:12},line:{type:"straight",width:2}}};if(!e)return void console.error("options");console.log(":",e),l=new _v(e),console.log("",u,"x",h)}catch(n){console.error(":",n)}}else console.error("canvas",e)})},h=e=>{const t={categories:e.map(e=>e.dateLabel),series:[{name:"",data:e.map(e=>e.avgPressure),color:"#52c41a"}]};e.length;const r=af();r.select("#pressureChart").fields({node:!0,size:!0}),r.exec(e=>{if(e&&e[0]&&e[0].node){const n=e[0].node,i=n.getContext("2d",{alpha:!0});if(Pg(),!i)return void console.error("canvas");e[0].width;const o=e[0].height,s=200,a=600,l=Math.max(o||0,s);n.width=a,n.height=l;try{const e={context:i,canvas:n,width:a,height:l,type:"line",fontSize:12,legend:!0,dataLabel:!1,dataPointShape:!0,background:"#FFFFFF",pixelRatio:1,categories:t.categories,series:t.series,animation:!0,xAxis:{disableGrid:!0,rotateLabel:30},yAxis:{gridType:"dash",dashLength:2,splitNumber:5},extra:{line:{type:"straight",width:1.5},point:{size:3}}};if(!e)return void console.error("options");console.log(":",e),c=new _v(e),console.log("",a,"x",l)}catch(r){console.error(":",r)}}else console.error("canvas",e)})};return Si(()=>{const e=(()=>{const e=[],s=new Date;for(let t=6;t>=0;t--){const r=new Date(s);r.setDate(r.getDate()-t);const n=r.getFullYear()+"-"+String(r.getMonth()+1).padStart(2,"0")+"-"+String(r.getDate()).padStart(2,"0"),i=Av(n),o=i.filter(e=>e.worn).length,a=i.filter(e=>e.worn).reduce((e,t)=>e+t.pressure,0),l=30*o,c=o>0?Math.round(a/o):0,u=Math.floor(l/60),h=l%60,f=`${String(u).padStart(2,"0")}:${String(h).padStart(2,"0")}`;let d="abnormal",p="";u>=Sv.targetTime&&(d="normal",p=""),e.push({date:n,dateLabel:String(r.getMonth()+1)+"/"+String(r.getDate()),wearTime:f,wearTimeMinutes:l,avgPressure:c,status:d,statusText:p})}t.value=e;const a=e.reduce((e,t)=>e+t.wearTimeMinutes,0),l=e.length,c=Math.round(a/l),u=e.filter(e=>"normal"===e.status).length,h=Math.floor(c/60);r.value=`${h}`,n.value=Math.round(u/l*100);const f=Math.floor(a/60);return i.value=`${f}`,o.value=Math.round(e.reduce((e,t)=>e+t.avgPressure,0)/l),e})();console.log(":",e),setTimeout(()=>{try{u(e),h(e)}catch(t){console.error(":",t)}},300)}),lf(()=>{setTimeout(()=>{t.value.length>0&&(u(t.value),h(t.value))},100)}),(e,l)=>{const c=Fp,u=Wd,h=Ip;return Oo(),Do(c,{class:"daily-chart-page"},{default:Tn(()=>[$o(c,{class:"page-header"},{default:Tn(()=>[$o(c,{class:"date-range"},{default:Tn(()=>[$o(c,{class:"range-text"},{default:Tn(()=>[Vo("7")]),_:1})]),_:1})]),_:1}),$o(c,{class:"stats-overview"},{default:Tn(()=>[$o(c,{class:"stat-card"},{default:Tn(()=>[Uo("div",{class:"stat-value"},te(r.value),1),Uo("div",{class:"stat-label"},"")]),_:1}),$o(c,{class:"stat-card"},{default:Tn(()=>[Uo("div",{class:"stat-value"},te(n.value)+"%",1),Uo("div",{class:"stat-label"},"")]),_:1}),$o(c,{class:"stat-card"},{default:Tn(()=>[Uo("div",{class:"stat-value"},te(i.value),1),Uo("div",{class:"stat-label"},"")]),_:1}),$o(c,{class:"stat-card"},{default:Tn(()=>[Uo("div",{class:"stat-value"},te(o.value),1),Uo("div",{class:"stat-label"},"")]),_:1})]),_:1}),$o(c,{class:"charts-section"},{default:Tn(()=>[$o(c,{class:"chart-card"},{default:Tn(()=>[Uo("h2",{class:"chart-title"},""),$o(h,{class:"chart-container","scroll-x":"true","enable-flex":"true","show-scrollbar":"false"},{default:Tn(()=>[$o(u,{ref_key:"wearTimeChartRef",ref:s,id:"wearTimeChart",class:"chart"},null,512)]),_:1})]),_:1}),$o(c,{class:"chart-card"},{default:Tn(()=>[Uo("h2",{class:"chart-title"},""),$o(h,{class:"chart-container","scroll-x":"true","enable-flex":"true","show-scrollbar":"false"},{default:Tn(()=>[$o(u,{ref_key:"pressureChartRef",ref:a,id:"pressureChart",class:"chart"},null,512)]),_:1})]),_:1})]),_:1}),$o(c,{class:"daily-list"},{default:Tn(()=>[Uo("h2",{class:"section-title"},""),$o(c,{class:"list-items"},{default:Tn(()=>[(Oo(!0),Ro(To,null,Ii(t.value,e=>(Oo(),Do(c,{key:e.date,class:Xe(["list-item",e.status])},{default:Tn(()=>[$o(c,{class:"item-left"},{default:Tn(()=>[Uo("div",{class:"item-date"},te(e.date),1),Uo("div",{class:"item-status"},te(e.statusText),1)]),_:2},1024),$o(c,{class:"item-right"},{default:Tn(()=>[Uo("div",{class:"item-time"},te(e.wearTime),1),Uo("div",{class:"item-pressure"},te(e.avgPressure)+"kPa",1)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-f100649a"]]),EA=Object.freeze(Object.defineProperty({__proto__:null,default:TA},Symbol.toStringTag,{value:"Module"})),AA=Xy({__name:"report-setting",setup(e){const t=$r(!0),r=$r(1),n=$r("19:00"),i=$r(!0),o=$r(!0),s=$r(!0),a=$r(!1),l=$r(Sv.bathTimeStart+":00"),c=$r(Sv.bathTimeEnd+":00"),u=["","",""],h=e=>{t.value=e.detail.value},f=e=>{r.value=e.detail.value},d=e=>{n.value=e.detail.value},p=e=>{i.value=e.detail.value},g=e=>{o.value=e.detail.value},y=e=>{s.value=e.detail.value},m=e=>{a.value=e.detail.value},v=e=>{l.value=e.detail.value},b=e=>{c.value=e.detail.value},_=()=>{const e={reportEnabled:t.value,reportPeriod:r.value,reportTime:n.value,pressureAlert:i.value,wearAlert:o.value,batteryAlert:s.value,offlineAlert:a.value,bathStartTime:l.value,bathEndTime:c.value};Og("reportSettings",e),ey({title:"",icon:"success",duration:2e3}),Sv.bathTimeStart=parseInt(l.value.split(":")[0]),Sv.bathTimeEnd=parseInt(c.value.split(":")[0])};return Si(()=>{const e=Ig("reportSettings");e&&(t.value=void 0===e.reportEnabled||e.reportEnabled,r.value=void 0!==e.reportPeriod?e.reportPeriod:1,n.value=e.reportTime||"19:00",i.value=void 0===e.pressureAlert||e.pressureAlert,o.value=void 0===e.wearAlert||e.wearAlert,s.value=void 0===e.batteryAlert||e.batteryAlert,a.value=void 0!==e.offlineAlert&&e.offlineAlert,l.value=e.bathStartTime||Sv.bathTimeStart+":00",c.value=e.bathEndTime||Sv.bathTimeEnd+":00",Sv.bathTimeStart=parseInt(l.value.split(":")[0]),Sv.bathTimeEnd=parseInt(c.value.split(":")[0]))}),(e,x)=>{const w=Fp,S=Lp,T=fy,E=th;return Oo(),Do(w,{class:"report-setting-page"},{default:Tn(()=>[$o(w,{class:"page-header"}),$o(w,{class:"settings-section"},{default:Tn(()=>[Uo("h2",{class:"section-title"},""),$o(w,{class:"setting-group"},{default:Tn(()=>[$o(w,{class:"setting-item"},{default:Tn(()=>[$o(w,{class:"item-left"},{default:Tn(()=>[Uo("div",{class:"item-label"},""),Uo("div",{class:"item-desc"},"")]),_:1}),$o(w,{class:"item-right"},{default:Tn(()=>[$o(S,{checked:t.value,onChange:h,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),t.value?(Oo(),Do(w,{key:0,class:"setting-item"},{default:Tn(()=>[$o(w,{class:"item-left"},{default:Tn(()=>[Uo("div",{class:"item-label"},""),Uo("div",{class:"item-desc"},"")]),_:1}),$o(w,{class:"item-right"},{default:Tn(()=>[$o(T,{value:r.value,range:u,onChange:f},{default:Tn(()=>[$o(w,{class:"picker-text"},{default:Tn(()=>[Vo(te(u[r.value]),1)]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})):Ho("",!0),t.value?(Oo(),Do(w,{key:1,class:"setting-item"},{default:Tn(()=>[$o(w,{class:"item-left"},{default:Tn(()=>[Uo("div",{class:"item-label"},""),Uo("div",{class:"item-desc"},"")]),_:1}),$o(w,{class:"item-right"},{default:Tn(()=>[$o(T,{mode:"time",value:n.value,onChange:d},{default:Tn(()=>[$o(w,{class:"picker-text"},{default:Tn(()=>[Vo(te(n.value),1)]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})):Ho("",!0)]),_:1})]),_:1}),$o(w,{class:"settings-section"},{default:Tn(()=>[Uo("h2",{class:"section-title"},""),$o(w,{class:"setting-group"},{default:Tn(()=>[$o(w,{class:"setting-item"},{default:Tn(()=>[$o(w,{class:"item-left"},{default:Tn(()=>[Uo("div",{class:"item-label"},""),Uo("div",{class:"item-desc"},"")]),_:1}),$o(w,{class:"item-right"},{default:Tn(()=>[$o(S,{checked:i.value,onChange:p,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),$o(w,{class:"setting-item"},{default:Tn(()=>[$o(w,{class:"item-left"},{default:Tn(()=>[Uo("div",{class:"item-label"},""),Uo("div",{class:"item-desc"},"")]),_:1}),$o(w,{class:"item-right"},{default:Tn(()=>[$o(S,{checked:o.value,onChange:g,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),$o(w,{class:"setting-item"},{default:Tn(()=>[$o(w,{class:"item-left"},{default:Tn(()=>[Uo("div",{class:"item-label"},""),Uo("div",{class:"item-desc"},"20%")]),_:1}),$o(w,{class:"item-right"},{default:Tn(()=>[$o(S,{checked:s.value,onChange:y,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1}),$o(w,{class:"setting-item"},{default:Tn(()=>[$o(w,{class:"item-left"},{default:Tn(()=>[Uo("div",{class:"item-label"},""),Uo("div",{class:"item-desc"},"")]),_:1}),$o(w,{class:"item-right"},{default:Tn(()=>[$o(S,{checked:a.value,onChange:m,color:"#1890ff"},null,8,["checked"])]),_:1})]),_:1})]),_:1})]),_:1}),$o(w,{class:"settings-section"},{default:Tn(()=>[Uo("h2",{class:"section-title"},""),Uo("div",{class:"section-desc"},""),$o(w,{class:"setting-group"},{default:Tn(()=>[$o(w,{class:"setting-item"},{default:Tn(()=>[$o(w,{class:"item-left"},{default:Tn(()=>[Uo("div",{class:"item-label"},"")]),_:1}),$o(w,{class:"item-right"},{default:Tn(()=>[$o(T,{mode:"time",modelValue:l.value,"onUpdate:modelValue":x[0]||(x[0]=e=>l.value=e),onChange:v},{default:Tn(()=>[$o(w,{class:"picker-text"},{default:Tn(()=>[Vo(te(l.value),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),$o(w,{class:"setting-item"},{default:Tn(()=>[$o(w,{class:"item-left"},{default:Tn(()=>[Uo("div",{class:"item-label"},"")]),_:1}),$o(w,{class:"item-right"},{default:Tn(()=>[$o(T,{mode:"time",modelValue:c.value,"onUpdate:modelValue":x[1]||(x[1]=e=>c.value=e),onChange:b},{default:Tn(()=>[$o(w,{class:"picker-text"},{default:Tn(()=>[Vo(te(c.value),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),$o(w,{class:"save-section"},{default:Tn(()=>[$o(E,{class:"save-button",onClick:_},{default:Tn(()=>[Vo("")]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-5517f04a"]]),kA=Object.freeze(Object.defineProperty({__proto__:null,default:AA},Symbol.toStringTag,{value:"Module"}));
