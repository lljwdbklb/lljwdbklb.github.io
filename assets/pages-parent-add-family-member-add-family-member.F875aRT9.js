import{d as e,r as a,c as l,w as s,i as t,o as n,a as o,b as u,e as m,I as r,f as i,s as d,O as c,m as p,g as f}from"./index-p-adsUdp.js";import{_ as h}from"./plugin-vueexport-helper.BCo6x5W8.js";const v=h(e({__name:"add-family-member",setup(e){const h=a({name:"",phone:"",isDefault:!1}),v=()=>{if(!h.value.name.trim())return void d({title:"请输入姓名",icon:"none"});if(!h.value.phone.trim()||!/^1[3-9]\d{9}$/.test(h.value.phone))return void d({title:"请输入正确的手机号",icon:"none"});const e=(()=>{const e=p("familyMembers");return e&&e.length>0?JSON.parse(e):[]})();if(e.some(e=>e.phone===h.value.phone))return void d({title:"该手机号已存在",icon:"none"});const a=0===e.length;var l;e.push({name:h.value.name.trim(),phone:h.value.phone.trim(),isDefault:a}),l=e,f("familyMembers",JSON.stringify(l)),d({title:"添加成功",icon:"success",success:()=>{setTimeout(()=>{c()},1500)}})};return(e,a)=>{const d=u,c=r,p=t,f=i;return n(),l(p,{class:"add-family-member-container"},{default:s(()=>[o(p,{class:"content"},{default:s(()=>[o(p,{class:"form-group"},{default:s(()=>[o(d,{class:"label"},{default:s(()=>[m("姓名")]),_:1}),o(c,{modelValue:h.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value.name=e),type:"text",placeholder:"请输入姓名",class:"input",maxlength:"10"},null,8,["modelValue"])]),_:1}),o(p,{class:"form-group"},{default:s(()=>[o(d,{class:"label"},{default:s(()=>[m("手机号")]),_:1}),o(c,{modelValue:h.value.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>h.value.phone=e),type:"number",placeholder:"请输入手机号",class:"input",maxlength:"11"},null,8,["modelValue"])]),_:1}),o(f,{class:"add-btn",onClick:v},{default:s(()=>[m("添加成员")]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-5e51eeee"]]);export{v as default};
